function retrieveDropdownMenuProps(e){var t,n={};return n.id=null===e.id?"dropdown_menu_"+Math.floor(900*Math.random()):e.id,n.target=document.getElementById(e.getAttribute("data-target")),n.toggler=null===(t=e.getAttribute("data-toggler"))?n.target:t,n.pos=e.getAttribute("data-pos"),n.options=getClasses(e,"choice"),n}function updateDropdownMenuPos(e){var t=retrieveDropdownMenuProps(e),n=document.body.getBoundingClientRect(),o=t.target.getBoundingClientRect();e.style.top="calc("+(n.top+"").replace("-","")+"px + "+o.top+"px)",e.style.left=o.left+"px",e.style.bottom="calc("+n.top+"px + "+n.height+"px - "+o.bottom+"px)",e.style.right="calc(100% - "+o.right+"px)"}function toggleDropdownMenu(n){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],t=retrieveDropdownMenuProps(n),o=(document.body.getBoundingClientRect(),t.target.getBoundingClientRect(),"true"==n.getAttribute("data-expanded"));function r(){n.setAttribute("data-expanded",!o),t.toggler.setAttribute("aria-expanded",!o),t.toggler.setAttribute("aria-pressed",!o)}!1==o?(updateDropdownMenuPos(n),vishidden(n,!1),setTimeout(function(){r(),window.addEventListener("click",checkDropdownMenuClick),window.addEventListener("keydown",checkDropdownMenuKey),function(){var e=n.getElementsByClassName("choice");for(i=0;i<e.length;i++){var t=e[i];if("true"==t.getAttribute("data-pressed"))return t.focus()}e[0].focus()}()},50)):(r(),window.removeEventListener("click",checkDropdownMenuClick),window.removeEventListener("keydown",checkDropdownMenuKey),setTimeout(function(){vishidden(n,!0),!1===e?t.toggler.focus():document.activeElement.blur()},250))}function addDropdownMenuListeners(e,t){var n=getClasses(e,"choice"),o=!0,r=!1,i=void 0;try{for(var a,d=n[Symbol.iterator]();!(o=(a=d.next()).done);o=!0){a.value.addEventListener("click",t)}}catch(e){r=!0,i=e}finally{try{o||null==d.return||d.return()}finally{if(r)throw i}}}function setupDropdownMenu(a){var e,t,d=retrieveDropdownMenuProps(a);t=document.getElementById("dropdown_menu_container"),function(){var e=document.createElement("div"),t=a.getElementsByClassName("choice");for(addClass(a,"configured"),a.id=d.id,updateDropdownMenuPos(a),a.setAttribute("data-expanded",!1),vishidden(a,!0),e.className="arrow",a.getElementsByClassName("choice-list")[0].setAttribute("role","menu"),i=0;i<t.length;i++){var n=t[i],o=d.id+"_item_"+i+"_label",r=document.createElement("span");r.id=o,r.innerHTML=n.innerHTML,n.setAttribute("role","menuitem"),n.setAttribute("aria-labelledby",o),n.innerHTML="",n.appendChild(r)}a.appendChild(e)}(),d.target.classList.add("dropdown-menu-target"),(e=d.toggler).setAttribute("data-toggles-dropdown-menu",a.id),e.setAttribute("aria-haspopup","menu"),e.setAttribute("aria-expanded",!1),e.setAttribute("aria-pressed",!1),e.setAttribute("autocomplete",!1),function(){for(var o=d.options,e=0;e<o.length;e++)!function(e){var n=o[e];hasClass(a,"o-press")&&n.addEventListener("click",function(e){setTimeout(function(){for(var e=0;e<o.length;e++){var t=o[e];"true"==t.getAttribute("aria-pressed")&&t.setAttribute("aria-pressed",!1)}n.setAttribute("aria-pressed",!0)},500)}),hasClass(a,"o-toggle")&&n.addEventListener("click",function(e){toggleDropdownMenu(a)})}(e)}(),t||((t=document.createElement("div")).className="dropdown-menu-container",t.id="dropdown_menu_container",document.body.insertBefore(t,document.body.childNodes[0])),t.appendChild(a)}function checkDropdownMenuClick(e){var t=e.target,n=function(){var e=document.getElementsByClassName("dropdown-menu");for(i=0;i<e.length;i++)if("true"==e[i].getAttribute("data-expanded"))return e[i]}();do{if(t==n)return;t=t.parentNode}while(t);toggleDropdownMenu(n,!0)}function checkDropdownMenuKey(e){var t=e.target,n=function(){var e=document.getElementsByClassName("dropdown-menu");for(i=0;i<e.length;i++)if("true"==e[i].getAttribute("data-expanded"))return e[i]}(),o=n.getElementsByClassName("choice"),r=o[0],a=o[o.length-1];!0===e.shiftKey&&"Tab"==e.key&&t==r||!1===e.shiftKey&&"Tab"==e.key&&t==a?(e.preventDefault(),t==r?a.focus():t==a&&r.focus()):"Escape"==e.key&&(e.preventDefault(),toggleDropdownMenu(n))}!function(){var e=setInterval(function(){globalFunctionsReady&&(clearInterval(e),function(){var e=document.getElementsByClassName("dropdown-menu"),t=!0,n=!1,o=void 0;try{for(var r,i=e[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;hasClass(a,"no-auto-config")||setupDropdownMenu(a)}}catch(e){n=!0,o=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw o}}}(),window.addEventListener("click",function(e){var t="data-toggles-dropdown-menu",n=e.target,o=n.getAttribute(t),r=findAttr(n,"up","exist",t);function i(e){toggleDropdownMenu(document.getElementById(e))}(o||r)&&i(o||r.getAttribute(t))}),window.addEventListener("resize",function(e){var t=document.getElementById("dropdown_menu_container");if(t){var n=getClasses(t,"dropdown-menu"),o=!0,r=!1,i=void 0;try{for(var a,d=n[Symbol.iterator]();!(o=(a=d.next()).done);o=!0){var u=a.value;"true"==u.getAttribute("data-expanded")&&updateDropdownMenuPos(u)}}catch(e){r=!0,i=e}finally{try{o||null==d.return||d.return()}finally{if(r)throw i}}}}))},250)}();