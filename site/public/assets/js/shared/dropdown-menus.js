var dropdownMenuListeners={};function getDropdownMenuProps(t){try{if(!t)throw"Provided dropdown is not a valid Element.";if(void 0===t.getElementsByClassName)throw"Provided dropdown is not currently in the DOM. getDropdownMenuProps() can only be called for Dropdown Menus that are currently present in the DOM.";if(!dom.has(t,"class","dropdown-menu"))throw"Provided dropdown is not a valid Dropdown Menu.";return{name:dom.get(t,"attr","data-dropdown"),id:dom.get(t,"attr","id"),toggle:function(){if(dom.has(t,"attr","id")){var o=dom.find.child(document.body,"attr","data-dropdown-menu-toggle",t.id);if(o)return o}var e=dom.find.child(t.parentNode,"class","dropdown-menu-toggle");return e||!1}(),modes:{toggleDropdown:dom.has(t,"class","o-toggle"),toggleButton:dom.has(t,"class","o-press")},choices:!!(o=dom.find.child(t,"class","choice-list"))&&dom.find.children(o,"class","choice")}}catch(o){return console.error("getDropdownMenuProps Error: ".concat(o)),!1}var o}function updateDropdownMenuPos(o){var e=getDropdownMenuProps(o);try{if(!o||!dom.has(o,"class","dropdown-menu"))throw"Provided dropdown is not a valid Dropdown Menu.";if(document.body&&e.toggle){var t=dom.has(o,"class","sticky"),n={body:document.body.getBoundingClientRect(),toggle:e.toggle.getBoundingClientRect(),last:{x:dom.get(o,"attr","data-last-pos-x"),y:dom.get(o,"attr","data-last-pos-y")}},d={top:t?"".concat(n.toggle.top,"px"):"calc(".concat(n.body.top.toString().replace("-",""),"px + ").concat(n.toggle.top,"px)"),right:"calc(100% - ".concat(n.toggle.right,"px)"),bottom:t?"calc(".concat(n.body.height,"px - ").concat(n.toggle.bottom,"px)"):"calc(".concat(n.body.top,"px + ").concat(n.body.height,"px - ").concat(n.toggle.bottom,"px)"),left:"".concat(n.toggle.left,"px")};return o.style.inset&&dom.has(o,"class","sticky")||(o.style.inset=Object.values(d).join(" ")),!0}return!1}catch(o){return console.error("updateDropdownMenuPos Error: ".concat(o)),!1}}function addDropdownMenuListener(o,e){try{if(void 0===o||"string"!=typeof o)throw"A valid Dropdown Name must be provided.";if(void 0===e||"Function"!=e.constructor.name)throw"Provided callback is not a callable function.";return dropdownMenuListeners[o]||(dropdownMenuListeners[o]=[]),dropdownMenuListeners[o].push(e),!0}catch(o){return console.error("addDropdownMenuListener Error: ".concat(o)),!1}}function updateDropdownMenu(o,e){var t=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];try{if(void 0===o||!o||!dom.has(o,"class","dropdown-menu"))throw"Provided dropdown is not a valid Dropdown Menu.";if(void 0===e||"string"!=typeof e||!dom.find.child(o,"attr","data-value",e))throw"A valid option must be provided.";var n=getDropdownMenuProps(o),d=dom.find.child(o,"attr","data-value",e);if(t){var r=dropdownMenuListeners[n.name];if(r){var a=!0,i=!1,c=void 0;try{for(var l,s=r[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){(0,l.value)(e,d,o)}}catch(o){i=!0,c=o}finally{try{a||null==s.return||s.return()}finally{if(i)throw c}}}}if(n.modes.toggleButton){var u=!0,p=!1,g=void 0;try{for(var f,h=n.choices[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var m=f.value,w=dom.get(m,"attr","data-value");edit.attr(m,"update","aria-pressed",w==e)}}catch(o){p=!0,g=o}finally{try{u||null==h.return||h.return()}finally{if(p)throw g}}}return t&&n.modes.toggleDropdown&&toggleDropdownMenu(o,!0),!0}catch(o){return console.error("updateDropdownMenu Error: ".concat(o)),!1}}function toggleDropdownMenu(o){var e,t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=getDropdownMenuProps(o);try{function d(){var o=n.toggle;o&&(edit.attr(o,"update","aria-pressed",!i),edit.attr(o,"update","aria-expanded",!i))}if(!o||!dom.has(o,"class","dropdown-menu"))throw"Provided dropdown is not a valid Dropdown Menu.";var r,g,a=dom.find.id("dropdown_menu_container"),i=0<a.childNodes.length&&a.childNodes[0]==o,c="".concat(n.id,"_placeholder");return i?(r=dom.find.id(c),d(),isHidden(o,!0),focusLock.clear(),setTimeout(function(){isDisabled(n.toggle,!1),t?n.toggle.focus():document.activeElement.blur(),console.log(r,o),r.parentNode.replaceChild(o,r)},250)):(g=edit.copy(o),d(),edit.attr(o,"update","id",c),a.appendChild(g),updateDropdownMenuPos(g),e=[g.childNodes[0],g.childNodes[1]],n.toggle&&e.push(n.toggle),focusLock.set(e,function(){toggleDropdownMenu(g)}),function(){var o=dom.find.children(g,"class","choice");if(o){var e=!0,t=!1,n=void 0;try{for(var d,r=o[Symbol.iterator]();!(e=(d=r.next()).done);e=!0){var a=d.value;if(dom.has(a,"attr","aria-pressed","true"))return a.focus()}}catch(o){t=!0,n=o}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}var i=!0,c=!1,l=void 0;try{for(var s,u=o[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var p=s.value;if(!p.disabled)return p.focus()}}catch(o){c=!0,l=o}finally{try{i||null==u.return||u.return()}finally{if(c)throw l}}}}(),setTimeout(function(){isHidden(g,!1)},50)),!i}catch(o){return console.error("toggleDropdownMenu Error: ".concat(o)),null}}function configureDropdownMenu(o){try{if(!o||!dom.has(o,"class","dropdown-menu"))throw"Provided dropdown is not a valid Dropdown Menu.";var c=getDropdownMenuProps(o);return e=document.createElement("div"),edit.class(e,"add","panel"),l=e,s={title:dom.find.child(o,"class","title"),choices:dom.find.child(o,"class","choice-list")},c.id||function(){for($idInt=0,$idStr="";;)if($idInt=Math.floor(900*Math.random()),$idStr="dropdown_menu_".concat($idInt),!dom.find.id($idStr))return o.id=$idStr,c.id=$idStr}(),edit.class(o,"add","configured"),isHidden(o,!0),s.title&&(t=document.createElement("div"),edit.class(t,"add","title"),t.innerHTML=s.title.innerHTML,l.appendChild(t)),function(){if(s.choices){for(var o=function(){if("ul"==dom.get(s.choices,"tag"))return s.choices;var o=document.createElement("ul");return edit.class(o,"add","choice-list"),edit.attr(o,"add","role","menu"),o.innerHTML=s.choices.innerHTML,o}(),e=dom.find.children(o,"tag","li"),t=0;t<e.length;t++){var n,d=e[t],r="".concat(c.id,"_item_").concat(t),a=dom.find.child(d,"class","label"),i=dom.find.child(d,"group","clickables");edit.attr(d,"add","role","menuitem"),a&&(n="".concat(r,"_label"),edit.attr(a,"add","id",n),edit.attr(d,"add","aria-labelledby",n)),edit.class(i,"add","choice")}l.appendChild(o)}else console.warn('configureDropdownMenu Warning: Dropdown "'.concat(c.id,'" did not provide any choices.'))}(),o.innerHTML=l.outerHTML,n=document.createElement("div"),edit.class(n,"add","arrow"),edit.attr(n,"add","aria-hidden",!0),o.appendChild(n),function(){if(c.toggle){var o={"aria-haspopup":"menu","aria-expanded":!1,"aria-pressed":!1,autocomplete:!1,"data-dropdown-menu-toggle":c.id};for(var e in o)edit.attr(c.toggle,"add",e,o[e])}else console.warn('configureDropdownMenu Warning: A toggle could not be found for dropdown "'.concat(c.id,'".'))}(),o}catch(o){return console.error("configureDropdownMenu Error: ".concat(o)),!1}var e,t,n,l,s}!function(){var e=setInterval(function(){function o(o){var e=dom.find.id("dropdown_menu_container");e&&0<e.childNodes.length&&updateDropdownMenuPos(e.childNodes[0])}globalFunctionsReady&&(clearInterval(e),function(){var o=dom.find.children(document.body,"class","dropdown-menu"),e=!0,t=!1,n=void 0;try{for(var d,r=o[Symbol.iterator]();!(e=(d=r.next()).done);e=!0){var a=d.value;dom.has(a,"class","no-auto-config")||dom.has(a,"class","configured")||configureDropdownMenu(a)}}catch(o){t=!0,n=o}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}(),window.addEventListener("click",function(o){var e,t,n,d,r,a,i=o.target;d="data-".concat(n="dropdown-menu-toggle"),dom.has(i,"class",n)&&(!(e=dom.get(i,"attr",d))||(t=dom.find.id(e))&&toggleDropdownMenu(t)),dom.has(i,"class","choice")&&(r=dom.get(i,"attr","data-value"),a=dom.find.parent(i,"class","dropdown-menu"),!1!==r&&!1!==a&&updateDropdownMenu(a,r,!0))}),window.addEventListener("resize",o),window.addEventListener("scroll",o))},250)}();