function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _createForOfIteratorHelper(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){a&&(e=a);function r(){}var o=0;return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){s=!0,n=e},f:function(){try{i||null==a.return||a.return()}finally{if(s)throw n}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var globalScrollTimer,hashTargetTimeout,lastFocus,loadEventFired=!1,globalScriptLoaded=!0,globalScrollUpdates=0,focusLock={set:function(e,t){focusLock.active={},focusLock.active.elements=e,focusLock.active.callback=t},clear:function(){focusLock.active=!1},handle:function(e){var t=e.type,a=e.target;if(focusLock.active){var r,o,n,i=focusLock.active.elements,s=function(){var e=[];if(e.push(document.getElementById("alert_popup_feed")),i.constructor===Array){var t,a=_createForOfIteratorHelper(i);try{for(a.s();!(t=a.n()).done;){var r=t.value;e.push(r)}}catch(e){a.e(e)}finally{a.f()}}else e.push(i);return e}();if("click"==t){do{var l,c=_createForOfIteratorHelper(s);try{for(c.s();!(l=c.n()).done;){if(a==l.value)return}}catch(e){c.e(e)}finally{c.f()}a=a.parentNode}while(a);focusLock.active.callback()}else{"keydown"==t&&(o=(r=function(){var e=[];if(i.constructor===Array){var t,a=_createForOfIteratorHelper(i);try{for(a.s();!(t=a.n()).done;)var r=t.value,e=e.concat(getElements(r,"focusables"))}catch(e){a.e(e)}finally{a.f()}}else e=e.concat(getElements(i,"focusables"));return e}())[0],n=r[r.length-1],!0===e.shiftKey&&"Tab"==e.key&&a==o||!1===e.shiftKey&&"Tab"==e.key&&a==n?(e.preventDefault(),a==o?n.focus():a==n&&o.focus()):"Escape"==e.key&&(e.preventDefault(),focusLock.active.callback()))}}},active:!1},shiftStats=!1,hashListeners={},shiftNames={bl1:"Borderlands: GOTY",bl2:"Borderlands 2",bl3:"Borderlands 3",tps:"Borderlands: The Pre-Sequel"},shiftUpdates={creation_time:"",update_time:"",interval:{id:0,frequency:12e4,set:function(){shiftUpdates.interval.id=setInterval(shiftUpdates.interval.check,shiftUpdates.interval.frequency)},clear:function(){clearInterval(shiftUpdates.interval.id)},check:function(o){var n="/assets/php/scripts/shift/checkForUpdates";newAjaxRequest({file:"".concat(n,"?getDetails=false"),callback:function(e){var c=tryJSONParse(e);if(c){c=c.payload;var t,a=_createForOfIteratorHelper(["creation","update"]);try{for(a.s();!(t=a.n()).done;){var r=function(){var s=t.value,l="".concat(s,"_time"),e=c[l].timestamp;if(shiftUpdates[l]<e&&!o)return shiftUpdates.interval.clear(),newAjaxRequest({file:"".concat(n,"?getDetails=true"),callback:function(e){var t,a=(c=tryJSONParse(e).payload)[l].id,r=c[l].game_id,o=shiftNames[r],n="/".concat(r)==window.location.pathname,i="#shift_code_".concat(a);"creation"!=s&&!n||newToast({settings:{id:"shift_update_notice",duration:"infinite"},content:{icon:"fas fa-key",title:"creation"==s?"New SHiFT Code for ".concat(o,"!"):"SHiFT Code Update for ".concat(o,"!"),body:(t="","creation"==s?(t+="A new SHiFT Code has just been added to ShiftCodesTK! ",t+=n?"Refresh the list to access the new code.":"Do you want to go there now?"):t+="A SHiFT Code has just been updated. Refresh the list for changes to take effect.",t)},action:{use:!0,type:"link",close:n,action:n&&function(){window.location.hash==i&&(window.location.hash="#0"),shiftUpdates.interval.set()},link:n?i:"/".concat(r).concat(i),name:n?"Refresh":"View code",label:n?"Refresh the list of SHiFT Codes.":"Visit the ".concat(o," SHiFT Code page")}})}}),{v:void 0};shiftUpdates[l]=e}();if("object"===_typeof(r))return r.v}}catch(e){a.e(e)}finally{a.f()}}else shiftUpdates.interval.clear()}})}}};function parseWebpImages(e){var t=document.body.getAttribute("data-webp-support");if(null!==t){var a="true"==t,r=e.getElementsByTagName("*");for(i=0;i<r.length;i++){var o=r[i].getAttribute("data-webp"),n=void 0;null!==o&&((n=JSON.parse(o)).fullPath=n.path,!0==a?n.fullPath+=".webp":!1==a&&(n.fullPath+=n.alt),"bg"==n.type?r[i].style.backgroundImage="url("+n.fullPath+")":"img"==n.type&&(r[i].src=n.fullPath),r[i].removeAttribute("data-webp"))}}else setTimeout(function(){parseWebpImages(e)},250)}function webpSupportUpdate(e){document.body.setAttribute("data-webp-support",e),parseWebpImages(document),document.getElementsByClassName("webp-support")[0].remove()}function addFocusScrollListeners(e){var t=e.getElementsByTagName("*");for(i=0;i<t.length;i++){var a=t[i];"BUTTON"!=a.tagName&&"A"!=a.tagName&&"INPUT"!=a.tagName&&"SELECT"!=a.tagName&&"TEXTAREA"!=a.tagName||!1===a.classList.contains("no-focus-scroll")&&a.addEventListener("focusin",function(e){updateScroll(this)})}}function updateScroll(r){if(!1===hasClass(r,"clipboard-copy")&&!1===hasClass(r,"hidden")){var e=[document.documentElement,document.body],t=null!=(d=r.getAttribute("data-scrollPaddingTop"))?d:0,a=null!=(u=r.getAttribute("data-scrollPaddingBottom"))?u:0,o=64+t,n=e[1].getBoundingClientRect().height-a,i=16,s={};s.base=function(){var e,t=r.tagName.toLowerCase();if("input"!=t&&"select"!=t&&"textarea"!=t)e=r;else for(var a=r;;){if(!0===a.classList.contains("input-container")){e=a;break}a=a.parentNode}return e.getBoundingClientRect()}(),s.top=s.base.top-i,s.bottom=s.base.bottom+i;var l=s.top<o,c=s.bottom>n;if(!0===l)for(x=0;x<e.length;x++)e[x].scrollTop-=o-s.top;else if(!0===c)for(x=0;x<e.length;x++)e[x].scrollTop+=s.bottom-n;!0!==l&&!0!==c||(globalScrollUpdates=0)}var u,d}function toggleBodyScroll(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"toggle",a=document.body,r="scroll-disabled",o="data-last-scroll",n=hasClass(a,r);return a.scrollHeight>window.innerHeight&&("toggle"==t&&(t=n),t?(delClass(a,r),a.style.removeProperty("top"),setTimeout(function(){window.scrollTo(0,tryParseInt(a.getAttribute(o))),a.removeAttribute(o)},50)):(e=window.pageYOffset,a.setAttribute(o,e),setTimeout(function(){a.style.top="-".concat(e,"px"),addClass(a,r)},50)),!0)}function hashUpdate(){var e,t=window.location.hash,a=""!=t;!function(){var e=document.getElementsByTagName("*");for(i=0;i<e.length;i++)null!==e[i].getAttribute("data-hashtarget-highlighted")&&"#"+e[i].id!=t&&(e[i].removeAttribute("data-hashtarget-highlighted"),e[i].removeEventListener("mouseover",globalListenerHashTargetHover),e[i].removeEventListener("mouseout",globalListenerHashTargetAway)),null!==e[i].getAttribute("data-hashtarget")&&"#"+e[i].id!=t&&(e[i].removeAttribute("data-hashtarget"),e[i].removeEventListener("mouseover",globalListenerHashTargetHover),e[i].removeEventListener("mouseout",globalListenerHashTargetAway))}(),history.replaceState?history.replaceState(null,null,t):window.location.hash=t,!0!=a||!0==(null!==(e=document.getElementById(t.replace("#",""))))&&("true"!=e.getAttribute("data-hashtarget")&&(e.setAttribute("data-hashtarget","visible"),e.addEventListener("mouseover",globalListenerHashTargetHover),e.addEventListener("mouseout",globalListenerHashTargetAway),e.addEventListener("focusin",globalListenerHashTargetHover),e.addEventListener("focusout",globalListenerHashTargetAway)),updateScroll(e))}function checkHash(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=window.location.hash;function a(e){return 0==t.search("#".concat(e))&&(hashListeners[e](t),1)}if(e){if(a(e))return!0}else for(var r=Object.keys(hashListeners),o=0;o<r.length;o++)if(a(r[o]))return!0;return!1}function addHashListener(e,t){return hashListeners[e]=t,checkHash(e)}function copyToClipboard(e){var r=e.currentTarget;(function(){for(var e=parseInt(r.getAttribute("data-copy-target")),t=r,a=0;a<e;a++)t=t.parentNode;return getClass(t,"clipboard-copy")})().select(),document.execCommand("copy"),r.classList.remove("animated"),setTimeout(function(){r.classList.add("animated"),newToast({settings:{duration:"short",id:"clipboard-copy"},content:{icon:"fas fa-clipboard",title:"Copied to Clipboard",body:"This may not work in all browsers"},close:{use:!1}})},25)}function fixClickableContent(e){for(var t=e.childNodes,a=0;a<t.length;a++){var r,o=t[a];"#text"==o.nodeName&&((r=document.createElement("span")).innerHTML=o.textContent,e.replaceChild(r,o))}}function btnPressToggle(e){e.addEventListener("click",function(e){var t,a=e.currentTarget,r=!!(t=a.getAttribute("aria-pressed"))&&"true"==t;setTimeout(function(){a.setAttribute("aria-pressed",!r)},500)})}function globalListenerLoadClearScroll(){globalScrollUpdates=0,window.removeEventListener("load",globalListenerLoadClearScroll)}function globalListenerHashTargetHover(e){var t=this;hashTargetTimeout=setTimeout(function(){t.setAttribute("data-hashtarget","seen"),t.removeEventListener("mouseover",globalListenerHashTargetHover),t.removeEventListener("mouseout",globalListenerHashTargetAway),t.removeEventListener("focusin",globalListenerHashTargetHover),t.removeEventListener("focusout",globalListenerHashTargetAway)},750)}function globalListenerHashTargetAway(){clearTimeout(hashTargetTimeout)}function execGlobalScripts(){var e;"boolean"==typeof globalFunctionsReady?((e=document.createElement("img")).classList.add("webp-support"),e.onload=function(){webpSupportUpdate(!0)},e.onerror=function(){webpSupportUpdate(!1)},e.src="/assets/img/webp_support.webp",document.body.appendChild(e),hashUpdate(),function(){var e;if(document.getElementById("primary_header")){function l(e){var t=getTemplate(r[e.type]);"separator"!=e.type&&("crumb"==e.type&&(t.href=e.link,updateLabel(t,e.title)),e.icon?addClass(t,e.icon):t.innerHTML=e.title),a.appendChild(t)}var c={bl1:"Borderlands: GOTY",bl2:"Borderlands 2",tps:"Borderlands: The Pre-Sequel",bl3:"Borderlands 3","about-us":"About us",credits:"Credits",updates:"Updates",help:"Help Center","clearing-your-system-cache":"Clearing your System Cache",faq:"FAQ","how-to-redeem":"How to Redeem","borderlands-website":"Borderlands Website","shift-website":"SHiFT Website"},u=("/"==(e=window.location.pathname)[e.length-1]&&(e=e.slice(0,-1)),e),d=u.slice(1),a=document.getElementById("breadcrumb_container"),r={separator:"breadcrumb_separator_template",crumb:"breadcrumb_crumb_template",here:"breadcrumb_crumb_here_template"},t=Object.keys(r);l({type:"crumb",title:"Home",icon:"fas fa-home",link:"/"}),l({type:"separator"}),function(){var e,t=new RegExp("(\\/)|([\\w-]+)","g"),a=_createForOfIteratorHelper(regexMatchAll(t,d));try{for(a.s();!(e=a.n()).done;){var r,o,n,i,s=e.value[0];"/"==s?l({type:"separator"}):(r="/".concat(s),o=new RegExp("\\/","g"),n=new RegExp("".concat(r,"(.*)")),(i={title:c[s.replace(o,"")],link:u.replace(n,r)}).link!=u?i.type="crumb":i.type="here",l(i))}}catch(e){a.e(e)}finally{a.f()}}(),addClass(a.parentNode,"ready");for(var o=0,n=t;o<n.length;o++){var i=n[o];document.getElementById(r[i]).remove()}}}(),newAjaxRequest({file:"/assets/php/scripts/shift/getStats.php",callback:function(e){var t=tryJSONParse(e);t?shiftStats=t.payload:newToast({settings:{template:"exception"},content:{body:"We could not retrieve SHiFT Code statistics due to an error. This may affect the site until refreshed."}})}}),function(){for(var e=getElements(document,"clickables"),t=0;t<e.length;t++)fixClickableContent(e[t])}(),function(){for(var e=getTags(document,"button"),t=0;t<e.length;t++){var a=e[t];hasClass(a,"o-pressed")&&btnPressToggle(a)}}(),window.addEventListener("hashchange",function(e){event.preventDefault(),checkHash(),hashUpdate()}),window.addEventListener("scroll",function(){null!==globalScrollTimer&&clearTimeout(globalScrollTimer),globalScrollUpdates++,globalScrollTimer=setTimeout(function(){if(1==globalScrollUpdates){var e=document.getElementsByTagName("*");for(i=0;i<e.length;i++){var t=e[i].getBoundingClientRect().top;0<=t&&t<=1&&hashUpdate()}}globalScrollUpdates=0},150)}),window.addEventListener("load",globalListenerLoadClearScroll),addFocusScrollListeners(document),function(){var e=document.getElementsByTagName("a");for(i=0;i<e.length;i++)""!=e[i].hash&&e[i].addEventListener("click",hashUpdate)}(),window.addEventListener("click",focusLock.handle),window.addEventListener("keydown",focusLock.handle)):setTimeout(execGlobalScripts,250)}execGlobalScripts(),window.addEventListener("load",function(){loadEventFired=!0,setTimeout(function(){var e;(e=document.getElementById("startup")).parentNode.removeChild(e),shiftUpdates.interval.check(!0),shiftUpdates.interval.set()},2500)});