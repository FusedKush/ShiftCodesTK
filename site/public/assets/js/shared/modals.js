function _createForOfIteratorHelper(o,e){var a;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(a=_unsupportedIterableToArray(o))||e&&o&&"number"==typeof o.length){a&&(o=a);function t(){}var n=0;return{s:t,n:function(){return n>=o.length?{done:!0}:{done:!1,value:o[n++]}},e:function(o){throw o},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,d=!1;return{s:function(){a=o[Symbol.iterator]()},n:function(){var o=a.next();return i=o.done,o},e:function(o){d=!0,r=o},f:function(){try{i||null==a.return||a.return()}finally{if(d)throw r}}}}function _unsupportedIterableToArray(o,e){if(o){if("string"==typeof o)return _arrayLikeToArray(o,e);var a=Object.prototype.toString.call(o).slice(8,-1);return"Object"===a&&o.constructor&&(a=o.constructor.name),"Map"===a||"Set"===a?Array.from(o):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(o,e):void 0}}function _arrayLikeToArray(o,e){(null==e||e>o.length)&&(e=o.length);for(var a=0,t=new Array(e);a<e;a++)t[a]=o[a];return t}!function(){var o=setInterval(function(){var d;"undefined"!=typeof globalFunctionsReady&&(clearInterval(o),ShiftCodesTK.modals={isLoaded:!1,modalContainer:dom.find.id("modals"),modalCallbacks:{},activeModal:!1,registerCallback:function(t,n,o){try{return function(){var o=this.modalCallbacks,e=(o[t]||(o[t]={}),o[t]),a=-1!=["onOpen","onClose"].indexOf(n)?e:(e.actions||(e.actions={}),e.actions);return a[n]||(a[n]=[]),a[n]}.bind(this)().push(o),!0}catch(o){return console.error("modals.registerCallbacks Error: ".concat(o)),!1}},setupModal:function(i,o){var n=1<arguments.length&&void 0!==o?o:{};try{var d=edit.copy(dom.find.id("modal_template")),e=dom.get(i,"class");return 0<e.length&&edit.class(d,"add",e.value),d.id=i.id?i.id:randomID("modal"),function(){for(var o=0,e=["title","body","footer"];o<e.length;o++){var a,t=e[o],n=dom.find.child(i,"class",t),r=dom.find.child(d,"class",t);n?(a=dom.get(n,"class"),"title"!=t?dom.find.child(r,"class","content-container").innerHTML=n.innerHTML:r.innerHTML=n.innerHTML,1<a.length&&edit.class(r,"add",a.value)):"body"!=t&&deleteElement(r)}}(),function(){var o=Object.keys(n);if(0<o.length){var e,a=_createForOfIteratorHelper(o);try{for(a.s();!(e=a.n()).done;){trigger=e.value;var t=n[trigger];this.registerCallback(d.id,trigger,t)}}catch(o){a.e(o)}finally{a.f()}}}.bind(this)(),edit.class(d,"add","configured"),this.modalContainer.appendChild(d),i.parentNode&&deleteElement(i),d}catch(o){console.error("modals.setupModal Error: ".concat(o))}},invokeCallbacks:function(o){try{var r=this.activeModal;if(r){var e=r.callbacks;if(0<Object.keys(e).length){var i=dom.find.children(r.modal,"tag","button"),d="invoking-callbacks",l=-1!=["onOpen","onClose"].indexOf(o)?e[o]:e.actions[o];if(l){var a,t=_createForOfIteratorHelper(i);try{for(t.s();!(a=t.n()).done;){var n=a.value;n.disabled||(isDisabled(n,!0),edit.class(n,"add",d),dom.has(n,"class","has-spinner")&&edit.class(n,"add","spinning"))}}catch(o){t.e(o)}finally{t.f()}return setTimeout(function(){var o,e=_createForOfIteratorHelper(l);try{for(e.s();!(o=e.n()).done;){(0,o.value)(r.modal)}}catch(o){e.e(o)}finally{e.f()}var a,t=_createForOfIteratorHelper(i);try{for(t.s();!(a=t.n()).done;){var n=a.value;dom.has(n,"class",d)&&(edit.class(n,"remove",d),isDisabled(n,!1),dom.has(n,"class","has-spinner")&&edit.class(n,"remove","spinning"))}}catch(o){t.e(o)}finally{t.f()}},100),l.length}return 0}return!1}return!1}catch(o){return console.error("modals.invokeCallbacks Error: ".concat(o)),!1}},toggleModal:function(e,o,a){var t=1<arguments.length&&void 0!==o?o:"toggle",n=2<arguments.length&&void 0!==a&&a;try{if(!function(){if(!dom.has(e,"class","modal"))throw"Provided element was not a valid modal.";if(!dom.has(e,"class","configured"))throw"Provided modal has not been configured.";-1==[!0,!1,"toggle"].indexOf(t)&&(console.warn('modals.toggleModal Warning: "'.concat(t,'" is not a valid option for the "state" argument.')),t="toggle")}(),"toggle"==t&&(t=dom.has(e,"class","inactive")),t){if(0!=this.activeModal){var r=this.activeModal.modal;if(r==e)return!1;this.toggleModal(r,!1)}this.activeModal={modal:e,id:e.id,callbacks:function(){var o=this.modalCallbacks[e.id];return void 0!==o?o:{}}.bind(this)()},isHidden(e,!1),toggleBodyScroll(!1),dom.find.child(e,"class","body").scrollTop=0,dom.find.child(e,"class","dismiss").focus(),setTimeout(function(){edit.class(e,"remove","inactive"),focusLock.set(dom.find.child(e,"class","panel"),function(){this.toggleModal(e,!1,"focus_loss")}.bind(this)),"none"!=n&&this.invokeCallbacks("on_open")}.bind(this),50)}else{"none"!=n&&(-1!=["focus_loss","dismiss"].indexOf(n)?this.invokeCallbacks("on_".concat(n)):this.invokeCallbacks("on_close_other"),this.invokeCallbacks("on_close")),this.invokeCallbacks("on_close_any"),this.activeModal=!1,toggleBodyScroll(!0),focusLock.clear(),edit.class(e,"add","inactive"),setTimeout(function(){isHidden(e,!0)},850)}return!0}catch(o){return console.error("modals.toggleModal Error: ".concat(o)),!1}},addConfirmationModal:function(o){var e,a,t,n,r=0<arguments.length&&void 0!==o?o:{};try{function i(){var a=dom.find.child(c,"class","body"),i=dom.find.child(c,"class","footer");"create"==s.mode&&(c.id=s.id,i.innerHTML=i.innerHTML.replaceAll(l,s.id)),function(){var o=dom.find.child(c,"class","title"),e=dom.find.child(a,"class","inner-body");if("create"!=s.mode&&void 0===s.title||(o.innerHTML=s.title),"create"==s.mode||void 0!==s.body)if(e.innerHTML="",void 0!==s.body.classList)try{e.appendChild(s.body)}catch(o){throw"An invalid element was provided as the body."}else e.innerHTML=s.body}(),function(){for(var o=0,e=["deny","approve"];o<e.length;o++){var a,t,n=e[o],r=s.actions[n];void 0!==r&&(a=dom.find.child(i,"attr","data-action",n),"create"!=s.mode&&void 0===r.name||(a.childNodes[0].innerHTML=r.name),"create"!=s.mode&&void 0===r.tooltip||updateLabel(a,r.tooltip,["tooltip"]),"create"!=s.mode&&void 0===r.color||(-1!=(t=["light","dark","info","warning","danger"]).indexOf(r.color)||!1===r.color?("update"!=s.mode&&!1!==r.color||edit.class(a,"remove","color ".concat(t.join(" "))),!1!==r.color&&edit.class(a,"add","color ".concat(r.color))):console.warn('modals.addConfirmationModal Warning: "'.concat(r.color,'" is not a valid color.'))))}}(),function(){if("create"==s.mode||void 0!==s.callback){var a={on_focus_loss:"focus_lost",on_dismiss:"dismissed",on_close_other:"other",deny:"denied",approve:"approved"};"update"==s.mode&&(d.modalCallbacks[s.id]={});for(var o in a)!function(o){var e=a[o];d.registerCallback(s.id,o,function(){var o={response:"approved"==e,explicitResponse:e,timestamp:moment.utc().valueOf(),modal:c};s.callback(o)})}(o);s.id==l&&d.registerCallback(s.id,"on_close_any",function(){ShiftCodesTK.modals.modalCallbacks[l]={}})}}(),"create"==s.mode&&(d.modalContainer.appendChild(c),c=d.setupModal(c)),s.showModal&&d.toggleModal(c,!0)}var d=ShiftCodesTK.modals,l="confirmation_modal",s=(t={shared:{mode:"create",showModal:!0},create:{id:l,title:"Action Confirmation",body:"Are you sure you want to perform this action?",actions:{deny:{name:"Cancel",tooltip:"Cancel this action",color:!1},approve:{name:"Confirm",tooltip:"Approve this action",color:!1}},callback:function(){}}},"create"==(n=mergeObj(t.shared,r)).mode&&(n=mergeObj(t.create,n)),a=dom.find.id(n.id),"create"==n.mode?n.id==l?n.id=randomID(l):a&&(e=randomID(n.id),console.warn('modals.addConfirmationModal Warning: Modal "'.concat(n.id,'" already exists. The modal ID has been changed to "').concat(e,'".')),n.id=e):a&&dom.has(a,"class","modal")||(console.warn('modals.addConfirmationModal Warning: Modal "'.concat(n.id,'" does not exist. The default modal will be updated instead.')),n.id=l),n),c=function(){if("create"!=s.mode)return dom.find.id(s.id);var o=dom.find.id("confirmation_modal_template");return edit.copy(o)}();return"update"!=s.mode||c.hidden?i():(d.toggleModal(c,!1),setTimeout(function(){i()},250)),c}catch(o){return console.error("modals.addConfirmationModal Error: ".concat(o)),!1}}},d=ShiftCodesTK.modals,function(){for(var o=dom.find.children(document.body,"class","modal"),e=o.length-1;0<=e;e--){var a=o[e];dom.has(a,"class","no-auto-setup")||dom.has(a,"class","configured")||d.setupModal(a)}}(),window.addEventListener("click",function(o){(action=dom.has(o.target,"class","modal-action",null,!0))&&d.invokeCallbacks(dom.get(action,"attr","data-action")),(toggle=dom.has(o.target,"class","modal-toggle",null,!0))&&function(o){try{var e=dom.get(o,"attr","data-modal"),a=dom.has(o,"class","prevent-onclose")?"none":!!dom.has(o,"class","dismiss")&&"dismiss";if(e){var t=dom.get(o,"attr","data-modal-state"),n=dom.find.id(e);if(n){var r=t?"true"==t:"toggle";return d.toggleModal(n,r,a)}throw'Toggle points to a non-existent modal: "'.concat(e,'".')}var i=dom.find.parent(o,"class","modal");if(i)return d.toggleModal(i,!1,a);throw"Toggle does not point to and is not the child of a modal."}catch(o){return console.error("Modal Toggle Error: ".concat(o))}}(toggle)}),ShiftCodesTK.modals.isLoaded=!0)},250)}();