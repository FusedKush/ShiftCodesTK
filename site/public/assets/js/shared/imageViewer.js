function imgViewClick(e){var l,n,i,t,c=e.target;"IMG"==c.tagName&&dom.has(c,"class","fullscreen")&&(l=document.getElementById("image_viewer"),n={},function(){for(var e=0,i=["header","title","close"];e<i.length;e++){var t=i[e];n[t]=dom.find.child(l,"class",t)}}(),i=c.getAttribute("data-fullscreen"),t=edit.copy(c),edit.class(t,"remove","fullscreen"),edit.class(t,"add","img"),l.insertBefore(t,n.header),i&&(n.title.innerHTML=i),isHidden(l,!1),setTimeout(function(){edit.class(l,"remove","inactive"),n.close.focus(),toggleBodyScroll(!1),focusLock.set([n.header,t],imgViewClose)},50))}function imgViewClose(){var l=document.getElementById("image_viewer"),n={};!function(){for(var e=0,i=["img","title"];e<i.length;e++){var t=i[e];n[t]=dom.find.child(l,"class",t)}}(),edit.class(l,"add","inactive"),toggleBodyScroll(!0),focusLock.clear(),setTimeout(function(){isHidden(l,!0),l.removeChild(n.img),n.title.innerHTML=""},450)}!function(){var e=setInterval(function(){globalFunctionsReady&&(clearInterval(e),window.addEventListener("click",imgViewClick),dom.find.child(document.getElementById("image_viewer"),"class","close").addEventListener("click",imgViewClose))},250)}();