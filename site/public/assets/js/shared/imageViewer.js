function imgViewClick(e){var l,n,t,i,a=e.target;"IMG"==a.tagName&&hasClass(a,"fullscreen")&&(l=document.getElementById("image_viewer"),n={},function(){for(var e=0,t=["header","title","close"];e<t.length;e++){var i=t[e];n[i]=getClass(l,i)}}(),t=a.getAttribute("data-fullscreen"),i=copyElm(a),delClass(i,"fullscreen"),addClass(i,"img"),l.insertBefore(i,n.header),t&&(n.title.innerHTML=t),vishidden(l,!1),setTimeout(function(){delClass(l,"inactive"),n.close.focus(),toggleBodyScroll(!1),focusLock.set([n.header,i],imgViewClose)},50))}function imgViewClose(){var l=document.getElementById("image_viewer"),n={};!function(){for(var e=0,t=["img","title"];e<t.length;e++){var i=t[e];n[i]=getClass(l,i)}}(),addClass(l,"inactive"),toggleBodyScroll(!0),focusLock.clear(),setTimeout(function(){vishidden(l,!0),l.removeChild(n.img),n.title.innerHTML=""},450)}!function(){var e=setInterval(function(){globalFunctionsReady&&(clearInterval(e),window.addEventListener("click",imgViewClick),getClass(document.getElementById("image_viewer"),"close").addEventListener("click",imgViewClose))},250)}();