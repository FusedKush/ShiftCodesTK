ShiftCodesTK.toasts={ready:!1,activeToasts:{},queuedToasts:{},containers:function(){var t={};return t.main=dom.find.id("toasts"),t.activeToasts=dom.find.child(t.main,"class","active-toasts"),t.queuedToasts=dom.find.child(t.main,"class","queued-toasts"),t.serverSideToasts=dom.find.child(t.main,"class","server-side-toasts"),t}(),updateTimer:function(t,e,i){var s,a=1<arguments.length&&void 0!==e?e:"toggle",o=2<arguments.length&&void 0!==i&&i;try{!function(){if(!t||!dom.has(t,"class","toast"))throw"".concat(t," is not a valid toast element.");if(-1==["start","toggle","stop"].indexOf(a))throw'"'.concat(a,'" is not a valid Update Type.')}();var n,d=this.activeToasts[t.id];return!1!==o&&(s={infinite:-1,short:3e3,medium:6e3,long:1e4},n="string"==typeof o&&void 0!==s[o]?s[o]:"number"==typeof o?o:0,dom.find.child(t,"class","progress-bar").childNodes[0].style.animationDuration=-1<n?"".concat(n,"ms"):"",d.duration=n),"start"==a||"toggle"==a&&!dom.has(t,"class","expiring")?0<d.duration&&(edit.class(t,"add","expiring"),d&&(d.timer=setTimeout(function(){this.updateTimer(t,"stop"),this.removeToast(t)}.bind(this),d.duration))):(clearTimeout(d.timer),edit.class(t,"remove","expiring")),!0}catch(t){return console.error("toasts.updateTimer Error: ".concat(t)),!1}},newToast:function(t){var e,i,s,a,o,n,d,r,c,l=0<arguments.length&&void 0!==t?t:{};try{!function(){if(!l||"Object"!=l.constructor.name)throw"Provided configuration is not a valid configuration object."}();var u=(n={settings:{id:function(){for(var t,e=ShiftCodesTK.toasts,i="";t=randomNum(100,999),i="".concat("toast","_").concat(t),void 0!==e.activeToasts[i]||void 0!==e.queuedToasts[i];);return i}(),duration:"medium",template:!1,callback:!1},content:{icon:"fas fa-bullhorn",title:"",body:""},actions:[]},d={content:"",title:"",callback:!1,link:!1,closeToast:!1},r={actionConfirmation:{settings:{duration:"short"},content:{icon:"fas fa-check"}},fatalException:{settings:{duration:"infinite"},content:{icon:"fas fa-exclamation-triangle",title:"An error has occurred"},actions:[{content:"Refresh",title:"Refresh the page and try again",link:" "}]},formSuccess:{settings:{duration:"long"},content:{icon:"fas fa-check",title:"Success!",body:"Your information was submitted successfully."}}},c=mergeObj(n,l),!1!==(o=c.settings.template)&&void 0!==r[o]&&(c=mergeObj(n,r[o],l)),function(){var t=c.actions;for(var e in t){var i=t[e];t[e]=mergeObj(d,i)}}(),c),h=edit.copy(dom.find.id("toast_template"));return h.id=u.settings.id,edit.class(dom.find.child(h,"class","icon").childNodes[0],"add",u.content.icon),s=dom.find.child(h,"class","title"),a="".concat(u.settings.id,"_title"),s.innerHTML=u.content.title,s.id=a,edit.attr(h,"add","aria-labelledby",a),e=dom.find.child(h,"class","body"),i="".concat(u.settings.id,"_body"),e.innerHTML=u.content.body,e.id=i,edit.attr(h,"add","aria-describedby",i),function(){var t=dom.find.child(h,"class","actions"),e=!0,i=!1,s=void 0;try{for(var a,o=u.actions[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var n=a.value,d=!1!==n.link,r=document.createElement(d?"a":"button");d?(edit.class(r,"add","button"),edit.attr(r,"add","href",n.link)):edit.class(r,"add","styled"),edit.class(r,"add","action"),r.innerHTML=n.content,n.closeToast&&(edit.class(r,"add","dismiss-toast"),edit.attr(r,"add","aria-controls",u.settings.id)),t.appendChild(r),n.title&&updateLabel(r,n.title,["tooltip"])}}catch(t){i=!0,s=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw s}}}(),this.addToast(h,u)}catch(t){return console.error("toasts.newToast Error: ".concat(t)),!1}},addToast:function(t,e){if(this.ready&&void 0===this.activeToasts[e.settings.id]&&Object.keys(this.activeToasts).length<5){var i=e.settings.duration;this.activeToasts[e.settings.id]={duration:0,callback:e.settings.callback,timer:0},t=this.containers.activeToasts.appendChild(t),isHidden(t,!1),setTimeout(function(){this.updateTimer(t,"start",e.settings.duration)}.bind(this),-1!=i?200:0)}else{if(void 0!==this.queuedToasts[e.settings.id])return!1;t=this.containers.queuedToasts.appendChild(t),this.queuedToasts[e.settings.id]={toast:t,configuration:e}}return t},removeToast:function(t){try{!function(){if(!t||!dom.has(t,"class","toast"))throw"".concat(t," is not a valid toast element.")}();var e=t.id;return isHidden(t,!0),setTimeout(function(){this.containers.activeToasts.removeChild(t),delete this.activeToasts[e],function(){var e=Object.keys(this.queuedToasts);0<e.length&&setTimeout(function(){var t=this.queuedToasts[e[0]];this.addToast(t.toast,t.configuration),delete this.queuedToasts[e[0]]}.bind(this),500)}.bind(this)()}.bind(this),300),!0}catch(t){return console.error("toasts.updateTimer Error: ".concat(t)),!1}},toastEvent:function(t){var e,i,s,a,o,n,d=ShiftCodesTK.toasts;d.ready&&0<Object.keys(d.activeToasts).length&&!dom.has(t.target,"class","toast-list")&&(e=t.type,!1!==(i=dom.has(t.target,"class","toast")?t.target:dom.find.parent(t.target,"class","toast"))&&(s=d.activeToasts[i.id],"mouseover"==e||"mouseout"==e?(a=0<s.duration,o=dom.has(i,"class","expiring"),("mouseover"==e&&o||"mouseout"==e&&!o&&a)&&d.updateTimer(i,o?"stop":"start")):(n=dom.has(t.target,"class","action")?t.target:dom.find.parent(t.target,"class","action"))&&"function"==typeof s.callback&&(s.callback(n,t),dom.has(n,"class","dismiss-toast")&&setTimeout(function(){d.removeToast(i)},50))))}},function(){var s=setInterval(function(){var t,e,i;ShiftCodesTK.toasts&&(clearInterval(s),t=ShiftCodesTK.toasts,e=dom.find.id("toast_template").content.children[0],i=dom.find.child(e,"class","dedicated"),ShiftCodesTK.layers.setupLayer(i.nextElementSibling),function(){for(var t=0,e=["mouseover","mouseout","click"];t<e.length;t++){var i=e[t];this.containers.activeToasts.addEventListener(i,this.toastEvent)}}.bind(t)())},250)}(),window.addEventListener("load",function(){var t=ShiftCodesTK.toasts;setTimeout(function(){this.ready=!0,function(){var t=this.containers.serverSideToasts;if(0<t.childNodes.length){var e=!0,i=!1,s=void 0;try{for(var a,o=t.childNodes[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var n=a.value,d=tryJSONParse(n.innerHTML);d&&this.newToast(d)}}catch(t){i=!0,s=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw s}}deleteElement(t)}}.bind(this)(),function(){for(var t=this.queuedToasts,e=Object.keys(t),i=e.length-1;0<=i;i--){var s=t[e[i]];if(!1===this.addToast(s.toast,s.configuration))break;delete t[e[i]]}}.bind(this)()}.bind(t),2500)});