function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var globalFunctionsReady=!0,pbIntervals={};function thrownTryError(e,t){if("silent"==t)return console.error(e),!1;if("throw"==t)throw e;if("ignore"==t)return!1;throw e.message="".concat(e.message,"\n\r\n\rAdditionally, the behavior parameter is invalid.\n\rBehavior: ").concat(t),e}function tryParseInt(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"silent",r=new Error;r.name="parseInt Error",r.message="Not a valid number.\n\rInt: ".concat(e);var n=parseInt(e);return isNaN(n)?thrownTryError(r,t):n}function tryJSONParse(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"silent",r=new Error;r.name="JSONParse Error",r.message="Not a valid JSON string.\n\rString: ".concat(e);try{return JSON.parse(e)}catch(e){return thrownTryError(r,t)}}function tryToRun(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=function(){if(n){return mergeObj({function:function(){return!0},attempts:!1,delay:250,behavior:"silent",logCatch:!1,customError:!1},r)}return r}();function t(){if(n<=a.attempts||!a.attempts)setTimeout(function(){tryToRun(r,n+1)},a.delay);else{var t=new Error;if(!(t.name="tryToRun Error")!==a.customError?t.message=a.customError:t.message="Max Tries Exceeded.\r\n\r\nSettings: ".concat(JSON.stringify(a)),a.logCatch&&(t.message+="\r\n\r\nCaught Error: ".concat(e)),"throw"==a.behavior)throw t;if("silent"==a.behavior)return void console.error(t);if("ignore"==a.behavior)return}}try{a.function()||t()}catch(e){t()}}function setElementState(e,t,r,n){function a(e){var t=new Error;throw t.name="setElementStateError",t.message=e,t}if(-1!=["disabled","hidden"].indexOf(e)){if(t){var o=t[e];return"toggle"==r&&(r=o?!t[e]:null!==t.getAttribute(e)),o?t[e]=r:(r?t.setAttribute(e,""):t.removeAttribute(e),t.setAttribute("aria-".concat(e),r)),n&&(t.tabIndex={true:-1,false:0}[r]),!0}a("Provided element is ".concat(t,"."))}else a("".concat(e," is not a valid state."))}function isDisabled(e){return setElementState("disabled",e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"toggle",2<arguments.length&&void 0!==arguments[2]&&arguments[2])}function isHidden(e){return setElementState("hidden",e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"toggle",2<arguments.length&&void 0!==arguments[2]&&arguments[2])}function disenable(e,t,r){return isDisabled(e,t,r)}function vishidden(e,t,r){return isHidden(e,t,r)}function updateLabel(e,t){e.title=t,e.setAttribute("aria-label",t)}function newAjaxRequest(e){var t,r,n=window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject?new ActiveXObject("Microsoft.XMLHttp"):void 0,a=mergeObj({type:"GET",file:null,callback:function(e){return e},params:"none",requestHeader:"default",catchErrors:!0},e);function o(e){var t=new Error;throw t.name="newAjaxRequest Error",t.message='An error occurred with Ajax Request "'.concat(a.type,": ").concat(a.file,'".\n\rError: ').concat(e),t}null!==a.file?(r=new RegExp("\\s+","g"),t=a.file.replace(r,""),n.onreadystatechange=function(){function e(){if(n.readyState===XMLHttpRequest.DONE)if(200===n.status)a.callback(n.responseText);else if(a.catchErrors)throw"Status Code ".concat(n.status," returned.")}if(a.catchErrors)try{e()}catch(e){o(e)}else e()},n.open(a.type,t,!0),"form"==a.requestHeader&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),"none"==a.params?n.send():n.send(a.params)):o("File path was not specified.\n\rProperties: ".concat(JSON.stringify(a)))}function datetime(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"y-m-d",t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"check",n=function(){if(t){var e=new Date(t);return"Invalid Date"!=e&&e}return new Date}();if(!1===n)return!1;function a(e){return"0".concat(e).slice(-2)}var o,i=("check"==r&&(r=!(!t||-1!=t.search("(\\d{2}\\:)")&&-1==t.search("00:00:00"))),r?{year:n.getUTCFullYear(),month:n.getUTCMonth(),date:n.getUTCDate(),day:n.getUTCDay(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),seconds:n.getUTCSeconds()}:{year:n.getFullYear(),month:n.getMonth(),date:n.getDate(),day:n.getDay(),hour:n.getHours(),minute:n.getMinutes(),seconds:n.getSeconds()}),s={"tmp-full":"monthN date, year hour12:minute ampm","tmp-date":"month/date/year","tmp-time12":"hour12:minute ampm","tmp-time24":"hour24:minute"},l={days:{0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},months:{0:"January",1:"Feburary",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"}},u={year:i.year,month:a(i.month+1),monthN:l.months[i.month].slice(0,3),monthL:l.months[i.month],date:a(i.date),day:i.day,dayN:l.days[i.day].slice(0,3),dayL:l.days[i.day],hour12:1<(o=i.hour)&&o<=12?o:12<o?o-12:12,hour24:i.hour,minute:a(i.minute),second:a(i.second),ampm:i.hour<=12?"AM":"PM",js:n,iso:n.toISOString()},c=new RegExp("(\\w+)","g");return s[e]?datetime(s[e],t):"js"==e?u.js:e.replace(c,function(e){var t=u[e];return t||e})}function dateDif(e){for(var t={},r={date:e,start:1<arguments.length&&void 0!==arguments[1]&&arguments[1]},n=Object.keys(r),a=0;a<n.length;a++){var o=n[a],i=datetime("js",r[o]);t[o]=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate())}var s=Math.abs(t.start-t.date);return Math.ceil(s/864e5)}function dateRel(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r={date:datetime("tmp-date",e),start:datetime("tmp-date",t)},n=dateDif(r.date,r.start);return 0==n?"Today":1==n?r.date<r.start?"Yesterday":"Tomorrow":n<7&&-7<n&&datetime("dayL",e)}function randomNum(e,t){return Math.round(Math.random()*(t-e)+e)}function modifyClass(e,t,r){if(null!=e){if("contains"==r)return e.classList[r](t);var n,a=(o=t,i=new RegExp(" ","g"),o=o.replace(i,'", "'),tryJSONParse(o='["'.concat(o,'"]')));return(n=e.classList)[r].apply(n,_toConsumableArray(a)),!0}var o,i,s=new Error;throw s.name="".concat(r,"Class Error"),s.message="Passed element is undefined.",s}function hasClass(e,t){return modifyClass(e,t,"contains")}function addClass(e,t){return modifyClass(e,t,"add")}function delClass(e,t){return modifyClass(e,t,"remove")}function toggleClass(e,t){(hasClass(e,t)?delClass:addClass)(e,t)}function getClass(e,t){return e.getElementsByClassName(t)[0]}function getClasses(e,t){return e.getElementsByClassName(t)}function getTags(e,t){return e.getElementsByTagName(t)}function getTag(e,t){return getTags(e,t)[0]}function hasAttr(e,t){return null!==e.getAttribute(t)}function getElements(e,o){for(var i=getTags(e,"*"),s=[],t=0;t<i.length;t++)!function(e){var t=i[e],r=t.tagName.toLowerCase();function n(){s.push(t)}if("string"==typeof o)"focusables"==o?"a"!=r&&"button"!=r&&"input"!=r&&"select"!=r&&"textarea"!=r||n():"clickables"==o?"a"!=r&&"button"!=r||n():"inputs"==o&&("input"!=r&&"select"!=r&&"textarea"!=r||n());else{if(!("object"==_typeof(o)&&0<o.length))throw new TypeError('Function "getElements" was called with an invalid element list.');for(var a=0;a<o.length;a++){if(r==o[a]){n();break}}}}(t);return s}function getElement(e){return"string"==typeof e?document.getElementById(e):e}function copyElm(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return e.cloneNode(t)}function getTemplate(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=getElement(e);if(null!=r)return"TEMPLATE"==r.tagName?copyElm(r.content.children[0].cloneNode(t)):r.children[0].cloneNode(t);throw"getTemplate called on an undefined element: "+templateID}function deleteElm(e){var t=getElement(e);return t.parentNode.removeChild(t)}function findAttr(e,o,i,s,l){var u;return function e(t){if("BODY"!=t.tagName){var r=t.getAttribute(s);if(null!=r&&""!=r&&("exist"==i||"match"==i&&r==l||"not-match"==i&&r!=l))return u=t,1;if("up"==o)e(t.parentNode);else for(var n=t.children,a=0;a<n.length;a++)e(n[a])}}(e.parentNode),u}function findClass(e,a,o){var i;return function e(t){if("BODY"!=t.tagName)if(!0!==hasClass(t,o))if("up"==a)e(t.parentNode);else for(var r=t.children,n=0;n<r.length;n++)e(r[n]);else i=t;else i=!1}(e.parentNode),i}function reachElement(e,a,o){var i,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"class";return function e(t){if("class"==s&&!0===hasClass(t,o)||"tag"==s&&t.tagName==o.toUpperCase()||"attr"==s&&void 0!==t[o]&&""!=t[o])return i=t,1;if("up"==a)e(t.parentNode);else for(var r=t.children,n=0;n<r.length;n++)e(r[n])}(e),i}function mergeObj(e){var t=arguments.length,r={};for(var n=0;n<t;n++)for(var a=arguments[n],o=Object.keys(a),i=0;i<o.length;i++){var s=o[i];!function e(t,r,n){if(n&&"Object"==n.constructor.name)for(var a=Object.keys(n),o=0;o<a.length;o++){var i=a[o],s=n[i];t[r]||(t[r]={}),e(t[r],i,s)}else t[r]=n}(r,s,a[s])}return r}function regexMatchAll(e,t){for(var r=[],n=!0===e.global?e:new RegExp(e,"g");null!==(matches=n.exec(t));)r.push(matches);return r}function getCookie(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"all";function a(e){for(var t={},r=["string","name","value"],n=0;n<r.length;n++)t[r[n]]=e[n];return t}function t(e){var t=regexMatchAll("("+e+")=([^;]+)(?:;|$)",document.cookie);if(1==t.length)return a(t[0]);if(1<t.length){for(var r=[],n=0;n<t.length;n++)r.push(a(t[n]));return r}return!1}return t("all"==e?"[^\\s=]+":e)}function setCookie(e){var a=mergeObj([{name:"",value:"",path:"/",domain:!1,"max-age":789e4,expires:!1,secure:!1,samesite:"lax"},e]),o=Object.keys(a),i="";return function(){if(""==a.name)throw new Error('Could not update cookie: Property "name" is required but was not specified.\r\n\r\n'+JSON.stringify(e));i+=a.name+"=",i+=val=encodeURIComponent(a.value)}(),function(){for(var e=2;e<o.length;e++){var t=o[e],r=a[t],n="";!1!==r&&("boolean"!=typeof r&&(n="="+r),i+="; "+t+n)}}(),document.cookie=i}function deleteCookie(t){function e(e){setCookie({name:t,"max-age":e,expires:e})}e("immediately"==(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"immediately")&&0)}function updateProgressBar(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(null===n||"progressbar"!=n.getAttribute("role")){var t=new Error;throw t.name="updateProgressBar Error",t.message="A valid progress bar was not passed.\n\rProgress Bar: ".concat(n),t}var a,o,i=getClass(n,"progress"),s=mergeObj({interval:!1,intervalDelay:1e3,intervalIncrement:5,start:null,resetOnZero:!1,useWidth:!1},e),l=n.id;!s.resetOnZero||0<r?(a=function(e){var t=0<arguments.length&&void 0!==e?e:r;n.setAttribute("data-progress",t),n.setAttribute("aria-valuenow",t),s.useWidth?i.style.width="".concat(t,"%"):i.style.transform="translateX(".concat(t,"%)")},pbIntervals[l]&&clearInterval(pbIntervals[l].interval),!1===s.interval?a():(o=tryParseInt(n.getAttribute("data-progress"),"ignore"),null!==s.start&&o<s.start?a(s.start):a(o+s.intervalIncrement),""==n.id&&(l="progressbar_".concat(randomNum(100,1e3)),n.id=l),pbIntervals[l]={},pbIntervals[l].end=r,pbIntervals[l].increment=s.intervalIncrement,pbIntervals[l].interval=setInterval(function(){var e=n.id,t=tryParseInt(n.getAttribute("data-progress"),"throw")+pbIntervals[e].increment,r=pbIntervals[e].end;t<=r?a(t):(a(r),clearInterval(pbIntervals[e].interval),delete pbIntervals[e])},s.intervalDelay))):(n.setAttribute("data-progress",0),i.style.removeProperty("transform"))}function checkPlural(e){return 1!=e?"s":""}
function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _createForOfIteratorHelper(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){a&&(e=a);function r(){}var o=0;return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){s=!0,n=e},f:function(){try{i||null==a.return||a.return()}finally{if(s)throw n}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var globalScrollTimer,hashTargetTimeout,lastFocus,loadEventFired=!1,globalScriptLoaded=!0,globalScrollUpdates=0,focusLock={set:function(e,t){focusLock.active={},focusLock.active.elements=e,focusLock.active.callback=t},clear:function(){focusLock.active=!1},handle:function(e){var t=e.type,a=e.target;if(focusLock.active){var r,o,n,i=focusLock.active.elements,s=function(){var e=[];if(e.push(document.getElementById("alert_popup_feed")),i.constructor===Array){var t,a=_createForOfIteratorHelper(i);try{for(a.s();!(t=a.n()).done;){var r=t.value;e.push(r)}}catch(e){a.e(e)}finally{a.f()}}else e.push(i);return e}();if("click"==t){do{var l,c=_createForOfIteratorHelper(s);try{for(c.s();!(l=c.n()).done;){if(a==l.value)return}}catch(e){c.e(e)}finally{c.f()}a=a.parentNode}while(a);focusLock.active.callback()}else{"keydown"==t&&(o=(r=function(){var e=[];if(i.constructor===Array){var t,a=_createForOfIteratorHelper(i);try{for(a.s();!(t=a.n()).done;)var r=t.value,e=e.concat(getElements(r,"focusables"))}catch(e){a.e(e)}finally{a.f()}}else e=e.concat(getElements(i,"focusables"));return e}())[0],n=r[r.length-1],!0===e.shiftKey&&"Tab"==e.key&&a==o||!1===e.shiftKey&&"Tab"==e.key&&a==n?(e.preventDefault(),a==o?n.focus():a==n&&o.focus()):"Escape"==e.key&&(e.preventDefault(),focusLock.active.callback()))}}},active:!1},shiftStats=!1,hashListeners={},shiftNames={bl1:"Borderlands: GOTY",bl2:"Borderlands 2",bl3:"Borderlands 3",tps:"Borderlands: The Pre-Sequel"},shiftUpdates={creation_time:"",update_time:"",interval:{id:0,frequency:12e4,set:function(){shiftUpdates.interval.id=setInterval(shiftUpdates.interval.check,shiftUpdates.interval.frequency)},clear:function(){clearInterval(shiftUpdates.interval.id)},check:function(o){var n="/assets/php/scripts/shift/checkForUpdates";newAjaxRequest({file:"".concat(n,"?getDetails=false"),callback:function(e){var c=tryJSONParse(e);if(c){c=c.payload;var t,a=_createForOfIteratorHelper(["creation","update"]);try{for(a.s();!(t=a.n()).done;){var r=function(){var s=t.value,l="".concat(s,"_time"),e=c[l].timestamp;if(shiftUpdates[l]<e&&!o)return shiftUpdates.interval.clear(),newAjaxRequest({file:"".concat(n,"?getDetails=true"),callback:function(e){var t,a=(c=tryJSONParse(e).payload)[l].id,r=c[l].game_id,o=shiftNames[r],n="/".concat(r)==window.location.pathname,i="#shift_code_".concat(a);"creation"!=s&&!n||newToast({settings:{id:"shift_update_notice",duration:"infinite"},content:{icon:"fas fa-key",title:"creation"==s?"New SHiFT Code for ".concat(o,"!"):"SHiFT Code Update for ".concat(o,"!"),body:(t="","creation"==s?(t+="A new SHiFT Code has just been added to ShiftCodesTK! ",t+=n?"Refresh the list to access the new code.":"Do you want to go there now?"):t+="A SHiFT Code has just been updated. Refresh the list for changes to take effect.",t)},action:{use:!0,type:"link",close:n,action:n&&function(){window.location.hash==i&&(window.location.hash="#0"),shiftUpdates.interval.set()},link:n?i:"/".concat(r).concat(i),name:n?"Refresh":"View code",label:n?"Refresh the list of SHiFT Codes.":"Visit the ".concat(o," SHiFT Code page")}})}}),{v:void 0};shiftUpdates[l]=e}();if("object"===_typeof(r))return r.v}}catch(e){a.e(e)}finally{a.f()}}else shiftUpdates.interval.clear()}})}}};function parseWebpImages(e){var t=document.body.getAttribute("data-webp-support");if(null!==t){var a="true"==t,r=e.getElementsByTagName("*");for(i=0;i<r.length;i++){var o=r[i].getAttribute("data-webp"),n=void 0;null!==o&&((n=JSON.parse(o)).fullPath=n.path,!0==a?n.fullPath+=".webp":!1==a&&(n.fullPath+=n.alt),"bg"==n.type?r[i].style.backgroundImage="url("+n.fullPath+")":"img"==n.type&&(r[i].src=n.fullPath),r[i].removeAttribute("data-webp"))}}else setTimeout(function(){parseWebpImages(e)},250)}function webpSupportUpdate(e){document.body.setAttribute("data-webp-support",e),parseWebpImages(document),document.getElementsByClassName("webp-support")[0].remove()}function addFocusScrollListeners(e){var t=e.getElementsByTagName("*");for(i=0;i<t.length;i++){var a=t[i];"BUTTON"!=a.tagName&&"A"!=a.tagName&&"INPUT"!=a.tagName&&"SELECT"!=a.tagName&&"TEXTAREA"!=a.tagName||!1===a.classList.contains("no-focus-scroll")&&a.addEventListener("focusin",function(e){updateScroll(this)})}}function updateScroll(r){if(!1===hasClass(r,"clipboard-copy")&&!1===hasClass(r,"hidden")){var e=[document.documentElement,document.body],t=null!=(d=r.getAttribute("data-scrollPaddingTop"))?d:0,a=null!=(u=r.getAttribute("data-scrollPaddingBottom"))?u:0,o=64+t,n=e[1].getBoundingClientRect().height-a,i=16,s={};s.base=function(){var e,t=r.tagName.toLowerCase();if("input"!=t&&"select"!=t&&"textarea"!=t)e=r;else for(var a=r;;){if(!0===a.classList.contains("input-container")){e=a;break}a=a.parentNode}return e.getBoundingClientRect()}(),s.top=s.base.top-i,s.bottom=s.base.bottom+i;var l=s.top<o,c=s.bottom>n;if(!0===l)for(x=0;x<e.length;x++)e[x].scrollTop-=o-s.top;else if(!0===c)for(x=0;x<e.length;x++)e[x].scrollTop+=s.bottom-n;!0!==l&&!0!==c||(globalScrollUpdates=0)}var u,d}function toggleBodyScroll(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"toggle",a=document.body,r="scroll-disabled",o="data-last-scroll",n=hasClass(a,r);return a.scrollHeight>window.innerHeight&&("toggle"==t&&(t=n),t?(delClass(a,r),a.style.removeProperty("top"),setTimeout(function(){window.scrollTo(0,tryParseInt(a.getAttribute(o))),a.removeAttribute(o)},50)):(e=window.pageYOffset,a.setAttribute(o,e),setTimeout(function(){a.style.top="-".concat(e,"px"),addClass(a,r)},50)),!0)}function hashUpdate(){var e,t=window.location.hash,a=""!=t;!function(){var e=document.getElementsByTagName("*");for(i=0;i<e.length;i++)null!==e[i].getAttribute("data-hashtarget-highlighted")&&"#"+e[i].id!=t&&(e[i].removeAttribute("data-hashtarget-highlighted"),e[i].removeEventListener("mouseover",globalListenerHashTargetHover),e[i].removeEventListener("mouseout",globalListenerHashTargetAway)),null!==e[i].getAttribute("data-hashtarget")&&"#"+e[i].id!=t&&(e[i].removeAttribute("data-hashtarget"),e[i].removeEventListener("mouseover",globalListenerHashTargetHover),e[i].removeEventListener("mouseout",globalListenerHashTargetAway))}(),history.replaceState?history.replaceState(null,null,t):window.location.hash=t,!0!=a||!0==(null!==(e=document.getElementById(t.replace("#",""))))&&("true"!=e.getAttribute("data-hashtarget")&&(e.setAttribute("data-hashtarget","visible"),e.addEventListener("mouseover",globalListenerHashTargetHover),e.addEventListener("mouseout",globalListenerHashTargetAway),e.addEventListener("focusin",globalListenerHashTargetHover),e.addEventListener("focusout",globalListenerHashTargetAway)),updateScroll(e))}function checkHash(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=window.location.hash;function a(e){return 0==t.search("#".concat(e))&&(hashListeners[e](t),1)}if(e){if(a(e))return!0}else for(var r=Object.keys(hashListeners),o=0;o<r.length;o++)if(a(r[o]))return!0;return!1}function addHashListener(e,t){return hashListeners[e]=t,checkHash(e)}function copyToClipboard(e){var r=e.currentTarget;(function(){for(var e=parseInt(r.getAttribute("data-copy-target")),t=r,a=0;a<e;a++)t=t.parentNode;return getClass(t,"clipboard-copy")})().select(),document.execCommand("copy"),r.classList.remove("animated"),setTimeout(function(){r.classList.add("animated"),newToast({settings:{duration:"short",id:"clipboard-copy"},content:{icon:"fas fa-clipboard",title:"Copied to Clipboard",body:"This may not work in all browsers"},close:{use:!1}})},25)}function fixClickableContent(e){for(var t=e.childNodes,a=0;a<t.length;a++){var r,o=t[a];"#text"==o.nodeName&&((r=document.createElement("span")).innerHTML=o.textContent,e.replaceChild(r,o))}}function btnPressToggle(e){e.addEventListener("click",function(e){var t,a=e.currentTarget,r=!!(t=a.getAttribute("aria-pressed"))&&"true"==t;setTimeout(function(){a.setAttribute("aria-pressed",!r)},500)})}function globalListenerLoadClearScroll(){globalScrollUpdates=0,window.removeEventListener("load",globalListenerLoadClearScroll)}function globalListenerHashTargetHover(e){var t=this;hashTargetTimeout=setTimeout(function(){t.setAttribute("data-hashtarget","seen"),t.removeEventListener("mouseover",globalListenerHashTargetHover),t.removeEventListener("mouseout",globalListenerHashTargetAway),t.removeEventListener("focusin",globalListenerHashTargetHover),t.removeEventListener("focusout",globalListenerHashTargetAway)},750)}function globalListenerHashTargetAway(){clearTimeout(hashTargetTimeout)}function execGlobalScripts(){var e;"boolean"==typeof globalFunctionsReady?((e=document.createElement("img")).classList.add("webp-support"),e.onload=function(){webpSupportUpdate(!0)},e.onerror=function(){webpSupportUpdate(!1)},e.src="/assets/img/webp_support.webp",document.body.appendChild(e),hashUpdate(),function(){var e;if(document.getElementById("primary_header")){function l(e){var t=getTemplate(r[e.type]);"separator"!=e.type&&("crumb"==e.type&&(t.href=e.link,updateLabel(t,e.title)),e.icon?addClass(t,e.icon):t.innerHTML=e.title),a.appendChild(t)}var c={bl1:"Borderlands: GOTY",bl2:"Borderlands 2",tps:"Borderlands: The Pre-Sequel",bl3:"Borderlands 3","about-us":"About us",credits:"Credits",updates:"Updates",help:"Help Center","clearing-your-system-cache":"Clearing your System Cache",faq:"FAQ","how-to-redeem":"How to Redeem","borderlands-website":"Borderlands Website","shift-website":"SHiFT Website"},u=("/"==(e=window.location.pathname)[e.length-1]&&(e=e.slice(0,-1)),e),d=u.slice(1),a=document.getElementById("breadcrumb_container"),r={separator:"breadcrumb_separator_template",crumb:"breadcrumb_crumb_template",here:"breadcrumb_crumb_here_template"},t=Object.keys(r);l({type:"crumb",title:"Home",icon:"fas fa-home",link:"/"}),l({type:"separator"}),function(){var e,t=new RegExp("(\\/)|([\\w-]+)","g"),a=_createForOfIteratorHelper(regexMatchAll(t,d));try{for(a.s();!(e=a.n()).done;){var r,o,n,i,s=e.value[0];"/"==s?l({type:"separator"}):(r="/".concat(s),o=new RegExp("\\/","g"),n=new RegExp("".concat(r,"(.*)")),(i={title:c[s.replace(o,"")],link:u.replace(n,r)}).link!=u?i.type="crumb":i.type="here",l(i))}}catch(e){a.e(e)}finally{a.f()}}(),addClass(a.parentNode,"ready");for(var o=0,n=t;o<n.length;o++){var i=n[o];document.getElementById(r[i]).remove()}}}(),newAjaxRequest({file:"/assets/php/scripts/shift/getStats.php",callback:function(e){var t=tryJSONParse(e);t?shiftStats=t.payload:newToast({settings:{template:"exception"},content:{body:"We could not retrieve SHiFT Code statistics due to an error. This may affect the site until refreshed."}})}}),function(){for(var e=getElements(document,"clickables"),t=0;t<e.length;t++)fixClickableContent(e[t])}(),function(){for(var e=getTags(document,"button"),t=0;t<e.length;t++){var a=e[t];hasClass(a,"o-pressed")&&btnPressToggle(a)}}(),window.addEventListener("hashchange",function(e){event.preventDefault(),checkHash(),hashUpdate()}),window.addEventListener("scroll",function(){null!==globalScrollTimer&&clearTimeout(globalScrollTimer),globalScrollUpdates++,globalScrollTimer=setTimeout(function(){if(1==globalScrollUpdates){var e=document.getElementsByTagName("*");for(i=0;i<e.length;i++){var t=e[i].getBoundingClientRect().top;0<=t&&t<=1&&hashUpdate()}}globalScrollUpdates=0},150)}),window.addEventListener("load",globalListenerLoadClearScroll),addFocusScrollListeners(document),function(){var e=document.getElementsByTagName("a");for(i=0;i<e.length;i++)""!=e[i].hash&&e[i].addEventListener("click",hashUpdate)}(),window.addEventListener("click",focusLock.handle),window.addEventListener("keydown",focusLock.handle)):setTimeout(execGlobalScripts,250)}execGlobalScripts(),window.addEventListener("load",function(){loadEventFired=!0,setTimeout(function(){var e;(e=document.getElementById("startup")).parentNode.removeChild(e),shiftUpdates.interval.check(!0),shiftUpdates.interval.set()},2500)});
function retrieveDropdownMenuProps(e){var t,n={};return n.id=null===e.id?"dropdown_menu_"+Math.floor(900*Math.random()):e.id,n.target=document.getElementById(e.getAttribute("data-target")),n.toggler=null===(t=e.getAttribute("data-toggler"))?n.target:t,n.pos=e.getAttribute("data-pos"),n.options=getClasses(e,"choice"),n}function updateDropdownMenuPos(e){var t=retrieveDropdownMenuProps(e),n=document.body.getBoundingClientRect(),o=t.target.getBoundingClientRect();e.style.top="calc("+(n.top+"").replace("-","")+"px + "+o.top+"px)",e.style.left=o.left+"px",e.style.bottom="calc("+n.top+"px + "+n.height+"px - "+o.bottom+"px)",e.style.right="calc(100% - "+o.right+"px)"}function toggleDropdownMenu(n){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],t=retrieveDropdownMenuProps(n),o=(document.body.getBoundingClientRect(),t.target.getBoundingClientRect(),"true"==n.getAttribute("data-expanded"));function r(){n.setAttribute("data-expanded",!o),t.toggler.setAttribute("aria-expanded",!o),t.toggler.setAttribute("aria-pressed",!o)}!1==o?(updateDropdownMenuPos(n),vishidden(n,!1),setTimeout(function(){r(),window.addEventListener("click",checkDropdownMenuClick),window.addEventListener("keydown",checkDropdownMenuKey),function(){var e=n.getElementsByClassName("choice");for(i=0;i<e.length;i++){var t=e[i];if("true"==t.getAttribute("data-pressed"))return t.focus()}e[0].focus()}()},50)):(r(),window.removeEventListener("click",checkDropdownMenuClick),window.removeEventListener("keydown",checkDropdownMenuKey),setTimeout(function(){vishidden(n,!0),!1===e?t.toggler.focus():document.activeElement.blur()},250))}function addDropdownMenuListeners(e,t){var n=getClasses(e,"choice"),o=!0,r=!1,i=void 0;try{for(var a,d=n[Symbol.iterator]();!(o=(a=d.next()).done);o=!0){a.value.addEventListener("click",t)}}catch(e){r=!0,i=e}finally{try{o||null==d.return||d.return()}finally{if(r)throw i}}}function setupDropdownMenu(a){var e,t,d=retrieveDropdownMenuProps(a);t=document.getElementById("dropdown_menu_container"),function(){var e=document.createElement("div"),t=a.getElementsByClassName("choice");for(addClass(a,"configured"),a.id=d.id,updateDropdownMenuPos(a),a.setAttribute("data-expanded",!1),vishidden(a,!0),e.className="arrow",a.getElementsByClassName("choice-list")[0].setAttribute("role","menu"),i=0;i<t.length;i++){var n=t[i],o=d.id+"_item_"+i+"_label",r=document.createElement("span");r.id=o,r.innerHTML=n.innerHTML,n.setAttribute("role","menuitem"),n.setAttribute("aria-labelledby",o),n.innerHTML="",n.appendChild(r)}a.appendChild(e)}(),d.target.classList.add("dropdown-menu-target"),(e=d.toggler).setAttribute("data-toggles-dropdown-menu",a.id),e.setAttribute("aria-haspopup","menu"),e.setAttribute("aria-expanded",!1),e.setAttribute("aria-pressed",!1),e.setAttribute("autocomplete",!1),function(){for(var o=d.options,e=0;e<o.length;e++)!function(e){var n=o[e];hasClass(a,"o-press")&&n.addEventListener("click",function(e){setTimeout(function(){for(var e=0;e<o.length;e++){var t=o[e];"true"==t.getAttribute("aria-pressed")&&t.setAttribute("aria-pressed",!1)}n.setAttribute("aria-pressed",!0)},500)}),hasClass(a,"o-toggle")&&n.addEventListener("click",function(e){toggleDropdownMenu(a)})}(e)}(),t||((t=document.createElement("div")).className="dropdown-menu-container",t.id="dropdown_menu_container",document.body.insertBefore(t,document.body.childNodes[0])),t.appendChild(a)}function checkDropdownMenuClick(e){var t=e.target,n=function(){var e=document.getElementsByClassName("dropdown-menu");for(i=0;i<e.length;i++)if("true"==e[i].getAttribute("data-expanded"))return e[i]}();do{if(t==n)return;t=t.parentNode}while(t);toggleDropdownMenu(n,!0)}function checkDropdownMenuKey(e){var t=e.target,n=function(){var e=document.getElementsByClassName("dropdown-menu");for(i=0;i<e.length;i++)if("true"==e[i].getAttribute("data-expanded"))return e[i]}(),o=n.getElementsByClassName("choice"),r=o[0],a=o[o.length-1];!0===e.shiftKey&&"Tab"==e.key&&t==r||!1===e.shiftKey&&"Tab"==e.key&&t==a?(e.preventDefault(),t==r?a.focus():t==a&&r.focus()):"Escape"==e.key&&(e.preventDefault(),toggleDropdownMenu(n))}!function(){var e=setInterval(function(){globalFunctionsReady&&(clearInterval(e),function(){var e=document.getElementsByClassName("dropdown-menu"),t=!0,n=!1,o=void 0;try{for(var r,i=e[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;hasClass(a,"no-auto-config")||setupDropdownMenu(a)}}catch(e){n=!0,o=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw o}}}(),window.addEventListener("click",function(e){var t="data-toggles-dropdown-menu",n=e.target,o=n.getAttribute(t),r=findAttr(n,"up","exist",t);function i(e){toggleDropdownMenu(document.getElementById(e))}(o||r)&&i(o||r.getAttribute(t))}),window.addEventListener("resize",function(e){var t=document.getElementById("dropdown_menu_container");if(t){var n=getClasses(t,"dropdown-menu"),o=!0,r=!1,i=void 0;try{for(var a,d=n[Symbol.iterator]();!(o=(a=d.next()).done);o=!0){var u=a.value;"true"==u.getAttribute("data-expanded")&&updateDropdownMenuPos(u)}}catch(e){r=!0,i=e}finally{try{o||null==d.return||d.return()}finally{if(r)throw i}}}}))},250)}();
var defaultDropdownPanelLabels={false:"Expand Panel",true:"Collapse Panel"};function updateDropdownPanelAttributes(e,a){var t,n=e.getElementsByClassName("header")[0],r=null===(t=n.getAttribute("data-custom-labels"))?defaultDropdownPanelLabels:JSON.parse(t);e.setAttribute("data-expanded",a),n.setAttribute("aria-expanded",a),n.setAttribute("aria-pressed",a),n.title=r[a],n.setAttribute("aria-label",r[a])}function dropdownPanelSetup(e){var a=document.createElement("span");if(hasClass(e,"c")){var t=e.parentNode,n={};n.base=getTemplate("dropdown_panel_template"),n.title=getClass(n.base,"title"),n.icon=getClass(n.title,"icon"),n.primary=getClass(n.title,"primary"),n.secondary=getClass(n.title,"secondary"),n.body=getClass(n.base,"body");var r=["icon","primary","secondary","body"];""!=e.id&&(n.base.id=e.id);for(var l=0;l<r.length;l++){var o=r[l],s=getClass(e,o);void 0!==s?n[o].innerHTML=s.innerHTML:n[o].parentNode.removeChild(n[o])}delClass(e,"c"),t.replaceChild(n.base,e),e=n.base}updateDropdownPanelAttributes(e,!1),a.className="overlay-hashtarget",e.insertBefore(a,e.childNodes[0])}function toggleDropdownPanel(e){var a=e.parentNode,t="true"==a.getAttribute("data-expanded");updateDropdownPanelAttributes(a,!t)}!function(){var e=setInterval(function(){globalFunctionsReady&&(clearInterval(e),function(){var e=document.getElementsByClassName("dropdown-panel"),a=!0,t=!1,n=void 0;try{for(var r,l=e[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){var o=r.value;hasClass(o,"no-auto-config")||dropdownPanelSetup(o)}}catch(e){t=!0,n=e}finally{try{a||null==l.return||l.return()}finally{if(t)throw n}}}(),window.addEventListener("click",function(e){var a="dropdown-panel-toggle",t=e.target,n=findClass(t,"up",a);hasClass(t,a)?toggleDropdownPanel(t):n&&toggleDropdownPanel(n)}))},250)}();
document.getElementById("footer_return").addEventListener("click",function(e){this.blur()});
function imgViewClick(e){var l,n,t,i,a=e.target;"IMG"==a.tagName&&hasClass(a,"fullscreen")&&(l=document.getElementById("image_viewer"),n={},function(){for(var e=0,t=["header","title","close"];e<t.length;e++){var i=t[e];n[i]=getClass(l,i)}}(),t=a.getAttribute("data-fullscreen"),i=copyElm(a),delClass(i,"fullscreen"),addClass(i,"img"),l.insertBefore(i,n.header),t&&(n.title.innerHTML=t),vishidden(l,!1),setTimeout(function(){delClass(l,"inactive"),n.close.focus(),toggleBodyScroll(!1),focusLock.set([n.header,i],imgViewClose)},50))}function imgViewClose(){var l=document.getElementById("image_viewer"),n={};!function(){for(var e=0,t=["img","title"];e<t.length;e++){var i=t[e];n[i]=getClass(l,i)}}(),addClass(l,"inactive"),toggleBodyScroll(!0),focusLock.clear(),setTimeout(function(){vishidden(l,!0),l.removeChild(n.img),n.title.innerHTML=""},450)}!function(){var e=setInterval(function(){globalFunctionsReady&&(clearInterval(e),window.addEventListener("click",imgViewClick),getClass(document.getElementById("image_viewer"),"close").addEventListener("click",imgViewClose))},250)}();
function updNav(){var t=[window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop],e=document.getElementById("navbar"),n={setting:document.getElementById("theme_color"),background:document.getElementById("theme_color_bg").content,theme:document.getElementById("theme_color_tm").content};0<t[1]||0<t[2]||0<t[3]?(e.setAttribute("data-at-top",!1),n.setting.content=n.theme):(e.setAttribute("data-at-top",!0),n.setting.content=n.background)}function lpbUpdate(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o={duration:400,buffer:100};o.total=o.duration+o.buffer;var d=mergeObj(n,{interval:t,resetOnZero:!0}),a=document.getElementById("loader_pb"),r=tryParseInt(a.getAttribute("data-progress"),"ignore");function i(){function t(t){updateProgressBar(a,0<arguments.length&&void 0!==t?t:e,d)}hasClass(a,"is-loading")||addClass(a,"is-loading"),t(),100==e&&setTimeout(function(){delClass(a,"is-loading"),setTimeout(function(){t(0)},o.total)},o.total)}(r<e||0==r)&&(0!=r?setTimeout(i,o.buffer):i())}updNav(),window.addEventListener("scroll",updNav);
var pagers={};function pagerState(t,e){var a=getTags(t,"button"),r=!0,n=!1,o=void 0;try{for(var i,l=a[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var u=i.value;hasClass(u,"unavailable")||disenable(u,e)}}catch(t){n=!0,o=t}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}}function pagerUpdate(t){var e,a,r,n,d,v=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],p=pagers[t.id];p.now;function i(t,e){var a="unavailable";(!e&&hasClass(t,a)||e)&&disenable(t,e),(e?addClass:delClass)(t,a)}function y(t,e,a){var r,n=2<arguments.length&&void 0!==a&&a,o=p.subtractoffset?p.offset:0;t.setAttribute("data-page",e),t.setAttribute("data-value",e*p.offset-o),n&&(r=new RegExp("\\d+"),updateLabel(t,t.title.replace(r,e)),t.childNodes[0].innerHTML=e)}function l(o,t){var i=Math.floor((t-o)/2),e=function(){var t=v-i,e=v+i,a=p.min+o,r=p.max-o;if(a<=t&&e<=r)return t;if(a<=t){var n=r-2*i;return 0<n?n:1}return e<=r?a:void 0}(),a=0;function r(t,e){t.setAttribute("aria-pressed",e)}for(var n=o;n<t;n++){y(d[n],e+a,!0),a++}var l=!0,u=!1,s=void 0;try{for(var c,g=d[Symbol.iterator]();!(l=(c=g.next()).done);l=!0){var f=c.value;tryParseInt(f.getAttribute("data-page"))==v?r(f,!0):r(f,!1)}}catch(t){u=!0,s=t}finally{try{l||null==g.return||g.return()}finally{if(u)throw s}}}p.onclick,e=getClass(t,"previous"),(a=v-1)>=p.min?(y(e,a),i(e,!1)):(y(e,p.min),i(e,!0)),r=getClass(t,"next"),(n=v+1)<=p.max?(y(r,n),i(r,!1)):(y(r,p.max),i(r,!0)),5==(d=getClasses(t,"jump")).length?(o&&(y(d[0],p.min,!0),y(d[4],p.max,!0)),l(1,4)):l(0,d.length),p.now=v,pagerState(t,!1)}function pagerEvent(t){var e=t.currentTarget,a=findClass(e,"up","pager"),r=tryParseInt(e.getAttribute("data-page")),n=pagers[a.id];r!=n.now&&(pagerState(a,!0),n.onclick&&tryToRun({attempts:20,delay:250,function:function(){var t=document.getElementById(n.onclick);return!(!t||t.disabled)&&(t.focus(),!0)},customError:'Could not find focus target for pager "'.concat(a.id,'."')}),setTimeout(function(){pagerUpdate(a,r)},250))}function addPagerListeners(t,e){var a=!0,r=!1,n=void 0;try{for(var o,i=getTags(t,"button")[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){o.value.addEventListener("click",e)}}catch(t){r=!0,n=t}finally{try{a||null==i.return||i.return()}finally{if(r)throw n}}}function configurePager(g){var f=getTemplate("pager_template"),d=""!=g.id?g.id:"pager_".concat(randomNum(100,1e3));return f.id=d,function(){var t={};t.now=t.min=t.max=t.offset=1,t.subtractoffset=!1,t.onclick=!1;var e=Object.keys(t);pagers[d]={};for(var a=0,r=e;a<r.length;a++){var n=r[a],o=g.getAttribute("data-".concat(n)),i=tryParseInt(o,"ignore");i&&(o=i),pagers[d][n]=o||t[n]}}(),function(){var t=pagers[d],e=g.getAttribute("data-label");if(1<t.max){for(var a=t.max<=5?t.max:5,r=getClass(getClass(f,"jumps"),"content-container"),n=2;n<=a;n++)r.appendChild(copyElm(getTag(r,"button")));var o=!0,i=!1,l=void 0;try{for(var u,s=getTags(f,"button")[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=u.value;c.addEventListener("click",pagerEvent),e&&updateLabel(c,c.title.replace("Page",e))}}catch(t){i=!0,l=t}finally{try{o||null==s.return||s.return()}finally{if(i)throw l}}}}(),pagerUpdate(f,pagers[d].now,!0),g.parentNode.replaceChild(f,g),f}pagerScripts=setInterval(function(){globalFunctionsReady&&(clearInterval(pagerScripts),function(){var t=getClasses(document,"pager"),e=!0,a=!1,r=void 0;try{for(var n,o=t[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var i=n.value;hasClass(i,"no-auto-config")||hasClass(i,"configured")||configurePager(i)}}catch(t){a=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(a)throw r}}}())},250);
function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function toggleSB(){var e=document.getElementById("sidebar"),t={nav:document.getElementById("navbar_sb"),sb:document.getElementById("sidebar_toggle")},n="true"==e.getAttribute("data-expanded");function a(){vishidden(e,n)}function i(){e.setAttribute("data-expanded",!n),t.nav.setAttribute("data-pressed",!n),t.nav.setAttribute("aria-pressed",!n),!0==n?t.nav.focus():!1==n&&t.sb.focus()}!0==n?(i(),toggleBodyScroll(!0),focusLock.clear(),setTimeout(a,300)):(a(),toggleBodyScroll(!1),focusLock.set(getClass(e,"panel"),toggleSB),setTimeout(i,50))}function sidebarMarkup(){var e=document.getElementById("sidebar"),t=e.getElementsByTagName("li"),n=e.getElementsByTagName("a");for(i=0;i<t.length;i++){var a=t[i].getElementsByTagName("a")[0],o="sidebar_link_"+(i+1);t[i].setAttribute("role","menuitem"),a.classList.add("link"),a.id=o,a.getElementsByClassName("name")[0].id=o+"_name",null===a.getAttribute("aria-label")&&a.setAttribute("aria-labelledby",o+"_name")}for(i=0;i<n.length;i++)n[i].classList.add("no-focus-scroll")}sidebarMarkup(),function(){var e=new RegExp("\\/$","g"),t=window.location.pathname.replace(e,""),n=document.getElementById("sidebar").getElementsByClassName("link");for(i=0;i<n.length;i++){function a(e){n[i].setAttribute("data-selected",e),n[i].setAttribute("aria-selected",e)}n[i].getAttribute("href").replace(e,"")==t?a(!0):a(!1)}}(),function(){var e=setInterval(function(){tryToRun&&(clearInterval(e),tryToRun({attempts:!1,delay:500,function:function(){if(!shiftStats)return!1;var e=function(){var a=getClasses(document.getElementById("sidebar"),"use-badge"),o=document.getElementById("sidebar_template_badges").content.children;for(i=0;i<a.length;i++){var e=a[i].pathname.slice(1),l=shiftStats.new[e],r=shiftStats.expiring[e];(0<l||0<r)&&function(){var e=a[i],t={};t.base=copyElm(o[0]),t.new=copyElm(o[1]),t.exp=copyElm(o[2]);var n=void 0;e.appendChild(t.base),n=e.getElementsByClassName("badges")[0],0<l&&n.appendChild(t.new),0<r&&n.appendChild(t.exp)}()}return document.getElementById("sidebar_template_badges").remove(),{v:!0}}();return"object"===_typeof(e)?e.v:void 0}}))},500)}(),document.getElementById("navbar_sb").addEventListener("click",toggleSB),document.getElementById("sidebar_toggle").addEventListener("click",toggleSB);
var toasts={ready:!1,active:{},queue:{}};function toastTimeout(t,e){var o=t.id;"set"==e?(addClass(t,"expiring"),toasts.active[o].timeout=setTimeout(function(){toastTimeout(t,"expired")},toasts.active[o].duration)):(clearTimeout(toasts.active[o].timeout),"remove"==e?delClass(t,"expiring"):"expired"==e&&removeToast(t))}function newToast(t){var e,o,s,i,a={exception:{settings:{id:"exception",duration:"infinite"},content:{icon:"fas fa-exclamation-triangle",title:"An error has occurred"},action:{use:!0,type:"link",link:" ",name:"Refresh",label:"Refresh the page and try again"}}},n=(e=t.settings.template)&&"none"!==e&&void 0!==a[e]?a[e]:{},d=mergeObj({settings:{id:"toast",duration:"medium",template:"none"},content:{icon:"fas fa-bullhorn",title:"Toast",body:"This is a toast notification."},action:{use:!1,type:"link",link:"#",action:!1,close:!1,name:"Action",label:"The Action button"},close:{use:!0,type:"button",link:"#",action:!1,close:!0,name:"Dismiss",label:"Dismiss and close the toast"}},n,t),c=getTemplate("toast_template"),l={id:"toast_".concat(d.settings.id),duration:(o=d.settings.duration,void 0!==(s={short:2500,medium:5e3,long:7500})[o]?s[o]:o)},r={progress:getClass(getClass(c,"progress-bar"),"progress"),icon:getClass(c,"icon").childNodes[0],title:getClass(c,"title"),body:getClass(c,"body"),actions:getClass(c,"actions")},u=(document.getElementById("toast_list"),{title:"".concat(l.id,"_title"),body:"".concat(l.id,"_body")});function m(t,e){var o="button"==e.type?document.createElement("button"):document.createElement("a");return addClass(o,t),addClass(o,{button:"styled",link:"button"}[e.type]),o.innerHTML=e.name,updateLabel(o,e.label),"link"==e.type&&(o.href=e.link),e.action&&o.addEventListener("click",e.action),e.close&&(o.setAttribute("aria-controls",l.id),o.addEventListener("click",function(){removeToast(c)})),r.actions.appendChild(o),o}return c.id=l.id,r.progress.style.animationDuration="".concat(l.duration,"ms"),addClass(r.icon,d.content.icon),r.title.innerHTML=d.content.title,r.title.id=u.title,c.setAttribute("aria-labelledby",u.title),r.body.innerHTML=d.content.body,r.body.id=u.body,c.setAttribute("aria-describedby",u.body),d.action.use&&m("action",d.action),d.close.use&&m("close",d.close),"infinite"!=l.duration&&(c.addEventListener("mouseover",toastEvent),c.addEventListener("mouseout",toastEvent),c.addEventListener("click",toastEvent)),i=l.id,void 0===toasts.active[i]&&Object.keys(toasts.active).length<=3&&toasts.ready?(addToast(c,l),c):!toasts.queue[i]&&(toasts.queue[i]={toast:c,settings:l},c)}function addToast(t,e){var o=e.id;toasts.active[o]=e,document.getElementById("toast_list").appendChild(t),vishidden(t,!1),setTimeout(function(){"infinite"!=e.duration&&toastTimeout(t,"set")},200)}function removeToast(s){var i=document.getElementById("toast_list"),a=s.id;toasts.active[a];toastTimeout(s,"remove-timeout"),vishidden(s,!0),setTimeout(function(){var t,e,o=Object.keys(toasts.queue);i.removeChild(s),delete toasts.active[a],0<o.length&&(t=o[0],e=toasts.queue[t],setTimeout(function(){addToast(e.toast,e.settings),delete toasts.queue[o[0]]},500))},300)}function toastEvent(t){var e=t.type,o=t.currentTarget,s=hasClass(o,"expiring");"mouseover"==e||"click"==e?!0===s&&toastTimeout(o,"remove"):!1===s&&toastTimeout(o,"set")}window.addEventListener("load",function(){setTimeout(function(){var t,e=Object.keys(toasts.queue),o=3<=(t=e.length)?2:t-1;toasts.ready=!0;for(var s=o;0<=s;s--){var i=e[s],a=toasts.queue[i];addToast(a.toast,a.settings),delete toasts.queue[i]}},2500)});