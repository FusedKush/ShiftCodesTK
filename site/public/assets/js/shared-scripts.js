function _createForOfIteratorHelper(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){a&&(e=a);function o(){}var r=0;return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){s=!0,n=e},f:function(){try{i||null==a.return||a.return()}finally{if(s)throw n}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}var globalScrollTimer,hashTargetTimeout,lastFocus,ShiftCodesTK={},loadEventFired=!1,globalScriptLoaded=!0,globalScrollUpdates=0,focusLock={set:function(e,t){focusLock.active={},focusLock.active.elements=e,focusLock.active.callback=t},clear:function(){focusLock.active=!1},handle:function(e){var t=e.type,a=e.target;if(focusLock.active){var o,r,n,i=focusLock.active.elements,s=function(){var e=[];if(e.push(ShiftCodesTK.toasts.containers.activeToasts),"Array"==i.constructor.name){var t,a=_createForOfIteratorHelper(i);try{for(a.s();!(t=a.n()).done;){var o=t.value;e.push(o)}}catch(e){a.e(e)}finally{a.f()}}else e.push(i);return e}();if("click"==t){do{var l,c=_createForOfIteratorHelper(s);try{for(c.s();!(l=c.n()).done;){if(a==l.value)return!0}}catch(e){c.e(e)}finally{c.f()}a=a.parentNode}while(a);focusLock.active.callback()}else{"keydown"==t&&(r=(o=function(){var e=[];if(i.constructor===Array){var t,a=_createForOfIteratorHelper(i);try{for(a.s();!(t=a.n()).done;)var o=t.value,e=e.concat(dom.find.children(o,"group","focusables"))}catch(e){a.e(e)}finally{a.f()}}else e=e.concat(dom.find.children(i,"group","focusables"));return e}())[0],n=o[o.length-1],!0===e.shiftKey&&"Tab"==e.key&&a==r||!1===e.shiftKey&&"Tab"==e.key&&a==n?(e.preventDefault(),a==r?n.focus():a==n&&r.focus()):"Escape"==e.key&&(e.preventDefault(),focusLock.active.callback()))}}},active:!1},shiftStats=!1,hashListeners={},requestToken={tagName:"tk-request-token",check:function(l){newAjaxRequest({file:"/assets/requests/get/token",callback:function(e){var t=requestToken.get(),a=tryJSONParse(e);if(a&&200==a.statusCode){var o=a.payload.token;if("unchanged"!=o){var r=dom.find.children(document.body,"attr","name","auth_token"),t=o;edit.attr(getMetaTag(requestToken.tagName),"add","content",t);var n,i=_createForOfIteratorHelper(r);try{for(i.s();!(n=i.n()).done;){var s=n.value;edit.attr(s,"add","value",t)}}catch(e){i.e(e)}finally{i.f()}"function"==typeof l&&l(t)}}else newToast({settings:{template:"exception"},content:{body:"Your request token could not be updated due to an error. This may affect the site until refreshed."}})}})},get:function(){return getMetaTag(requestToken.tagName).content}},shiftNames={bl1:"Borderlands: GOTY",bl2:"Borderlands 2",bl3:"Borderlands 3",tps:"Borderlands: The Pre-Sequel"};function parseWebpImages(e){var t=document.body.getAttribute("data-webp-support");if(null!==t){var a="true"==t,o=e.getElementsByTagName("*");for(i=0;i<o.length;i++){var r=o[i].getAttribute("data-webp"),n=void 0;null!==r&&((n=JSON.parse(r)).fullPath=n.path,!0==a?n.fullPath+=".webp":!1==a&&(n.fullPath+=n.alt),"bg"==n.type?o[i].style.backgroundImage="url("+n.fullPath+")":"img"==n.type&&(o[i].src=n.fullPath),o[i].removeAttribute("data-webp"))}}else setTimeout(function(){parseWebpImages(e)},250)}function webpSupportUpdate(e){document.body.setAttribute("data-webp-support",e),parseWebpImages(document),document.getElementsByClassName("webp-support")[0].remove()}function addFocusScrollListeners(e){var t=e.getElementsByTagName("*");for(i=0;i<t.length;i++){var a=t[i];"BUTTON"!=a.tagName&&"A"!=a.tagName&&"INPUT"!=a.tagName&&"SELECT"!=a.tagName&&"TEXTAREA"!=a.tagName||!1===a.classList.contains("no-focus-scroll")&&a.addEventListener("focusin",function(e){updateScroll(this)})}}function updateScroll(o){if(!dom.has(o,"class","clipboard-copy")&&!dom.has(o,"class","hidden")){var e=[document.documentElement,document.body],t=null!=(u=o.getAttribute("data-scrollPaddingTop"))?u:0,a=null!=(d=o.getAttribute("data-scrollPaddingBottom"))?d:0,r=64+t,n=e[1].getBoundingClientRect().height-a,i=16,s={};s.base=function(){var e,t=o.tagName.toLowerCase();if("input"!=t&&"select"!=t&&"textarea"!=t)e=o;else for(var a=o;;){if(!0===a.classList.contains("input-container")){e=a;break}a=a.parentNode}return e.getBoundingClientRect()}(),s.top=s.base.top-i,s.bottom=s.base.bottom+i;var l=s.top<r,c=s.bottom>n;if(!0===l)for(x=0;x<e.length;x++)e[x].scrollTop-=r-s.top;else if(!0===c)for(x=0;x<e.length;x++)e[x].scrollTop+=s.bottom-n;!0!==l&&!0!==c||(globalScrollUpdates=0)}var d,u}function toggleBodyScroll(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"toggle",a=document.body,o="scroll-disabled",r="data-last-scroll",n=dom.has(a,"class",o);return a.scrollHeight>window.innerHeight&&(t!=!n&&("toggle"==t&&(t=n),t?(edit.class(a,"remove",o),a.style.removeProperty("top"),setTimeout(function(){window.scrollTo(0,tryParseInt(a.getAttribute(r))),a.removeAttribute(r)},50)):(e=window.pageYOffset,a.setAttribute(r,e),setTimeout(function(){a.style.top="-".concat(e,"px"),edit.class(a,"add",o)},50)),!0))}function hashUpdate(){var e,t=window.location.hash,a=""!=t;!function(){var e=document.getElementsByTagName("*");for(i=0;i<e.length;i++)null!==e[i].getAttribute("data-hashtarget-highlighted")&&"#"+e[i].id!=t&&(e[i].removeAttribute("data-hashtarget-highlighted"),e[i].removeEventListener("mouseover",globalListenerHashTargetHover),e[i].removeEventListener("mouseout",globalListenerHashTargetAway)),null!==e[i].getAttribute("data-hashtarget")&&"#"+e[i].id!=t&&(e[i].removeAttribute("data-hashtarget"),e[i].removeEventListener("mouseover",globalListenerHashTargetHover),e[i].removeEventListener("mouseout",globalListenerHashTargetAway))}(),history.replaceState?history.replaceState(null,null,t):window.location.hash=t,!0!=a||!0==(null!==(e=document.getElementById(t.replace("#",""))))&&("true"!=e.getAttribute("data-hashtarget")&&(e.setAttribute("data-hashtarget","visible"),e.addEventListener("mouseover",globalListenerHashTargetHover),e.addEventListener("mouseout",globalListenerHashTargetAway),e.addEventListener("focusin",globalListenerHashTargetHover),e.addEventListener("focusout",globalListenerHashTargetAway)),updateScroll(e))}function checkHash(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=window.location.hash;function a(e){return 0==t.search("#".concat(e))&&(hashListeners[e](t),1)}if(e){if(a(e))return!0}else for(var o=Object.keys(hashListeners),r=0;r<o.length;r++)if(a(o[r]))return!0;return!1}function addHashListener(e,t){return hashListeners[e]=t,checkHash(e)}function copyToClipboard(e){var o=e.currentTarget;(function(){for(var e=parseInt(o.getAttribute("data-copy-target")),t=o,a=0;a<e;a++)t=t.parentNode;return dom.find.child(t,"class","clipboard-copy")})().select(),document.execCommand("copy"),o.classList.remove("animated"),setTimeout(function(){o.classList.add("animated"),newToast({settings:{duration:"short",id:"clipboard-copy"},content:{icon:"fas fa-clipboard",title:"Copied to Clipboard",body:"This may not work in all browsers"},close:{use:!1}})},25)}function fixClickableContent(e){for(var t=e.childNodes,a=0;a<t.length;a++){var o,r=t[a];"#text"==r.nodeName&&((o=document.createElement("span")).innerHTML=r.textContent,e.replaceChild(o,r))}}function btnPressToggle(e){e.addEventListener("click",function(e){var t=e.currentTarget,a=dom.has(t,"attr","aria-pressed","true");setTimeout(function(){t.setAttribute("aria-pressed",!a)},500)})}function globalListenerLoadClearScroll(){globalScrollUpdates=0,window.removeEventListener("load",globalListenerLoadClearScroll)}function globalListenerHashTargetHover(e){var t=this;hashTargetTimeout=setTimeout(function(){t.setAttribute("data-hashtarget","seen"),t.removeEventListener("mouseover",globalListenerHashTargetHover),t.removeEventListener("mouseout",globalListenerHashTargetAway),t.removeEventListener("focusin",globalListenerHashTargetHover),t.removeEventListener("focusout",globalListenerHashTargetAway),history.pushState?history.pushState(null,null,window.location.href.split("#")[0]):window.location.hash="##"},750)}function globalListenerHashTargetAway(){clearTimeout(hashTargetTimeout)}function execGlobalScripts(){var e;"boolean"==typeof globalFunctionsReady?((e=document.createElement("img")).classList.add("webp-support"),e.onload=function(){webpSupportUpdate(!0)},e.onerror=function(){webpSupportUpdate(!1)},e.src="/assets/img/webp_support.webp",document.body.appendChild(e),hashUpdate(),newAjaxRequest({file:"/assets/requests/get/shift/stats",callback:function(e){var t=tryJSONParse(e);t?shiftStats=t.payload:newToast({settings:{template:"exception"},content:{body:"We could not retrieve SHiFT Code statistics due to an error. This may affect the site until refreshed."}})}}),function(){for(var e=dom.find.children(document,"group","clickables"),t=0;t<e.length;t++)fixClickableContent(e[t])}(),function(){for(var e=dom.find.children(document,"tag","button"),t=0;t<e.length;t++){var a=e[t];dom.has(a,"class","o-pressed")&&btnPressToggle(a)}}(),function(){var e,t,a={};a.main=dom.find.id("containers"),a.stylesheets=(e=dom.find.children(document.head,"attr","rel","stylesheet"))[e.length-1],a.scripts=(t=dom.find.children(document.body,"tag","script"))[t.length-1],a.modals=dom.find.id("modals"),a.templates=dom.find.id("templates");var o={stylesheets:dom.find.children(document.body,"attr","rel","stylesheet"),scripts:dom.find.children(document.body,"tag","script"),modals:dom.find.children(document.body,"class","modal"),templates:dom.find.children(document.body,"tag","template")};for(var r in o)for(var n=a[r],i=o[r],s=i.length-1;0<=s;s--){var l=i[s];l!=n&&l.parentNode!=n&&(-1!=["stylesheets","scripts"].indexOf(r)?n.insertAdjacentElement("afterend",l):n.appendChild(l))}}(),window.addEventListener("hashchange",function(e){event.preventDefault(),checkHash(),hashUpdate()}),window.addEventListener("scroll",function(){null!==globalScrollTimer&&clearTimeout(globalScrollTimer),globalScrollUpdates++,globalScrollTimer=setTimeout(function(){if(1==globalScrollUpdates){var e=document.getElementsByTagName("*");for(i=0;i<e.length;i++){var t=e[i].getBoundingClientRect().top;0<=t&&t<=1&&hashUpdate()}}globalScrollUpdates=0},150)}),window.addEventListener("load",globalListenerLoadClearScroll),addFocusScrollListeners(document),function(){var e=document.getElementsByTagName("a");for(i=0;i<e.length;i++)""!=e[i].hash&&e[i].addEventListener("click",hashUpdate)}(),window.addEventListener("click",focusLock.handle),window.addEventListener("keydown",focusLock.handle),ShiftCodesTK.cursor={},window.addEventListener("mousemove",function(e){ShiftCodesTK.cursor={x:e.clientX,y:e.clientY,target:e.target}})):setTimeout(execGlobalScripts,250)}execGlobalScripts(),window.addEventListener("load",function(){loadEventFired=!0});
function _createForOfIteratorHelper(o,e){var t;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(t=_unsupportedIterableToArray(o))||e&&o&&"number"==typeof o.length){t&&(o=t);function n(){}var r=0;return{s:n,n:function(){return r>=o.length?{done:!0}:{done:!1,value:o[r++]}},e:function(o){throw o},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,a=!0,i=!1;return{s:function(){t=o[Symbol.iterator]()},n:function(){var o=t.next();return a=o.done,o},e:function(o){i=!0,d=o},f:function(){try{a||null==t.return||t.return()}finally{if(i)throw d}}}}function _unsupportedIterableToArray(o,e){if(o){if("string"==typeof o)return _arrayLikeToArray(o,e);var t=Object.prototype.toString.call(o).slice(8,-1);return"Object"===t&&o.constructor&&(t=o.constructor.name),"Map"===t||"Set"===t?Array.from(o):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(o,e):void 0}}function _arrayLikeToArray(o,e){(null==e||e>o.length)&&(e=o.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=o[t];return n}var dropdownMenuListeners={};function getDropdownMenuProps(t){try{if(!t)throw"Provided dropdown is not a valid Element.";if(void 0===t.getElementsByClassName)throw"Provided dropdown is not currently in the DOM. getDropdownMenuProps() can only be called for Dropdown Menus that are currently present in the DOM.";if(!dom.has(t,"class","dropdown-menu"))throw"Provided dropdown is not a valid Dropdown Menu.";return{name:dom.get(t,"attr","data-dropdown"),id:dom.get(t,"attr","id"),toggle:function(){if(dom.has(t,"attr","id")){var o=dom.find.child(document.body,"attr","data-dropdown-menu-toggle",t.id);if(o)return o}var e=dom.find.child(t.parentNode,"class","dropdown-menu-toggle");return e||!1}(),modes:{toggleDropdown:dom.has(t,"class","o-toggle"),toggleButton:dom.has(t,"class","o-press")},choices:!!(o=dom.find.child(t,"class","choice-list"))&&dom.find.children(o,"class","choice")}}catch(o){return console.error("getDropdownMenuProps Error: ".concat(o)),!1}var o}function updateDropdownMenuPos(o){var e=getDropdownMenuProps(o);try{if(!o||!dom.has(o,"class","dropdown-menu"))throw"Provided dropdown is not a valid Dropdown Menu.";if(document.body&&e.toggle){var t=dom.has(o,"class","sticky"),n={body:document.body.getBoundingClientRect(),toggle:e.toggle.getBoundingClientRect(),last:{x:dom.get(o,"attr","data-last-pos-x"),y:dom.get(o,"attr","data-last-pos-y")}},r={top:t?"".concat(n.toggle.top,"px"):"calc(".concat(n.body.top.toString().replace("-",""),"px + ").concat(n.toggle.top,"px)"),right:"calc(100% - ".concat(n.toggle.right,"px)"),bottom:t?"calc(".concat(n.body.height,"px - ").concat(n.toggle.bottom,"px)"):"calc(".concat(n.body.top,"px + ").concat(n.body.height,"px - ").concat(n.toggle.bottom,"px)"),left:"".concat(n.toggle.left,"px")};return o.style.inset&&dom.has(o,"class","sticky")||(o.style.inset=Object.values(r).join(" ")),!0}return!1}catch(o){return console.error("updateDropdownMenuPos Error: ".concat(o)),!1}}function addDropdownMenuListener(o,e){try{if(void 0===o||"string"!=typeof o)throw"A valid Dropdown Name must be provided.";if(void 0===e||"Function"!=e.constructor.name)throw"Provided callback is not a callable function.";return dropdownMenuListeners[o]||(dropdownMenuListeners[o]=[]),dropdownMenuListeners[o].push(e),!0}catch(o){return console.error("addDropdownMenuListener Error: ".concat(o)),!1}}function updateDropdownMenu(o,e){var t=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];try{if(void 0===o||!o||!dom.has(o,"class","dropdown-menu"))throw"Provided dropdown is not a valid Dropdown Menu.";if(void 0===e||"string"!=typeof e||!dom.find.child(o,"attr","data-value",e))throw"A valid option must be provided.";var n=getDropdownMenuProps(o),r=dom.find.child(o,"attr","data-value",e);if(t){var d=dropdownMenuListeners[n.name];if(d){var a,i=_createForOfIteratorHelper(d);try{for(i.s();!(a=i.n()).done;){(0,a.value)(e,r,o)}}catch(o){i.e(o)}finally{i.f()}}}if(n.modes.toggleButton){var c,l=_createForOfIteratorHelper(n.choices);try{for(l.s();!(c=l.n()).done;){var s=c.value,u=dom.get(s,"attr","data-value");edit.attr(s,"update","aria-pressed",u==e)}}catch(o){l.e(o)}finally{l.f()}}return t&&n.modes.toggleDropdown&&toggleDropdownMenu(o,!0),!0}catch(o){return console.error("updateDropdownMenu Error: ".concat(o)),!1}}function toggleDropdownMenu(o){var e,t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=getDropdownMenuProps(o);try{function r(){var o=n.toggle;o&&(edit.attr(o,"update","aria-pressed",!c),edit.attr(o,"update","aria-expanded",!c))}if(!o||!dom.has(o,"class","dropdown-menu"))throw"Provided dropdown is not a valid Dropdown Menu.";var d,i,a=dom.find.id("dropdown_menu_container"),c=0<a.childNodes.length&&a.childNodes[0]==o,l="".concat(n.id,"_placeholder");return c?(d=dom.find.id(l),r(),isHidden(o,!0),focusLock.clear(),setTimeout(function(){isDisabled(n.toggle,!1),t?n.toggle.focus():document.activeElement.blur(),console.log(d,o),d.parentNode.replaceChild(o,d)},250)):(i=edit.copy(o),r(),edit.attr(o,"update","id",l),a.appendChild(i),updateDropdownMenuPos(i),e=[i.childNodes[0],i.childNodes[1]],n.toggle&&e.push(n.toggle),focusLock.set(e,function(){toggleDropdownMenu(i)}),function(){var o=dom.find.children(i,"class","choice");if(o){var e,t=_createForOfIteratorHelper(o);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(dom.has(n,"attr","aria-pressed","true"))return n.focus()}}catch(o){t.e(o)}finally{t.f()}var r,d=_createForOfIteratorHelper(o);try{for(d.s();!(r=d.n()).done;){var a=r.value;if(!a.disabled)return a.focus()}}catch(o){d.e(o)}finally{d.f()}}}(),setTimeout(function(){isHidden(i,!1)},50)),!c}catch(o){return console.error("toggleDropdownMenu Error: ".concat(o)),null}}function configureDropdownMenu(o){try{if(!o||!dom.has(o,"class","dropdown-menu"))throw"Provided dropdown is not a valid Dropdown Menu.";var c=getDropdownMenuProps(o);return e=document.createElement("div"),edit.class(e,"add","panel"),l=e,s={title:dom.find.child(o,"class","title"),choices:dom.find.child(o,"class","choice-list")},c.id||function(){for($idInt=0,$idStr="";;)if($idInt=Math.floor(900*Math.random()),$idStr="dropdown_menu_".concat($idInt),!dom.find.id($idStr))return o.id=$idStr,c.id=$idStr}(),edit.class(o,"add","configured"),isHidden(o,!0),s.title&&(t=document.createElement("div"),edit.class(t,"add","title"),t.innerHTML=s.title.innerHTML,l.appendChild(t)),function(){if(s.choices){for(var o=function(){if("ul"==dom.get(s.choices,"tag"))return s.choices;var o=document.createElement("ul");return edit.class(o,"add","choice-list"),edit.attr(o,"add","role","menu"),o.innerHTML=s.choices.innerHTML,o}(),e=dom.find.children(o,"tag","li"),t=0;t<e.length;t++){var n,r=e[t],d="".concat(c.id,"_item_").concat(t),a=dom.find.child(r,"class","label"),i=dom.find.child(r,"group","clickables");edit.attr(r,"add","role","menuitem"),a&&(n="".concat(d,"_label"),edit.attr(a,"add","id",n),edit.attr(r,"add","aria-labelledby",n)),edit.class(i,"add","choice")}l.appendChild(o)}else console.warn('configureDropdownMenu Warning: Dropdown "'.concat(c.id,'" did not provide any choices.'))}(),o.innerHTML=l.outerHTML,n=document.createElement("div"),edit.class(n,"add","arrow"),edit.attr(n,"add","aria-hidden",!0),o.appendChild(n),function(){if(c.toggle){var o={"aria-haspopup":"menu","aria-expanded":!1,"aria-pressed":!1,autocomplete:!1,"data-dropdown-menu-toggle":c.id};for(var e in o)edit.attr(c.toggle,"add",e,o[e])}else console.warn('configureDropdownMenu Warning: A toggle could not be found for dropdown "'.concat(c.id,'".'))}(),o}catch(o){return console.error("configureDropdownMenu Error: ".concat(o)),!1}var e,t,n,l,s}!function(){var e=setInterval(function(){function o(o){var e=dom.find.id("dropdown_menu_container");e&&0<e.childNodes.length&&updateDropdownMenuPos(e.childNodes[0])}globalFunctionsReady&&(clearInterval(e),function(){var o,e=_createForOfIteratorHelper(dom.find.children(document.body,"class","dropdown-menu"));try{for(e.s();!(o=e.n()).done;){var t=o.value;dom.has(t,"class","no-auto-config")||dom.has(t,"class","configured")||configureDropdownMenu(t)}}catch(o){e.e(o)}finally{e.f()}}(),window.addEventListener("click",function(o){var e,t,n,r,d,a,i=o.target;r="data-".concat(n="dropdown-menu-toggle"),dom.has(i,"class",n)&&(!(e=dom.get(i,"attr",r))||(t=dom.find.id(e))&&toggleDropdownMenu(t)),dom.has(i,"class","choice")&&(d=dom.get(i,"attr","data-value"),a=dom.find.parent(i,"class","dropdown-menu"),!1!==d&&!1!==a&&updateDropdownMenu(a,d,!0))}),window.addEventListener("resize",o),window.addEventListener("scroll",o))},250)}();
function _createForOfIteratorHelper(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);function a(){}var n=0;return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,d=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return l=e.done,e},e:function(e){d=!0,o=e},f:function(){try{l||null==r.return||r.return()}finally{if(d)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var defaultDropdownPanelLabels={false:"Expand Panel",true:"Collapse Panel"};function updateDropdownPanelAttributes(e,t){var r,a=e.getElementsByClassName("header")[0],n=null===(r=a.getAttribute("data-custom-labels"))?defaultDropdownPanelLabels:JSON.parse(r);e.setAttribute("data-expanded",t),a.setAttribute("aria-expanded",t),a.setAttribute("aria-pressed",t),a.title=n[t],a.setAttribute("aria-label",n[t])}function dropdownPanelSetup(e){var t,r=document.createElement("span");if(dom.has(e,"class","c")){var a=e.parentNode,n={};n.base=edit.copy(dom.find.id("dropdown_panel_template")),n.title=dom.find.child(n.base,"class","title"),n.icon=dom.find.child(n.title,"class","icon"),n.primary=dom.find.child(n.title,"class","primary"),n.secondary=dom.find.child(n.title,"class","secondary"),n.body=dom.find.child(n.base,"class","body");var o=["icon","primary","secondary","body"];""!=e.id&&(n.base.id=e.id);for(var l=0;l<o.length;l++){var d=o[l],i=dom.find.child(e,"class",d);i?n[d].innerHTML=i.outerHTML:n[d].parentNode.removeChild(n[d])}t=document.createElement(dom.get(e,"tag")),edit.class(t,"add",e.className),edit.class(t,"add",n.base.className),t.innerHTML=n.base.innerHTML,edit.class(t,"remove","c"),n.base=t,a.replaceChild(n.base,e),e=n.base}updateDropdownPanelAttributes(e,!1),r.className="overlay-hashtarget",e.insertBefore(r,e.childNodes[0])}function toggleDropdownPanel(e){var t=e.parentNode,r="true"==t.getAttribute("data-expanded");updateDropdownPanelAttributes(t,!r)}!function(){var e=setInterval(function(){globalFunctionsReady&&(clearInterval(e),function(){var e,t=_createForOfIteratorHelper(document.getElementsByClassName("dropdown-panel"));try{for(t.s();!(e=t.n()).done;){var r=e.value;dom.has(r,"class","no-auto-config")||dropdownPanelSetup(r)}}catch(e){t.e(e)}finally{t.f()}}(),window.addEventListener("click",function(e){var t="dropdown-panel-toggle",r=e.target,a=dom.find.parent(r,"class",t);dom.has(r,"class",t)?toggleDropdownPanel(r):a&&toggleDropdownPanel(a)}))},250)}();
document.getElementById("footer_return").addEventListener("click",function(e){this.blur()});
function _createForOfIteratorHelper(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);function a(){}var o=0;return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i=!0,d=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){d=!0,n=e},f:function(){try{i||null==r.return||r.return()}finally{if(d)throw n}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function formInputMouseEvent(e){var t,r,d,a=e.target,l=dom.find.parents(a,"tag","fieldset");l&&(t=function(t,r){function e(e){"add"==t?edit.class(e,"add",r):"delete"==t&&edit.class(e,"remove",r)}if(d){var a,o=_createForOfIteratorHelper(d);try{for(o.s();!(a=o.n()).done;){if(e(a.value),"focus"==r)break}}catch(e){o.e(e)}finally{o.f()}}var n,i=_createForOfIteratorHelper(l);try{for(i.s();!(n=i.n()).done;){e(n.value)}}catch(e){i.e(e)}finally{i.f()}},r=e.type,d=dom.find.parents(a,"class","field"),"mouseover"==r?t("add","hover"):"mouseout"==r&&t("delete","hover"),"focusin"==r?t("add","focus"):"focusout"==r&&t("delete","focus"))}function formUpdateCharCounter(e){var t={max:tryParseInt(e.maxLength),now:e.value.length};t.left=t.max-t.now;var r=document.getElementById(e.id.replace("_input","_char_counter"));r.innerHTML=t.left,updateLabel(r,"".concat(t.left,"/").concat(t.max," characters remaining"))}function formToggleDetailsEvent(e){var t=dom.find.parent(e,"tag","form"),r=dom.has(t,"class","hide-details"),a={false:"Hide",true:"Show"};return!!t&&(edit.class(t,"toggle","hide-details"),e.innerHTML=e.innerHTML.replace(a[r],a[!r]),updateLabel(e,e.title.replace(a[r],a[!r])),!0)}function formGetField(e,t){try{var r;return function(){if(void 0===e||!dom.has(e,"tag","form"))throw"A valid target form must be provided.";if(void 0===t||0==t.trim().length)throw"A valid field name must be provided."}(),((r=dom.find.child(e,"attr","name",t))||!!(r=dom.find.child(e,"attr","name","".concat(t,"[]"))))&&r}catch(e){return console.error("formGetField Error: ".concat(e)),!1}}function formAddAlert(){var e,t,r,a,o,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};try{var i={info:"fa-info-circle",warning:"fa-exclamation-triangle",error:"fa-exclamation-circle"},d=mergeObj({form:null,target:!1,type:"error",message:null},n);return function(){if(null===d.form||!dom.has(d.form,"tag","form")||!dom.has(d.form,"class","configured"))throw"A valid target form must be provided.";if(!1===d.target||formGetField(d.form,d.target)||(console.warn('formAddAlert Warning: Field "'.concat(d.target,'" could not be found.')),d.target=!1),-1==["info","warning","error"].indexOf(d.type))throw"A valid type must be provided.";if(null===d.message||"string"!=typeof d.message||0==d.message.trim().length)throw"A valid message must be provided."}(),dom.has(d.form,"class","hide-alerts")?l():(e=dom.find.child(d.form,"class","alerts"),o=edit.copy(dom.find.id("form_alert_template")),edit.class(dom.find.child(dom.find.child(o,"class","icon"),"class","box-icon"),"add","fas ".concat(i[d.type])),dom.find.child(o,"class","message").innerHTML=d.message,t=o,!1!==d.target?(r=formGetField(d.form,d.target),(a=dom.find.child(dom.find.parent(r,"class","field"),"class","alerts"))?a.appendChild(t):e?e.appendChild(t):l()):e?e.appendChild(t):l()),!0}catch(e){return console.error("formAddAlert Error: ".concat(e)),!1}function l(){var e,t=newToast({settings:{id:"form_alert_toast_"+randomNum(100,9999),duration:"infinite"},content:{icon:"fas ".concat(i[d.type]),title:ucWords(d.type),body:d.message},action:{use:!1!==d.target&&formGetField(d.form,d.target),type:"button",action:function(e){var t,r,a=dom.get(e.target,"attr","data-form"),o=dom.get(e.target,"attr","data-field");a&&o&&(!(t=dom.find.id(a))||(r=formGetField(t,o))&&(e.preventDefault(),r.focus()))},name:"Show Field",label:"Show the associated field"}});t&&(e=dom.find.child(t,"class","action"),edit.attr(e,"add","data-form",d.form.id),edit.attr(e,"add","data-field",d.target))}}function formToggleState(e){var t=dom.find.children(e,"group","focusables"),r=dom.has(e,"attr","disabled")&&dom.has(e,"class","disabled-by-submit");edit.class(e,"toggle","disabled-by-submit"),isDisabled(e);var a,o=_createForOfIteratorHelper(t);try{for(o.s();!(a=o.n()).done;){var n=a.value;(!r&&!n.disabled||r&&dom.has(n,"class","disabled-by-submit"))&&(edit.class(n,"toggle","disabled-by-submit"),isDisabled(n))}}catch(e){o.e(e)}finally{o.f()}return!r}function formHandleSubmit(e){var s=e.target,c=e.submitter,f=dom.find.children(s,"group","focusables"),m={},t=dom.has(s,"class","ajax-submit"),r=dom.has(s,"class","use-ajax-progress-bar");if(!0,e.preventDefault(),e.stopImmediatePropagation(),t){formToggleState(s),dom.find.child(s,"class","alerts").innerHTML=[],r&&lpbUpdate(20);for(var a=0;a<f.length;a++)(function(e){var t,r,a=f[e],o="fieldset"==(t=dom.get(a,"tag"))||"select"==t||"a"==t||"button"==t?t:dom.get(a,"attr","type"),n=dom.get(a,"attr","name");if("a"==o||a.disabled&&!dom.has(a,"class","disabled-by-submit"))return;if("fieldset"==o&&0<a.innerHTML.trim().length)m[n]=a.innerHTML;else if("select"==o)for(var i=dom.find.children(a,"tag","option"),d=0;d<i.length;d++){var l=i[d];if(l.selected){m[n]=l.value;break}}else{"radio"==o||"checkbox"==o?("radio"==o?dom.find.children(s,"class","radio"):dom.find.children(s,"class","checkbox"),r=n.indexOf("[]")==n.length-2,a.checked&&(r&&!m[n]&&(m[n]=[]),r?m[n].push(a.value):m[n]=a.value)):0<a.value.trim().length&&("button"==o&&a!=c||(m[n]=a.value))}})(a);newAjaxRequest({type:dom.get(s,"attr","method"),file:dom.get(s,"attr","action"),requestHeader:"form",params:m,callback:function(e){response=tryJSONParse(e),response?function(){response.statusCode;for(var t,e=response.payload.form_result,o=[response.payload.info_messages,response.warnings,response.errors],n=0,i=o;n<i.length;n++)!function(){var e=i[n];if(e){var t,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;formAddAlert({form:s,target:!!a.parameter&&a.parameter,type:e==o[0]?"info":e==o[1]?"warning":e==o[2]?"error":void 0,message:a.message})}}catch(e){r.e(e)}finally{r.f()}}}();e?((t=response.payload.form_result_actions).toast&&newToast(t.toast),t.redirect&&setTimeout(function(){setTimeout(function(){var e=new RegExp("^reload$");window.location=decodeURIComponent(t.redirect.location.replace(e,""))},t.redirect.delay)},250)):setTimeout(function(){formToggleState(s)},500)}():newToast({settings:{duration:"infinite",template:"formResult"},content:{icon:"fas fa-exclamation-triangle",title:"Request Error",body:"We could not process and display the form response due to an error. Your information may or may not have been submitted properly."},action:{use:!0,type:"link",link:" ",name:"Refresh",label:"Refresh the current page"}}),r&&lpbUpdate(100)}}),r&&lpbUpdate(90,!0)}else requestToken.check(function(){s.submit()})}function formSetup(e){var t;t=""!=e.id?e.id:"form_".concat(randomNum(100,1e3)),e.id=t;edit.class(e,"add","configured")}function formUpdateField(f,m,u){var e,t,g=(e=dom.find.child(f,"attr","name",m))||(m+="[]",e=dom.find.child(f,"attr","name",m))?e:(m=m.slice(0,-2),!1),r=!!g&&dom.get(g,"tag"),h=!!g&&(t=dom.get(g,"attr","type"),"select"==r||"textarea"==r?r:t),p=!!g&&("select"==h||"checkbox"==h||"radio"==h?"multi":"single"),v=null!=u&&u.constructor.name.toLowerCase();return g?"array"==v&&"single"==p?(console.error('formUpdateField Error: The value for "'.concat(m,'" can only be an Array for Select, Radio, or Checkbox fields.')),!1):(function(){var e=u||"";if("single"==p)edit.attr(g,"update","value",e);else{var t="select"==h?dom.find.children(g,"tag","option"):dom.find.children(f,"attr","name",m),r="select"==h?"selected":"checked";if("select"==h){var a,o=_createForOfIteratorHelper(t);try{for(o.s();!(a=o.n()).done;){var n=a.value;edit.attr(n,"remove","selected")}}catch(e){o.e(e)}finally{o.f()}}var i,d=_createForOfIteratorHelper(t);try{for(d.s();!(i=d.n()).done;){var l=i.value,s=l.value,c=("string"==v?s==e:-1!=e.indexOf(s))?"add":"remove";edit.attr(l,c,r)}}catch(e){d.e(e)}finally{d.f()}}}(),!0):(console.error('formUpdateField Error: The field "'.concat(m,'" was not found in form "').concat(f.id,'".')),!1)}function formToggleField(e,t,r){try{var a=(c=dom.find.child(e,"attr","name",t))||(t+="[]",c=dom.find.child(e,"attr","name",t))?c:(t=t.slice(0,-2),!1);if(a){for(var o=dom.find.parent(a,"class","field"),n=0,i=["disabled","hidden","readonly","required"];n<i.length;n++)s=l=d=void 0,l=i[n],void 0!==(s=r[l])&&(d="toggle"==s?"toggle":!0===s?"add":!1===s?"remove":void 0,edit.attr(a,d,l),edit.class(o,d,l),"hidden"==l&&edit.attr(dom.find.parent(o,"tag","fieldset"),d,l));return!0}throw'formUpdateField: The field "'.concat(t,'" was not found in form "').concat(e.id,'".')}catch(e){return console.error(e),!1}var d,l,s,c}!function(){var e=setInterval(function(){globalFunctionsReady&&(clearInterval(e),function(){var e,t=_createForOfIteratorHelper(document.forms);try{for(t.s();!(e=t.n()).done;){var r=e.value;dom.has(r,"class","no-auto-config")||dom.has(r,"class","configured")||formSetup(r)}}catch(e){t.e(e)}finally{t.f()}}(),window.addEventListener("submit",formHandleSubmit),function(){for(var e=0,t=["mouseover","mouseout","focusin","focusout"];e<t.length;e++){var r=t[e];window.addEventListener(r,formInputMouseEvent)}}(),window.addEventListener("click",function(e){var t=e.target;dom.has(t,"tag","button")&&dom.has(t,"class","form-details-toggle")&&formToggleDetailsEvent(t)}))},250)}(),ShiftCodesTK.forms={getFormData:function(e,t){var d,l=1<arguments.length&&void 0!==t&&t,r=dom.find.children(e,"group","focusables"),s={},a=_createForOfIteratorHelper(r);try{for(a.s();!(d=a.n()).done;)(function(){var e,t=d.value,r=(e=dom.get(t,"tag"),-1!=["fieldset","select","a","button"].indexOf(e)?e:dom.get(t,"attr","type")),a=dom.get(t,"attr","name");if("a"==r||t.disabled&&!dom.has(t,"class","disabled-by-script"))return;if(-1!=["radio","checkbox"].indexOf(r))t.checked&&(a.indexOf("[]")==a.length-2?(void 0===s[a]&&(s[a]=[]),s[a].push(t.value)):s[a]=t.value);else if("select"==r){var o,n=_createForOfIteratorHelper(dom.find.children(t,"tag","option"));try{for(n.s();!(o=n.n()).done;){var i=o.value;if(i.selected){s[a]=i.value;break}}}catch(e){n.e(e)}finally{n.f()}}else"textarea"==r?0<t.innerHTML.trim().length&&(s[a]=t.innerHTML):"button"==r&&t!=l||0<t.value.trim().length&&(s[a]=t.value)})()}catch(e){a.e(e)}finally{a.f()}return s}};
function imgViewClick(e){var l,n,i,t,c=e.target;"IMG"==c.tagName&&dom.has(c,"class","fullscreen")&&(l=document.getElementById("image_viewer"),n={},function(){for(var e=0,i=["header","title","close"];e<i.length;e++){var t=i[e];n[t]=dom.find.child(l,"class",t)}}(),i=c.getAttribute("data-fullscreen"),t=edit.copy(c),edit.class(t,"remove","fullscreen"),edit.class(t,"add","img"),l.insertBefore(t,n.header),i&&(n.title.innerHTML=i),isHidden(l,!1),setTimeout(function(){edit.class(l,"remove","inactive"),n.close.focus(),toggleBodyScroll(!1),focusLock.set([n.header,t],imgViewClose)},50))}function imgViewClose(){var l=document.getElementById("image_viewer"),n={};!function(){for(var e=0,i=["img","title"];e<i.length;e++){var t=i[e];n[t]=dom.find.child(l,"class",t)}}(),edit.class(l,"add","inactive"),toggleBodyScroll(!0),focusLock.clear(),setTimeout(function(){isHidden(l,!0),l.removeChild(n.img),n.title.innerHTML=""},450)}!function(){var e=setInterval(function(){globalFunctionsReady&&(clearInterval(e),window.addEventListener("click",imgViewClick),dom.find.child(document.getElementById("image_viewer"),"class","close").addEventListener("click",imgViewClose))},250)}();
function _createForOfIteratorHelper(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){r&&(t=r);function a(){}var o=0;return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i=!0,d=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return i=t.done,t},e:function(t){d=!0,n=t},f:function(){try{i||null==r.return||r.return()}finally{if(d)throw n}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}ShiftCodesTK.layers={layerListeners:{},activeLayers:{},layerTimeouts:{},layerEvents:{focus:{true:["mouseover","focusin"],false:["mouseleave","mouseout","focusout"]},click:["click","contextmenu"],resync:["resize","scroll","mousemove"]},layerContainer:dom.find.id("layers"),getLayerProps:function(f){try{!function(){if(void 0===f||!f||!dom.has(f,"class","layer"))throw"Provided layer is not a valid layer."}();var n={},t=!!f.id&&this.activeLayers[f.id];return t?n=t:(n.id=f.id,n.name=dom.get(f,"attr","data-layer-name"),n.active=!1,n.type=dom.has(f,"class","dropdown")?"dropdown":!!dom.has(f,"class","tooltip")&&"tooltip",n.triggers=function(){if(e=dom.get(f,"attr","data-layer-triggers")){var t=["focus","primary-click","secondary-click"],e=e.split(", ");for(var r in e){var a=e[r];-1==t.indexOf(a)&&(console.warn('layers.getLayerProps Warning: "'.concat(a,'" is not a valid trigger.')),e.splice(r,1))}return e}var o={dropdown:["primary-click"],tooltip:["focus"]};return o[n.type]?o[n.type]:[]}(),n.position=((o={pos:dom.get(f,"attr","data-layer-pos"),align:dom.get(f,"attr","data-layer-align"),isSticky:dom.has(f,"class","sticky"),useCursor:dom.has(f,"class","use-cursor"),followCursor:dom.has(f,"class","follow-cursor")}).pos||(o.pos="top"),o.align||(o.align="center"),o),n.target=function(){var t="data-layer-target",e="layer-target",r="data-layer-targets",a=dom.get(f,"attr",t);if(a){var o=dom.find.id(a);if(o)return o}for(var n=0,i=[f.previousElementSibling,f.nextElementSibling];n<i.length;n++){var d=i[n];if(d&&dom.has(d,"class",e))return d}if(f.parentNode){var c=dom.find.child(f.parentNode,"class",e);if(c)return c}if(f.id){var s,l=_createForOfIteratorHelper(dom.find.children(document.body,"attr",r));try{for(l.s();!(s=l.n()).done;){var u=s.value;if(dom.has(u,"attr",r,f.id))return u}}catch(t){l.e(t)}finally{l.f()}}return!1}(),n.delay=(r=dom.get(f,"attr","data-layer-delay"),a={none:50,short:250,medium:500,long:1e3},r&&a[r]?a[r]:-1!=["button","a"].indexOf(dom.get(n.target,"tag"))?a.none:a.medium),n.content=dom.find.child(f,"class","layer-content"),n.choices=!!(e=dom.find.child(f,"class","choice-list"))&&dom.find.children(e,"class","choice")),n}catch(t){return console.error("layers.getLayerProps Error: ".concat(t)),!1}var e,r,a,o},updateLayerPos:function(d,t){var e,r=1<arguments.length&&void 0!==t&&t;try{!function(){if(void 0===d||!d||!dom.has(d,"class","layer"))throw"Provided layer is not a valid layer."}();var c=this.getLayerProps(d);if(null===document.body||0==c.target||0==c.content)return!1;var i=c.position.isSticky;return!r&&d.style.top&&!c.position.followCursor&&i||(dom.has(d,"attr","data-layer-pos")||edit.attr(d,"add","data-layer-pos",c.position.pos),function(){var t,e,r,a,o={};for(var n in o=c.position.useCursor?(t=ShiftCodesTK.cursor.x,e=ShiftCodesTK.cursor.y,r={body:document.body.getBoundingClientRect(),cursor:{top:"".concat(e-8),right:"".concat(t+8),bottom:"".concat(e+8),left:"".concat(t-8)}},{top:i?"".concat(r.cursor.top,"px"):"calc(".concat(r.body.top.toString().replace("-",""),"px + ").concat(r.cursor.top,"px)"),right:"calc(100% - ".concat(r.cursor.right,"px)"),bottom:i?"calc(".concat(r.body.height,"px - ").concat(r.cursor.bottom,"px)"):"calc(".concat(r.body.top,"px + ").concat(r.body.height,"px - ").concat(r.cursor.bottom,"px)"),left:"".concat(r.cursor.left,"px")}):(a={body:document.body.getBoundingClientRect(),target:c.target.getBoundingClientRect()},{top:i?"".concat(a.target.top,"px"):"calc(".concat(a.body.top.toString().replace("-",""),"px + ").concat(a.target.top,"px)"),right:"calc(100% - ".concat(a.target.right,"px)"),bottom:i?"calc(".concat(a.body.height,"px - ").concat(a.target.bottom,"px)"):"calc(".concat(a.body.top,"px + ").concat(a.body.height,"px - ").concat(a.target.bottom,"px)"),left:"".concat(a.target.left,"px")}))d.style[n]=o[n]}(),"tooltip"!=c.type||dom.has(d,"class","wrapped")&&!r||(dom.has(d,"class","wrapped")&&r&&edit.class(d,"remove","wrapped"),e=c.content.getBoundingClientRect(),dom.find.child(c.content,"class","content-container").getBoundingClientRect().width>e.width-12&&edit.class(d,"add","wrapped")),function(){var t;function e(){var t=document.body.getBoundingClientRect(),e=c.content.getBoundingClientRect(),r={top:e.top<12,right:e.right>t.right-12,bottom:e.bottom>t.height-12,left:e.left<12};for(side in r){if(r[side])return side}return!1}function r(t){for(var e=0<arguments.length&&void 0!==t?t:"original",r=0,a=["pos","align"];r<a.length;r++){var o=a[r],n=dom.get(d,"attr","data-layer-".concat(o,"-").concat(e));n&&edit.attr(d,"update","data-layer-".concat(o),n)}}if(r(),e()&&(r("resolved"),isOverflowing=e())){if((t=c.position.align)&&!dom.has(d,"attr","data-layer-align-original")&&edit.attr(d,"add","data-layer-align-original",t),edit.attr(d,"update","data-layer-align",side),edit.attr(d,"update","data-layer-align-resolved",side),e()){var a,o=_createForOfIteratorHelper({top:["bottom","right","left"],right:["left","top","bottom"],bottom:["top","right","left"],left:["right","top","bottom"]}[isOverflowing]);try{for(o.s();!(a=o.n()).done;){var n=a.value;if(edit.attr(d,"update","data-layer-pos",n),!e()){var i=c.position.pos;return i&&!dom.has(d,"attr","data-layer-pos-original")&&edit.attr(d,"add","data-layer-pos-original",i),edit.attr(d,"add","data-layer-pos",n),edit.attr(d,"add","data-layer-pos-resolved",n)}}}catch(t){o.e(t)}finally{o.f()}}e()&&r()}}()),!0}catch(t){return console.error("layers.updateLayerPos Error: ".concat(t)),!1}},addLayerListener:function(t,r,e){var a=2<arguments.length&&void 0!==e?e:["click"];try{function o(t){var e=ShiftCodesTK.layers;e.layerListeners[t]||(e.layerListeners[t]=[]),e.layerListeners[t].push({callback:r,triggers:a})}return function(){if(void 0===t||"string"!=typeof t&&!0!==t)throw"A valid layer name must be provided.";if(void 0===r||"function"!=typeof r)throw"Provided callback is not a callable function."}(),o(!0!==t?t:"_allLayers"),!0}catch(t){return console.error("layers.addLayerListener Error: ".concat(t)),!1}},updateDropdownLayer:function(t,e,r){var a=!(2<arguments.length&&void 0!==r)||r;try{!function(){if(void 0===t||!t||!dom.has(t,"class","layer")||!dom.has(t,"class","dropdown"))throw"Provided layer is not a valid dropdown layer.";if(void 0===e||"string"!=typeof e||!dom.find.child(t,"attr","data-value",e))throw'"'.concat(e,'" is not a valid option name.')}();var o=this.getLayerProps(t),n=dom.find.child(t,"attr","data-value",e);if(a&&this.layerListenerEvent(n,t,"click"),dom.has(t,"class","auto-press")){var i,d=_createForOfIteratorHelper(o.choices);try{for(d.s();!(i=d.n()).done;){var c=i.value,s=dom.get(c,"attr","data-value");edit.attr(c,"update","aria-pressed",s==e)}}catch(t){d.e(t)}finally{d.f()}}return a&&dom.has(t,"class","auto-toggle")&&this.toggleLayer(t,!1),!0}catch(t){return console.error("layers.updateDropdownLayer Error: ".concat(t)),!1}},toggleLayer:function(t,e){var r=1<arguments.length&&void 0!==e?e:"toggle";try{!function(){if(void 0===t||!t||!dom.has(t,"class","layer"))throw"Provided layer is not a valid layer.";if(!dom.has(t,"class","configured")){if(dom.has(t,"class","no-auto-config"))throw"Provided layer has not been configured.";t=this.setupLayer(t)}if(-1==[!0,!1,"toggle"].indexOf(r))throw'"'.concat(r,' is not a valid state."')}();var i=this.getLayerProps(t);if(null===i.id.match(new RegExp("_placeholder$"))){function a(){i.target&&"dropdown"==i.type&&(edit.attr(i.target,"update","aria-pressed",r),edit.attr(i.target,"update","aria-expanded",r))}var o="".concat(i.id,"_placeholder");if("toggle"==r&&(r=!i.active),r&&!i.active){var n=edit.copy(t);return this.layerContainer.appendChild(n),(i=this.getLayerProps(n)).active=!0,this.activeLayers[i.id]=i,a(),edit.attr(t,"update","id",o),t.innerHTML="",this.updateLayerPos(n),"dropdown"==i.type&&(function(){var t=[n.childNodes[0],n.childNodes[1]];i.target&&t.push(i.target),focusLock.set(t,function(){this.toggleLayer(n,!1)}.bind(this))}.bind(this)(),function(){if(i.choices){var t,e=_createForOfIteratorHelper(i.choices);try{for(e.s();!(t=e.n()).done;){var r=t.value;if(dom.has(r,"attr","aria-pressed","true"))return r.focus()}}catch(t){e.e(t)}finally{e.f()}var a,o=_createForOfIteratorHelper(i.choices);try{for(o.s();!(a=o.n()).done;){var n=a.value;if(!n.disabled)return n.focus()}}catch(t){o.e(t)}finally{o.f()}}}()),setTimeout(function(){isHidden(n,!1)}.bind(this),25),!0}if(!r&&i.active){var d=dom.find.id(o);return delete this.activeLayers[i.id],a(),isHidden(t,!0),d&&(edit.attr(t,"remove","id"),edit.attr(d,"update","id",i.id),d.innerHTML=t.innerHTML),"dropdown"==i.type&&(focusLock.clear(),i.target.focus()),setTimeout(function(){deleteElement(t)}.bind(this),125),!0}}return!1}catch(t){return console.error("layers.toggleLayer Error: ".concat(t)),null}},layerListenerEvent:function(t,r,e){try{var a=function(){var t=this.getLayerProps(r),e=[];return this.layerListeners._allLayers&&(e=e.concat(this.layerListeners._allLayers)),t.name&&this.layerListeners[t.name]&&(e=e.concat(this.layerListeners[t.name])),e}.bind(this)();if(a){var o,n=_createForOfIteratorHelper(a);try{for(n.s();!(o=n.n()).done;){var i=o.value,d={focus:this.layerEvents.focus.true.concat(this.layerEvents.focus.false),click:["click"],contextmenu:["contextmenu"]};for(var c in d){var s=d[c];-1!=i.triggers.indexOf(c)&&-1!=s.indexOf(e)&&i.callback(t,r)}}}catch(t){n.e(t)}finally{n.f()}}return!0}catch(t){return console.error("layers.layerListenerEvent Error: ".concat(t)),!1}},layerEvent:function(n){var t,e,i=ShiftCodesTK.layers,d=n.type;if(-1!=i.layerEvents.focus.true.concat(i.layerEvents.focus.false,i.layerEvents.click).indexOf(d)){var r,a,o,c="data-layer-targets",s=((e=dom.get(n.target,"attr",c))||-1==["mouseover","mouseout","touchstart","touchend","click","contextmenu"].indexOf(d)||(t=dom.find.parent(n.target,"attr",c))&&(e=dom.get(t,"attr",c)),e),l=function(){if(dom.has(n.target,"class","action"))return n.target;if(-1!=i.layerEvents.focus.true.concat(i.layerEvents.click).indexOf(d)){var t=dom.find.parent(n.target,"class","action");if(t)return t}return!1}();if(s){var u,f=_createForOfIteratorHelper(s.split(", "));try{for(f.s();!(u=f.n()).done;)!function(){var a,t,e,r=u.value,o=dom.find.id(r);o&&(a=i.getLayerProps(o),-1!=i.layerEvents.focus.true.concat(i.layerEvents.focus.false).indexOf(d)?-1!=a.triggers.indexOf("focus")&&(t=function(){var t=ShiftCodesTK.cursor.target;return t===a.target||dom.find.parent(t,"class","layer-target")===a.target},"mouseover"==d||"focusin"==d?-1!=(-1!=a.triggers.indexOf("primary-click")||a.triggers.indexOf("secondary-click"))&&dom.has(n.target,"attr","aria-pressed","true")||(void 0===i.layerTimeouts[a.id]&&(i.layerTimeouts[a.id]=[]),i.layerTimeouts[a.id].push(setTimeout(function(){setTimeout(function(){t()&&i.toggleLayer(o,!0)},10)},a.delay))):-1!=["mouseleave","mouseout","focusout"].indexOf(d)&&(e=function(){if(i.layerTimeouts[a.id]){var t,e=_createForOfIteratorHelper(i.layerTimeouts[a.id]);try{for(e.s();!(t=e.n()).done;){var r=t.value;clearTimeout(r)}}catch(t){e.e(t)}finally{e.f()}delete i.layerTimeouts[a.id]}i.toggleLayer(o,!1)},"mouseout"==d?setTimeout(function(){t()||e()},10):e())):"click"==d?(-1!=a.triggers.indexOf("primary-click")||-1!=a.triggers.indexOf("secondary-click")&&a.active)&&i.toggleLayer(o):"contextmenu"==d&&-1!=a.triggers.indexOf("secondary-click")&&(n.preventDefault(),a.active?i.updateLayerPos(o,!0):i.toggleLayer(o,!0)))}()}catch(t){f.e(t)}finally{f.f()}}!l||(r=dom.find.parent(l,"class","layer"))&&(a=i.getLayerProps(r),-1!=i.layerEvents.focus.true.concat(i.layerEvents.focus.false).indexOf(d)&&"dropdown"==a.type&&(o=dom.find.child(r,"class","choice-list"),-1!=i.layerEvents.focus.true.indexOf(d)?edit.attr(o,"update","aria-activedescendent",l.parentNode.id):setTimeout(function(){var t=ShiftCodesTK.cursor.target;t!==l&&dom.find.parent(t,"class","action")!==l&&edit.attr(o,"remove","aria-activedescendent")},10)),-1!=i.layerEvents.click.indexOf(d)&&(a&&"dropdown"==a.type?"dropdown"==a.type&&i.updateDropdownLayer(r,dom.get(l,"attr","data-value"),!0):i.layerListenerEvent(l,r,d)))}else if(-1!=i.layerEvents.resync.indexOf(d)){var y=i.activeLayers;if(0<Object.keys(y).length)for(var p in y){var g=y[p];("resize"==d||"scroll"==d&&"dropdown"!=g.type||"mousemove"==d&&g.position.followCursor)&&i.updateLayerPos(dom.find.id(g.id),"scroll"!=d)}}},setupLayer:function(i){try{if(void 0===i||!i||!dom.has(i,"class","layer"))throw"Provided layer is not a valid element.";var u=this.getLayerProps(i),d={};return d.layer=""!=u.id?u.id:randomID("layer_"),d.content="".concat(d.layer,"_content"),d.target=""!=u.target.id?u.target.id:randomID("layer_target_"),function(){var t,e,r,a,l=(t=document.createElement("div"),e=document.createElement("div"),edit.class(t,"add","layer-content"),edit.class(e,"add","content-container"),e.id=d.content,e.innerHTML=i.innerHTML,t.appendChild(e),t);i.id=d.layer,u.id=d.layer,edit.class(i,"add","configured"),edit.attr(i,"add","data-layer-target",d.target),isHidden(i,!0),"dropdown"==u.type?((a=dom.find.child(l,"class","title"))&&(r="".concat(u.id,"_title"),edit.attr(a,"add","id",r),edit.attr(i,"add","aria-labelledby",r)),function(){var t,e,r,a,o,n,i,d=function(){if(!(e=dom.find.child(l,"class","choice-list"))){var t=dom.find.children(l,"class","choice"),e=document.createElement("ul");edit.class(e,"add","choice-list");for(var r=0;r<t.length;r++)e.appendChild(t[r]);e=l.appendChild(e)}return edit.attr(e,"add","role","menu"),e}(),c=dom.find.children(d,"class","choice");if(!1!==c)for(var s=0;s<c.length;s++)i=n=o=a=r=e=void 0,n=c[t=s],i="".concat(u.id,"_choice_").concat(t),edit.class(n,"add","action"),dom.has(l,"class","auto-toggle")&&edit.attr(n,"add","aria-pressed","false"),(r=dom.find.child(n,"class","label"))&&(e="".concat(i,"_label"),edit.attr(r,"add","id",e),edit.attr(n,"add","aria-labelledby",e)),(a=dom.find.parent(n,"tag","li"))||((a=document.createElement("li")).appendChild(n),a=d.appendChild(a)),(o=a).id=i,edit.attr(o,"add","role","menuitem");else console.warn('layers.setupLayer Warning: Dropdown layer "'.concat(u.id,'" did not provide any choices.'))}()):"tooltip"==u.type&&edit.attr(i,"add","role","tooltip");var o,n=(o=document.createElement("div"),edit.class(o,"add","pointer box-icon fas fa-caret-up"),edit.attr(o,"add","aria-hidden",!0),o);i.innerHTML="",i.appendChild(l),i.appendChild(n)}(),function(){if(!u.target)throw'A target could not be found for layer "'.concat(u.id,'".');var t,e={id:d.target,autocomplete:!1,"data-layer-targets":!1!==(t=dom.get(u.target,"attr","data-layer-targets"))?"".concat(t,", ").concat(d.layer):d.layer};for(var r in"dropdown"==u.type?e=mergeObj(e,{"aria-haspopup":"menu","aria-expanded":!1,"aria-pressed":!1}):"tooltip"==u.type&&(e["aria-describedby"]=d.content),e)edit.attr(u.target,"update",r,e[r])}(),i}catch(t){return console.error("layers.toggleLayer Error: ".concat(t)),!1}}},function(){var t=ShiftCodesTK.layers;window.addEventListener("load",function(){(function(){var t,e=_createForOfIteratorHelper(dom.find.children(document.body,"class","layer"));try{for(e.s();!(t=e.n()).done;){var r=t.value;dom.has(r,"class","configured")||dom.has(r,"class","no-auto-config")||this.setupLayer(r)}}catch(t){e.e(t)}finally{e.f()}}).bind(t)()}),function(){var t,e=_createForOfIteratorHelper(this.layerEvents.focus.true.concat(this.layerEvents.focus.false,this.layerEvents.click,this.layerEvents.resync));try{for(e.s();!(t=e.n()).done;){var r=t.value;window.addEventListener(r,this.layerEvent,!0)}}catch(t){e.e(t)}finally{e.f()}}.bind(t)()}();
function _createForOfIteratorHelper(o,e){var r;if("undefined"==typeof Symbol||null==o[Symbol.iterator]){if(Array.isArray(o)||(r=_unsupportedIterableToArray(o))||e&&o&&"number"==typeof o.length){r&&(o=r);function t(){}var n=0;return{s:t,n:function(){return n>=o.length?{done:!0}:{done:!1,value:o[n++]}},e:function(o){throw o},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,i=!1;return{s:function(){r=o[Symbol.iterator]()},n:function(){var o=r.next();return l=o.done,o},e:function(o){i=!0,a=o},f:function(){try{l||null==r.return||r.return()}finally{if(i)throw a}}}}function _unsupportedIterableToArray(o,e){if(o){if("string"==typeof o)return _arrayLikeToArray(o,e);var r=Object.prototype.toString.call(o).slice(8,-1);return"Object"===r&&o.constructor&&(r=o.constructor.name),"Map"===r||"Set"===r?Array.from(o):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(o,e):void 0}}function _arrayLikeToArray(o,e){(null==e||e>o.length)&&(e=o.length);for(var r=0,t=new Array(e);r<e;r++)t[r]=o[r];return t}function configureModal(o){var e,r=edit.copy(dom.find.id("modal_template")),t={classes:dom.get(o,"class").remove("modal"),id:o.id,title:dom.find.child(o,"class","title"),body:dom.find.child(o,"class","body")};return t.classes&&edit.class(r,"add",t.classes.toString),t.id?r.id=t.id:console.error("configureModal Error: A modal cannot be configured without explicitly passing defining an ID."),e=dom.find.child(r,"class","title"),t.title?e.innerHTML=t.title.innerHTML:deleteElement(e),t.body&&(dom.find.child(dom.find.child(r,"class","body"),"class","content-container").innerHTML=t.body.innerHTML),o.parentNode.replaceChild(r,o),!0}function toggleModal(o){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"toggle";if(!dom.has(o,"class","modal")||!dom.has(o,"class","configured"))return console.error("toggleModal Error: Provided modal is not a valid modal."),!1;if(!0!==e&&!1!==e&&"toggle"!=e)return console.error('toggleModal Error: "'.concat(e,'" is not a valid value for the "state" argument.')),!1;if("toggle"==e&&(e=dom.has(o,"class","inactive")),e){var r,t=_createForOfIteratorHelper(dom.find.children(document.body,"class","modal"));try{for(t.s();!(r=t.n()).done;){var n=r.value;if(!dom.has(n,"class","inactive")&&dom.has(n,"class","configured")&&n!=o){toggleModal(n,!1);break}}}catch(o){t.e(o)}finally{t.f()}isHidden(o,!1),toggleBodyScroll(!1),dom.find.child(o,"class","body").scrollTop=0,setTimeout(function(){edit.class(o,"remove","inactive"),focusLock.set(dom.find.child(o,"class","panel"),function(){toggleModal(o,!1)})},50)}else toggleBodyScroll(!0),focusLock.clear(),edit.class(o,"add","inactive"),setTimeout(function(){isHidden(o,!0)},850);return!0}!function(){var o=setInterval(function(){"undefined"!=typeof globalFunctionsReady&&(clearInterval(o),function(){var o,e=_createForOfIteratorHelper(dom.find.children(document.body,"class","modal"));try{for(e.s();!(o=e.n()).done;){var r=o.value;dom.has(r,"class","configured")||configureModal(r)}}catch(o){e.e(o)}finally{e.f()}}(),window.addEventListener("click",function(o){var e,r=o.target;function t(o){var e=dom.get(o,"attr","data-modal");if(e){var r=dom.get(o,"attr","data-modal-state"),t=dom.find.id(e);return t?toggleModal(t,r?"true"==r:"toggle"):void console.error("modalClickListener Error: ",o,'points to a missing modal: "'.concat(e,'"'))}var n=dom.find.parent(o,"class","modal");if(n)return toggleModal(n,!1);console.error("modalClickListener Error: ",o,"does not point to and is not a child of a modal.")}dom.has(r,"class","modal-toggle")?t(r):(e=dom.find.parent(r,"class","modal-toggle"))&&t(e)}))},250)}();
function _createForOfIteratorHelper(t,e){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){a&&(t=a);function r(){}var i=0;return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,d=!0,o=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return d=t.done,t},e:function(t){o=!0,n=t},f:function(){try{d||null==a.return||a.return()}finally{if(o)throw n}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function multiView_setup(t){try{var e,a=t.id?t.id:"multiview_"+randomNum(100,1e3),r=dom.find.children(t,"class","view"),i=dom.get(t,"attr","data-view-type"),n=document.createElement("div");edit.class(n,"add","views"),edit.attr(n,"add","id","".concat(a,"_views")),"tabs"==i&&(e=document.createElement("div"),edit.class(e,"add","controls h-menu"),edit.attr(e,"add","id","".concat(a,"_controls")));for(var d=r.length-1;0<=d;d--){var o,c,l,s,u,m,v,f=r[d];t==dom.find.parent(f,"class","multi-view")&&("tabs"==i?(l={view:(c=!!(o=dom.get(f,"attr","data-view"))&&o.toLowerCase().replace(" ","_"))?"".concat(a,"_view_").concat(c):"".concat(a,"_view_").concat(d),controller:c?"".concat(a,"_controller_").concat(c):"".concat(a,"_controller_").concat(d)},s=document.createElement("button"),edit.class(s,"add","view-controller"),edit.attr(s,"add","aria-controls",l.view),edit.attr(s,"add","id",l.controller),s.innerHTML="<span>".concat(o,"</span>"),e.insertAdjacentElement("afterbegin",s),edit.attr(f,"add","aria-owns",l.controller),edit.attr(f,"add","id",l.view),isHidden(f,!0)):"toggle"==i&&(u=dom.find.child(f,"class","view-toggle"),m={view:f.id},u&&!dom.has(u,"tag","button")&&(u=dom.find.child(u,"tag","button")),u&&(v=dom.find.id(dom.get(u,"attr","data-view")),m.toggle="".concat(a,"_toggle_").concat(d),edit.attr(u,"add","id",m.toggle),v&&(m.target=v.id,edit.attr(u,"add","aria-controls",m.target),edit.attr(v,"add","aria-owns",m.toggle))),isHidden(f,!0)))}for(var w=r.length-1;0<=w;w--){var g=r[w];dom.find.parent(g,"class","multi-view")==t&&n.insertAdjacentElement("afterbegin",g)}return"tabs"==i&&t.appendChild(e),t.appendChild(n),multiView_update(dom.find.child(n,"class","view")),edit.class(t,"add","multi-view-setup"),!0}catch(t){return console.error("multiView Setup failed: ".concat(t)),!1}}function multiView_update(t){try{var e,a,r=dom.find.parent(t,"class","multi-view"),i=dom.get(r,"attr","data-view-type"),n=dom.find.id(dom.get(r,"attr","data-view"));return"tabs"==i&&(e=dom.find.id(dom.get(t,"attr","aria-owns")),edit.attr(e,"add","aria-selected",!0),n&&(a=dom.find.id(dom.get(n,"attr","aria-owns")),edit.attr(a,"add","aria-selected",!1))),n&&(isHidden(n,!0),edit.class(n,"remove","active")),isHidden(t,!1),setTimeout(function(){edit.class(t,"add","active"),edit.attr(r,"add","data-view",t.id)},50),!0}catch(t){return console.error("multiView Update failed: ".concat(t)),!1}}!function(){var t=setInterval(function(){globalFunctionsReady&&(clearInterval(t),function(){var t,e=_createForOfIteratorHelper(dom.find.children(document.body,"class","multi-view"));try{for(e.s();!(t=e.n()).done;){var a=t.value;dom.has(a,"class","multi-view-setup")||multiView_setup(a)}}catch(t){e.e(t)}finally{e.f()}}(),window.addEventListener("click",function(t){var e,a,r=t.target;(dom.has(r,"class","view-controller")||dom.has(r,"class","view-toggle"))&&(!(e=dom.find.parent(r,"class","multi-view"))||dom.get(e,"attr","data-view")!=(a=dom.get(r,"attr","aria-controls"))&&multiView_update(dom.find.id(a)))}))},250)}();
function updNav(){var t=[window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop],e=document.getElementById("navbar"),o={setting:getMetaTag("theme-color"),background:getMetaTag("tk-bg-color").content,theme:getMetaTag("tk-theme-color").content};0<t[1]||0<t[2]||0<t[3]?(e.setAttribute("data-at-top",!1),o.setting.content=o.theme):(e.setAttribute("data-at-top",!0),o.setting.content=o.background)}function lpbUpdate(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n={duration:400,buffer:100};n.total=n.duration+n.buffer;var a=mergeObj(o,{interval:t,resetOnZero:!0}),d=document.getElementById("loader_pb"),i=tryParseInt(d.getAttribute("data-progress"),"ignore");function r(){function t(t){updateProgressBar(d,0<arguments.length&&void 0!==t?t:e,a)}dom.has(d,"class","is-loading")||edit.class(d,"add","is-loading"),t(),100==e&&setTimeout(function(){edit.class(d,"remove","is-loading"),setTimeout(function(){t(0)},n.total)},n.total)}(i<e||0==i)&&(0!=i?setTimeout(r,n.buffer):r())}!function(){var t=setInterval(function(){globalFunctionsReady&&(clearInterval(t),updNav(),window.addEventListener("scroll",updNav),dom.find.id("auth_logout_button")&&dom.find.id("auth_logout_button").addEventListener("click",function(){newAjaxRequest({file:"/assets/requests/post/auth/logout",type:"POST",callback:function(t){console.log(tryJSONParse(t))}})}))},250)}();
function _createForOfIteratorHelper(e,r){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=_unsupportedIterableToArray(e))||r&&e&&"number"==typeof e.length){a&&(e=a);function t(){}var o=0;return{s:t,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i=!0,d=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){d=!0,n=e},f:function(){try{i||null==a.return||a.return()}finally{if(d)throw n}}}}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var a=0,t=new Array(r);a<r;a++)t[a]=e[a];return t}var pagers={};function pagerState(e){var r,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"toggle",t=_createForOfIteratorHelper(dom.find.children(e,"tag","button"));try{for(t.s();!(r=t.n()).done;){var o=r.value;dom.has(o,"class","unavailable")||("toggle"==a&&(a=!o.disabled),isDisabled(o,a))}}catch(e){t.e(e)}finally{t.f()}}function pagerUpdate(e){var r,a,t,o,s,l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,u=pagers[e.id];function n(e,r){var a="unavailable";edit.class(e,r?"add":"remove",a),(!r&&dom.has(e,"class",a)||r)&&isDisabled(e,r)}function m(e,r,a){var t=2<arguments.length&&void 0!==a&&a,o=u.subtractoffset?u.offset:0;e.setAttribute("data-page",r),e.setAttribute("data-value",r*u.offset-o),t&&(updateLabel(e,e.title.replace(new RegExp("\\d+"),r)),e.childNodes[0].innerHTML=r)}if(!dom.has(e,"class","pager")||!u)return console.error("pagerUpdate Error: Provided element is not a valid Pager."),!1;if(l>u.max)return console.error("pagerUpdate Error: The new page number of ".concat(l," exceeds the maximum page number of ").concat(u.max,".")),!1;function i(n,e){for(var i=Math.floor((e-n)/2),r=function(){var e=l-i,r=l+i,a=u.min+n,t=u.max-n;if(a<=e&&r<=t)return e;if(a<=e){var o=t-2*i;return 0<o?o:1}return r<=t?a:void 0}(),a=0,t=n;t<e;t++){m(s[t],r+a,!0),a++}var o,d=_createForOfIteratorHelper(s);try{for(d.s();!(o=d.n()).done;){var c=o.value;c.setAttribute("aria-pressed",tryParseInt(c.getAttribute("data-page"))==l)}}catch(e){d.e(e)}finally{d.f()}}return r=dom.find.child(e,"class","previous"),(a=l-1)>=u.min?(m(r,a),n(r,!1)):(m(r,u.min),n(r,!0)),t=dom.find.child(e,"class","next"),(o=l+1)<=u.max?(m(t,o),n(t,!1)):(m(t,u.max),n(t,!0)),5==(s=dom.find.children(e,"class","jump")).length?(m(s[0],u.min,!0),m(s[4],u.max,!0),i(1,4)):i(0,s.length),u.now=l,pagerState(e,!1),!0}function addPagerListener(e,r){var a=pagers[e.id];return dom.has(e,"class","pager")&&a?"function"!=typeof r?(console.error("addPagerListener Error: Provided callback function is not a valid function."),!1):(a.customCallbacks.push(r),!0):(console.error("addPagerListener Error: Provided element is not a valid Pager."),!1)}function addPagerListeners(e,r){return console.warn("Deprecation Notice: addPagerListeners has been deprecated, replaced by addPagerListener(), and will be removed in the near future. Please update your existing code as soon as possible."),addPagerListener(e,r)}function updatePagerProps(n,e){var i=pagers[n.id],r=!1;if(dom.has(n,"class","pager")&&e||(console.error("addPagerListener Error: Provided element is not a valid Pager."),r=!0),void 0!==e.now&&(void 0!==e.min&&e.now<e.min?(console.error("addPagerListener Error: The provided page value of ".concat(e.now," exceeds the provided minimum value of ").concat(e.min,".")),r=!0):void 0===e.min&&e.now<i.min&&(console.error("addPagerListener Error: The provided page value of ".concat(e.now," exceeds the existing minimum value of ").concat(i.min,".")),r=!0),void 0!==e.max&&e.now>e.max?(console.error("addPagerListener Error: The provided page value of ".concat(e.now," exceeds the provided maximum value of ").concat(e.max,".")),r=!0):void 0===e.max&&e.now>i.max&&(console.error("addPagerListener Error: The provided page value of ".concat(e.now," exceeds the existing maximum value of ").concat(i.max,".")),r=!0)),void 0===e.now&&(void 0!==e.min&&i.now<e.min&&(console.error("addPagerListener Error: The existing current page value of ".concat(i.now," exceeds the provided minimum value of ").concat(e.min,".")),r=!0),void 0!==e.max&&i.now>e.max&&(console.error("addPagerListener Error: The existing current page value of ".concat(i.now," exceeds the provided maximum value of ").concat(e.max,".")),r=!0)),void 0!==e.min&&(void 0!==e.max&&e.min>e.max?(console.error("addPagerListener Error: The provided minimum page value of ".concat(e.min," exceeds the provided maximum value of ").concat(e.max,".")),r=!0):void 0!==e.max&&e.min>i.max&&(console.error("addPagerListener Error: The provided minimum page value of ".concat(e.min," exceeds the existing maximum value of ").concat(i.max,".")),r=!0)),void 0!==e.max&&null==e.min&&e.max<i.min&&(console.error("addPagerListener Error: The provided maximum page value of ".concat(e.max," exceeds the existing minimum value of ").concat(i.min,".")),r=!0),r)return!1;for(var a in 1==Object.keys(e).length&&e.now&&console.warn('updatePagerProps: Pager Property "now" should not be updated via updatePagerProps if it is the only property that needs to be changed. In these cases, use pagerUpdate() instead.'),e){var t=e[a];i[a]&&("customCallbacks"!=a?i[a]=t:console.warn('updatePagerProps: Pager Property "customCallbacks" cannot be updated via updatePagerProps. Use addPagerListener() instead.'))}return function(){var e=dom.find.children(n,"class","jump");if(1<e.length)for(var r=e.length-1;0<r;r--)deleteElement(e[r]);if(1<i.max)for(var a=i.max<=5?i.max-1:4,t=dom.find.child(dom.find.child(n,"class","jumps"),"class","content-container"),o=1;o<=a;o++)t.appendChild(edit.copy(e[0]))}(),pagerUpdate(n,i.now),!0}function configurePager(n){var e=edit.copy(dom.find.id("pager_template")),i=n.id?n.id:"pager_".concat(randomNum(100,1e3));return e.id=i,function(){pagers[i]={min:1,now:1,max:1,offset:1,subtractoffset:!1,onclick:!1,customCallbacks:[]};for(var e=0,r=Object.keys(pagers[i]);e<r.length;e++){var a,t=r[e],o=n.getAttribute("data-".concat(t));o&&(a=void 0,a=tryParseInt(o,"ignore")||("true"==o||"false"==o?"true"==o:o),pagers[i][t]=a)}}(),function(){pagers[i];var e=n.getAttribute("data-label");if(e){var r,a=_createForOfIteratorHelper(dom.find.children(n,"class","jump"));try{for(a.s();!(r=a.n()).done;){var t=r.value;updateLabel(t,t.title.replace("Page",e))}}catch(e){a.e(e)}finally{a.f()}}}(),updatePagerProps(e,{}),n.parentNode.replaceChild(e,n),e}pagerScripts=setInterval(function(){globalFunctionsReady&&(clearInterval(pagerScripts),function(){var e,r=_createForOfIteratorHelper(dom.find.children(document,"class","pager"));try{for(r.s();!(e=r.n()).done;){var a=e.value;dom.has(a,"class","no-auto-config")||dom.has(a,"class","configured")||configurePager(a)}}catch(e){r.e(e)}finally{r.f()}}(),window.addEventListener("click",function(e){var r=dom.find.parent(e.target,"class","pager");if(r){var a=tryParseInt(dom.get(e.target,"attr","data-page")),t=pagers[r.id];if(a!=t.now){if(pagerState(r,!0),t.onclick&&tryToRun({attempts:20,delay:250,function:function(){var e=dom.find.id(t.onclick);return!(!e||e.disabled)&&(e.focus(),!0)},customError:'Focus Target for pager "'.concat(r.id,'" was not found or is disabled.')}),t.customCallbacks){var o,n=_createForOfIteratorHelper(t.customCallbacks);try{for(n.s();!(o=n.n()).done;){(0,o.value)(tryParseInt(dom.get(e.target,"attr","data-value")))}}catch(e){n.e(e)}finally{n.f()}}setTimeout(function(){pagerUpdate(r,a)},250)}}}))},250);
function toggleSB(){var e=document.getElementById("sidebar"),t={nav:document.getElementById("navbar_sb"),sb:document.getElementById("sidebar_toggle")},a="true"==e.getAttribute("data-expanded");function i(){isHidden(e,a)}function n(){e.setAttribute("data-expanded",!a),t.nav.setAttribute("data-pressed",!a),t.nav.setAttribute("aria-pressed",!a),!0==a?t.nav.focus():!1==a&&t.sb.focus()}!0==a?(n(),toggleBodyScroll(!0),focusLock.clear(),setTimeout(i,300)):(i(),toggleBodyScroll(!1),focusLock.set(dom.find.child(e,"class","panel"),toggleSB),setTimeout(n,50))}function sidebarMarkup(){var e=document.getElementById("sidebar"),t=e.getElementsByTagName("li"),a=e.getElementsByTagName("a");for(i=0;i<t.length;i++){var n=t[i].getElementsByTagName("a")[0],l="sidebar_link_"+(i+1);t[i].setAttribute("role","menuitem"),n.classList.add("link"),n.id=l,n.getElementsByClassName("name")[0].id=l+"_name",null===n.getAttribute("aria-label")&&n.setAttribute("aria-labelledby",l+"_name")}for(i=0;i<a.length;i++)a[i].classList.add("no-focus-scroll")}sidebarMarkup(),function(){var e=new RegExp("\\/$","g"),t=window.location.pathname.replace(e,""),a=document.getElementById("sidebar").getElementsByClassName("link");for(i=0;i<a.length;i++){function n(e){a[i].setAttribute("data-selected",e),a[i].setAttribute("aria-selected",e)}a[i].getAttribute("href").replace(e,"")==t?n(!0):n(!1)}}(),document.getElementById("navbar_sb").addEventListener("click",toggleSB),document.getElementById("sidebar_toggle").addEventListener("click",toggleSB);
function _createForOfIteratorHelper(t,e){var a;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(a=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){a&&(t=a);function i(){}var o=0;return{s:i,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,r=!1;return{s:function(){a=t[Symbol.iterator]()},n:function(){var t=a.next();return s=t.done,t},e:function(t){r=!0,n=t},f:function(){try{s||null==a.return||a.return()}finally{if(r)throw n}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}ShiftCodesTK.toasts={ready:!1,activeToasts:{},queuedToasts:{},containers:function(){var t={};return t.main=dom.find.id("toasts"),t.activeToasts=dom.find.child(t.main,"class","active-toasts"),t.queuedToasts=dom.find.child(t.main,"class","queued-toasts"),t.serverSideToasts=dom.find.child(t.main,"class","server-side-toasts"),t}(),updateTimer:function(t,e,a){var i,o=1<arguments.length&&void 0!==e?e:"toggle",n=2<arguments.length&&void 0!==a&&a;try{!function(){if(!t||!dom.has(t,"class","toast"))throw"".concat(t," is not a valid toast element.");if(-1==["start","toggle","stop"].indexOf(o))throw'"'.concat(o,'" is not a valid Update Type.')}();var s,r=this.activeToasts[t.id];return!1!==n&&(i={infinite:-1,short:3e3,medium:6e3,long:1e4},s="string"==typeof n&&void 0!==i[n]?i[n]:"number"==typeof n?n:0,dom.find.child(t,"class","progress-bar").childNodes[0].style.animationDuration=-1<s?"".concat(s,"ms"):"",r.duration=s),"start"==o||"toggle"==o&&!dom.has(t,"class","expiring")?0<r.duration&&(edit.class(t,"add","expiring"),r&&(r.timer=setTimeout(function(){this.updateTimer(t,"stop"),this.removeToast(t)}.bind(this),r.duration))):(clearTimeout(r.timer),edit.class(t,"remove","expiring")),!0}catch(t){return console.error("toasts.updateTimer Error: ".concat(t)),!1}},newToast:function(t){var e,a,i,o,n,s,r,d,c,l=0<arguments.length&&void 0!==t?t:{};try{!function(){if(!l||"Object"!=l.constructor.name)throw"Provided configuration is not a valid configuration object."}();var u=(s={settings:{id:function(){for(var t,e=ShiftCodesTK.toasts,a="";t=randomNum(100,999),a="".concat("toast","_").concat(t),void 0!==e.activeToasts[a]||void 0!==e.queuedToasts[a];);return a}(),duration:"medium",template:!1,callback:!1},content:{icon:"fas fa-bullhorn",title:"",body:""},actions:[]},r={content:"",title:"",callback:!1,link:!1,closeToast:!1},d={actionConfirmation:{settings:{duration:"short"},content:{icon:"fas fa-check"}},fatalException:{settings:{duration:"infinite"},content:{icon:"fas fa-exclamation-triangle",title:"An error has occurred"},actions:[{content:"Refresh",title:"Refresh the page and try again",link:" "}]},formSuccess:{settings:{duration:"long"},content:{icon:"fas fa-check",title:"Success!",body:"Your information was submitted successfully."}}},c=mergeObj(s,l),!1!==(n=c.settings.template)&&void 0!==d[n]&&(c=mergeObj(s,d[n],l)),function(){var t=c.actions;for(var e in t){var a=t[e];t[e]=mergeObj(r,a)}}(),c),f=edit.copy(dom.find.id("toast_template"));return f.id=u.settings.id,edit.class(dom.find.child(f,"class","icon").childNodes[0],"add",u.content.icon),i=dom.find.child(f,"class","title"),o="".concat(u.settings.id,"_title"),i.innerHTML=u.content.title,i.id=o,edit.attr(f,"add","aria-labelledby",o),e=dom.find.child(f,"class","body"),a="".concat(u.settings.id,"_body"),e.innerHTML=u.content.body,e.id=a,edit.attr(f,"add","aria-describedby",a),function(){var t,e=dom.find.child(f,"class","actions"),a=_createForOfIteratorHelper(u.actions);try{for(a.s();!(t=a.n()).done;){var i=t.value,o=!1!==i.link,n=document.createElement(o?"a":"button");o?(edit.class(n,"add","button"),edit.attr(n,"add","href",i.link)):edit.class(n,"add","styled"),edit.class(n,"add","action"),n.innerHTML=i.content,i.closeToast&&(edit.class(n,"add","dismiss-toast"),edit.attr(n,"add","aria-controls",u.settings.id)),e.appendChild(n),i.title&&updateLabel(n,i.title,["tooltip"])}}catch(t){a.e(t)}finally{a.f()}}(),this.addToast(f,u)}catch(t){return console.error("toasts.newToast Error: ".concat(t)),!1}},addToast:function(t,e){if(this.ready&&void 0===this.activeToasts[e.settings.id]&&Object.keys(this.activeToasts).length<5){var a=e.settings.duration;this.activeToasts[e.settings.id]={duration:0,callback:e.settings.callback,timer:0},t=this.containers.activeToasts.appendChild(t),isHidden(t,!1),setTimeout(function(){this.updateTimer(t,"start",e.settings.duration)}.bind(this),-1!=a?200:0)}else{if(void 0!==this.queuedToasts[e.settings.id])return!1;t=this.containers.queuedToasts.appendChild(t),this.queuedToasts[e.settings.id]={toast:t,configuration:e}}return t},removeToast:function(t){try{!function(){if(!t||!dom.has(t,"class","toast"))throw"".concat(t," is not a valid toast element.")}();var e=t.id;return isHidden(t,!0),setTimeout(function(){this.containers.activeToasts.removeChild(t),delete this.activeToasts[e],function(){var e=Object.keys(this.queuedToasts);0<e.length&&setTimeout(function(){var t=this.queuedToasts[e[0]];this.addToast(t.toast,t.configuration),delete this.queuedToasts[e[0]]}.bind(this),500)}.bind(this)()}.bind(this),300),!0}catch(t){return console.error("toasts.updateTimer Error: ".concat(t)),!1}},toastEvent:function(t){var e,a,i,o,n,s,r=ShiftCodesTK.toasts;r.ready&&0<Object.keys(r.activeToasts).length&&!dom.has(t.target,"class","toast-list")&&(e=t.type,!1!==(a=dom.has(t.target,"class","toast")?t.target:dom.find.parent(t.target,"class","toast"))&&(i=r.activeToasts[a.id],"mouseover"==e||"mouseout"==e?(o=0<i.duration,n=dom.has(a,"class","expiring"),("mouseover"==e&&n||"mouseout"==e&&!n&&o)&&r.updateTimer(a,n?"stop":"start")):(s=dom.has(t.target,"class","action")?t.target:dom.find.parent(t.target,"class","action"))&&"function"==typeof i.callback&&(i.callback(s,t),dom.has(s,"class","dismiss-toast")&&setTimeout(function(){r.removeToast(a)},50))))}},function(){var i=setInterval(function(){var t,e,a;ShiftCodesTK.toasts&&(clearInterval(i),t=ShiftCodesTK.toasts,e=dom.find.id("toast_template").content.children[0],a=dom.find.child(e,"class","dedicated"),ShiftCodesTK.layers.setupLayer(a.nextElementSibling),function(){for(var t=0,e=["mouseover","mouseout","click"];t<e.length;t++){var a=e[t];this.containers.activeToasts.addEventListener(a,this.toastEvent)}}.bind(t)())},250)}(),window.addEventListener("load",function(){var t=ShiftCodesTK.toasts;setTimeout(function(){this.ready=!0,function(){var t=this.containers.serverSideToasts;if(0<t.childNodes.length){var e,a=_createForOfIteratorHelper(t.childNodes);try{for(a.s();!(e=a.n()).done;){var i=e.value,o=tryJSONParse(i.innerHTML);o&&this.newToast(o)}}catch(t){a.e(t)}finally{a.f()}deleteElement(t)}}.bind(this)(),function(){for(var t=this.queuedToasts,e=Object.keys(t),a=e.length-1;0<=a;a--){var i=t[e[a]];if(!1===this.addToast(i.toast,i.configuration))break;delete t[e[a]]}}.bind(this)()}.bind(t),2500)});