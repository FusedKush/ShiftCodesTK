function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _createForOfIteratorHelper(e,t){var r,n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);function a(){}var o=0;return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:(n=function(e){throw e},i.toString=function(){return n.toString()},i),f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e){return n.apply(this,arguments)}var l,s,c=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return c=e.done,e},e:(s=function(e){u=!0,l=e},d.toString=function(){return s.toString()},d),f:function(){try{c||null==r.return||r.return()}finally{if(u)throw l}}};function d(e){return s.apply(this,arguments)}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var globalFunctionsReady=!0,pbIntervals={};function tryError(e,t){if("silent"==t)return console.error(e),!1;if("throw"==t)throw e;if("ignore"==t)return!1;throw e.message="".concat(e.message,"\n\r\n\rAdditionally, the behavior parameter is invalid.\n\rBehavior: ").concat(t),e}function tryToRun(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=function(){if(n){return mergeObj({function:function(){return!0},attempts:!1,delay:250,behavior:"silent",logCatch:!1,customError:!1},r)}return r}();function t(){if(n<=a.attempts||!a.attempts)setTimeout(function(){tryToRun(r,n+1)},a.delay);else{var t=new Error;if(!(t.name="tryToRun Error")!==a.customError?t.message=a.customError:t.message="Max Tries Exceeded.\r\n\r\nSettings: ".concat(JSON.stringify(a)),a.logCatch&&(t.message+="\r\n\r\nCaught Error: ".concat(e)),"throw"==a.behavior)throw t;if("silent"==a.behavior)return void console.error(t);if("ignore"==a.behavior)return}}try{var o=a.function();if(!1!==o)return o;t()}catch(e){t()}}function tryParseInt(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"silent",r=new Error;r.name="parseInt Error",r.message="Not a valid number.\n\rInt: ".concat(e);var n=parseInt(e);return isNaN(n)?tryError(r,t):n}function tryJSONParse(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"silent",r=new Error;r.name="JSONParse Error",r.message="Not a valid JSON string.\n\rString: ".concat(e);try{return JSON.parse(e)}catch(e){return tryError(r,t)}}function mergeObj(e){var t=arguments.length,r={};for(var n=0;n<t;n++)for(var a=arguments[n],o=Object.keys(a),i=0;i<o.length;i++){var l=o[i];!function e(t,r,n){if(n&&"Object"==n.constructor.name){var a=Object.keys(n);t[r]||(t[r]={});for(var o=0;o<a.length;o++){var i=a[o],l=n[i];e(t[r],i,l)}}else t[r]=n}(r,l,a[l])}return r}function regexMatchAll(e,t){for(var r=[],n=!0===e.global?e:new RegExp(e,"g");null!==(matches=n.exec(t));)r.push(matches);return r}function newAjaxRequest(e){var t,r,a=window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject?new ActiveXObject("Microsoft.XMLHttp"):void 0,i=((t=mergeObj({file:null,type:"GET",params:{},callback:!1,headers:{},_tokenRefreshed:!1},e)).type=t.type.toUpperCase(),"POST"!=t.type||t.headers["Content-Type"]||(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.params._token||t.params._auth_token||(t.params._token=requestToken.get()),t);function n(e){var t=0<arguments.length&&void 0!==e?e:null;for(var r in a.open(i.type,i.file,!0),i.headers){var n=i.headers[r];try{a.setRequestHeader(r,n)}catch(e){console.warn("newAjaxRequest: ".concat(r," is not a valid header or ").concat(n," is not a valid header value."));continue}}a.send(t)}return null===i.file?(console.error("newAjaxRequest Error: A file path was not specified.\r\n".concat(JSON.stringify(e))),!1):"GET"!=i.type&&"POST"!=i.type?(console.error('newAjaxRequest Error: "'.concat(i.type,'" is not a valid Request Type.\r\n').concat(JSON.stringify(e))),!1):(a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE){if(401==a.status){var e=tryJSONParse(a.responseText);if(e&&"Missing or Invalid Request Token"==e.statusMessage&&!i._tokenRefreshed)return i._tokenRefreshed=!0,void requestToken.check(function(){newAjaxRequest(i)})}i.callback&&i.callback(a.responseText)}},r=function(){var e="";for(var t in i.params){var r=i.params[t];if("Array"==r.constructor.name){var n,a=_createForOfIteratorHelper(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;-1==t.indexOf("[]")&&(t+="[]"),e+="".concat(t,"=").concat(o,"&")}}catch(e){a.e(e)}finally{a.f()}}else e+="".concat(t,"=").concat(r,"&")}return e.slice(0,-1)}(),void("GET"==i.type?(i._tokenRefreshed||(-1==i.file.indexOf("?")?i.file+="?":i.file+="&",i.file+=r),n()):"POST"==i.type&&n(r)))}function datetime(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"year-month-date",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"now",r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=function(){if("now"==t)return new Date;if("Object"==typeof t&&"Date"==t.constructor.name)return t;var e=new Date(t);return!(!t||"Invalid Date"==e)&&e}();if(!1===n)return!1;function a(e){return"0".concat(e).slice(-2)}var o,i,l=("check"==r&&(i=n.toUTCString(),r=!(!t||-1!=i.search("(\\d{2}\\:)")&&-1==i.search("00:00:00"))),r?{year:n.getUTCFullYear(),month:n.getUTCMonth(),date:n.getUTCDate(),day:n.getUTCDay(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds()}:{year:n.getFullYear(),month:n.getMonth(),date:n.getDate(),day:n.getDay(),hour:n.getHours(),minute:n.getMinutes(),second:n.getSeconds()}),s={"tmp-full":"monthN date, year hour12:minute ampm","tmp-date":"month/date/year","tmp-time12":"hour12:minute ampm","tmp-time24":"hour24:minute"},c={days:{0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},months:{0:"January",1:"Feburary",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"}},u={year:l.year,month:a(l.month+1),monthN:c.months[l.month].slice(0,3),monthL:c.months[l.month],date:a(l.date),day:l.day,dayN:c.days[l.day].slice(0,3),dayL:c.days[l.day],hour12:1<(o=l.hour)&&o<=12?o:12<o?o-12:12,hour24:a(l.hour),minute:a(l.minute),second:a(l.second),ampm:l.hour<=12?"AM":"PM",js:n,iso:n.toISOString()},d=new RegExp("(\\w+)","g");return s[e]?datetime(s[e],t):"js"==e?u.js:e.replace(d,function(e){var t=u[e];return!1!==t?t:e})}function dateDif(e){for(var t={},r={date:e,start:1<arguments.length&&void 0!==arguments[1]?arguments[1]:"now"},n=Object.keys(r),a=0;a<n.length;a++){var o=n[a],i=datetime("js",r[o]);t[o]=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate())}var l=Math.abs(t.start-t.date);return Math.ceil(l/864e5)}function dateRel(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"now",r={date:datetime("tmp-date",e),start:datetime("tmp-date",t)},n=dateDif(r.date,r.start);return 0==n?"Today":1==n?r.date<r.start?"Yesterday":"Tomorrow":n<7&&-7<n&&(r.date<r.start?"Last":"Next")+" "+datetime("dayL",e)}var dom={try:function(e,t,r,n,a,o){var i=5<arguments.length&&void 0!==o?o:["class","tag","attr"],l=[void 0!==t&&t&&void 0!==t.getElementsByTagName,-1!=i.indexOf(r),"string"==typeof n||"number"==typeof n];if(-1==l.indexOf(!1))return a();try{var s=new Error;throw s.name="".concat(e," Error"),s.message="is not a valid",l[0]?l[1]?l[2]||(s.message="Argument 3 ".concat(s.message," class, tag, or attribute: ").concat(attr)):s.message="Argument 2 ".concat(s.message," type: ").concat(r):s.message="Argument 1 ".concat(s.message," element: ").concat(t),s}catch(s){return console.error(s),!1}},get:function(e,t,r){var n=2<arguments.length&&void 0!==r?r:"",a={class:!!e.classList&&e.classList,tag:!!e.tagName&&e.tagName.toLowerCase(),attr:!(!e.getAttribute||!e.getAttribute(n))&&e.getAttribute(n)};return dom.try("domGet",e,t,n,function(){return a[t]})},has:function(t,e,r,n){var a=3<arguments.length&&void 0!==n?n:null,o={class:function(){var e=dom.get(t,"class");return!!e&&e.contains(r)},tag:function(){return dom.get(t,"tag")==r},attr:function(){return null===a?!1!==dom.get(t,"attr",r):dom.get(t,"attr",r)==a}};return dom.try("domHas",t,e,r,function(){return o[e]()})},find:{parents:function(n,a,o,e){var i=3<arguments.length&&void 0!==e?e:null;return dom.try("domFindParents",n,a,o,function(){var e=n.parentNode,t=[],r={inputs:["input","select","textarea"],clickables:["a","button"]};for(r.focusables=r.inputs.concat(r.clickables);e&&void 0!==e.getElementsByTagName;){if("group"!=a&dom.has(e,a,o,i)||"group"==a&&-1!=r[o].indexOf(dom.get(e,"tag")))t.push(e);else if(dom.has(e,"tag","body")||dom.has(e,"tag","html"))break;e=e.parentNode}return t},["class","tag","attr","group"])},parent:function(t,r,n,a){return dom.try("domFindParent",t,r,n,function(){var e=dom.find.parents(t,r,n,a);return 0<e.length&&e[0]},["class","tag","attr","group"])},children:function(l,e,s,t){var a=3<arguments.length&&void 0!==t?t:null,r={class:function(){return l.getElementsByClassName(s)},tag:function(){return l.getElementsByTagName(s)},attr:function(){var e,t=[],r=_createForOfIteratorHelper(l.getElementsByTagName("*"));try{for(r.s();!(e=r.n()).done;){var n=e.value;dom.has(n,"attr",s,a)&&t.push(n)}}catch(e){r.e(e)}finally{r.f()}return t},group:function(){var e={inputs:["input","select","textarea"],clickables:["a","button"]};e.focusables=e.inputs.concat(e.clickables);var t=l.getElementsByTagName("*"),r=[],n=e[s];if(n){var a,o=_createForOfIteratorHelper(t);try{for(o.s();!(a=o.n()).done;){var i=a.value;-1!=n.indexOf(dom.get(i,"tag"))&&r.push(i)}}catch(e){o.e(e)}finally{o.f()}return r}return console.error("domFindChildren Error: Argument 4 is not a valid name: ".concat(s)),!1}};return dom.try("domFindChildren",l,e,s,function(){return r[e]()},["class","tag","attr","group"])},child:function(t,r,n,e){var a=3<arguments.length&&void 0!==e?e:null;return dom.try("domFindChild",t,r,n,function(){var e=dom.find.children(t,r,n,a);return 0<e.length&&e[0]},["class","tag","attr","group"])},id:function(e){var t=document.getElementById(e);return null!==t&&t}}},edit={try:function(e){var t=mergeObj({func:"",callback:function(){console.warning("No callback was passed to editTry.")},elm:!1,type:"",name:"",val:"",validTypes:["add","remove"]},e),r=[void 0!==t.elm&&t.elm,-1!=t.validTypes.indexOf(t.type),"string"==typeof t.name||"number"==typeof t.name,"string"==typeof t.val||"number"==typeof t.val||"boolean"==typeof t.val];try{if(-1==r.indexOf(!1))return t.callback();if(!r[0])throw"Invalid element: ".concat(t.elm);if(!r[1])throw"Invalid type: ".concat(t.type);if(!r[2])throw"Invalid class or attribute: ".concat(_typeof(t.name));if(!r[3])throw"Invalid class name or attribute value: ".concat(_typeof(t.val))}catch(e){return console.error("".concat(t.func," Error: ").concat(e)),!1}},class:function(a,o,i){return edit.try({func:"editClass",elm:a,type:o,name:i,validTypes:["add","remove","toggle"],callback:function(){var e,t=_createForOfIteratorHelper(i.split(" "));try{for(t.s();!(e=t.n()).done;){var r=e.value,n=o;"toggle"==n&&(n=dom.has(a,"class",r)?"remove":"add"),dom.get(a,"class")[n](r)}}catch(e){t.e(e)}finally{t.f()}return!0}})},attr:function(e,t,r,n){var a=3<arguments.length&&void 0!==n?n:"";return edit.try({func:"editAttr",elm:e,type:t,name:r,val:a,validTypes:["add","update","remove","toggle"],callback:function(){return"toggle"==t&&(t=dom.has(e,"attr",r)?"remove":"add"),"add"==t|"update"==t?e.setAttribute(r,a):e.removeAttribute(r),!0}})},copy:function(t,e){var r=!(1<arguments.length&&void 0!==e)||e;return edit.try({func:"editCopy",elm:t,type:"add",callback:function(){var e="template"==dom.get(t,"tag")?t.content.children[0]:t;return e.cloneNode(r)}})}};function getMetaTag(e){var t=dom.find.child(document.head,"attr","name",e);return t||!1}function setElementState(e,t,r,n){function a(e){var t=new Error;throw t.name="setElementStateError",t.message=e,t}if(-1!=["disabled","hidden"].indexOf(e)){if(t){var o=t[e];return"toggle"==r&&(r=o?!t[e]:!dom.has(t,"attr",e)),r?edit.attr(t,"add",e,""):edit.attr(t,"remove",e),edit.attr(t,"add","aria-".concat(e),r),n&&(t.tabIndex={true:-1,false:0}[r]),!0}a("Provided element is ".concat(t,"."))}else a("".concat(e," is not a valid state."))}function isDisabled(e){return setElementState("disabled",e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"toggle",2<arguments.length&&void 0!==arguments[2]&&arguments[2])}function isHidden(e){return setElementState("hidden",e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"toggle",2<arguments.length&&void 0!==arguments[2]&&arguments[2])}function updateLabel(s,n){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:["title","aria"],t={title:function(){s.title=n},aria:function(){edit.attr(s,"update","aria-label","label")},tooltip:function(){var e,t,r=function(){var e="data-layer-target",t=dom.get(s,"attr",e);if(t){var r=dom.find.id(t);if(r)return r}if(s.id){var n=dom.find.child(document.body,"attr",e,s.id);if(n)return n}for(var a=0,o=[s.nextElementSibling,s.previousElementSibling];a<o.length;a++){var i=o[a];if(i&&dom.has(i,"class","tooltip"))return i}var l=!!s.parentNode&&dom.find.child(s.parentNode,"class","tooltip");return l||!1}();"".concat(r.id,"_content");return r||(e=document.createElement("div"),edit.class(e,"add","layer tooltip"),edit.attr(e,"add","data-layer-delay","medium"),t=e,r=s.insertAdjacentElement("afterend",t),edit.class(s,"add","layer-target"),ShiftCodesTK.layers.setupLayer(r)),dom.find.child(r,"class","content-container").innerHTML=n,!0}};for(component in t)-1!=e.indexOf(component)&&t[component]()}function updateProgressBar(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(null===a||"progressbar"!=dom.get(a,"attr","role")){var t=new Error;throw t.name="updateProgressBar Error",t.message="A valid progress bar was not passed.\n\rProgress Bar: ".concat(a),t}var n,r,i=dom.find.child(a,"class","progress"),l=dom.find.child(a,"class","progress-count"),s=mergeObj({interval:!1,intervalDelay:1e3,intervalIncrement:5,start:null,resetOnZero:!1,useWidth:!1},e),c=a.id;!s.resetOnZero||0<o?(n=function(e){var t,r,n=0<arguments.length&&void 0!==e?e:o;a.setAttribute("data-progress",n),a.setAttribute("aria-valuenow",n),i.style.width="".concat(n,"%"),l&&(t=100-n,r=new RegExp("\\d{1,3}"),l.style.transform="translateX(".concat(t,"%)"),updateLabel(l,l.title.replace(r,n)),l.innerHTML=l.innerHTML.replace(r,n))},pbIntervals[c]&&clearInterval(pbIntervals[c].interval),!1===s.interval?n():(r=tryParseInt(a.getAttribute("data-progress"),"ignore"),null!==s.start&&r<s.start?n(s.start):n(r+s.intervalIncrement),""==a.id&&(c="progressbar_".concat(randomNum(100,1e3)),a.id=c),pbIntervals[c]={},pbIntervals[c].end=o,pbIntervals[c].increment=s.intervalIncrement,pbIntervals[c].interval=setInterval(function(){var e=a.id,t=tryParseInt(a.getAttribute("data-progress"),"throw")+pbIntervals[e].increment,r=pbIntervals[e].end;t<=r?n(t):(n(r),clearInterval(pbIntervals[e].interval),delete pbIntervals[e])},s.intervalDelay))):(a.setAttribute("data-progress",0),i.style.removeProperty("width"),l&&l.style.removeProperty("transform"))}function createElementFromHTML(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild}function deleteElement(e){if(e)return e.parentNode.removeChild(e);var t=new Error;return t.name="deleteElement Error",t.message="Argument 1 is not a valid element: ".concat(e),console.error(t),!1}var cookie={get:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];function a(e){for(var t={},r=["string","name","value"],n=0;n<r.length;n++)t[r[n]]=e[n];return t}function t(e){var t=regexMatchAll("("+e+")=([^;]+)(?:;|$)",document.cookie);if(1==t.length)return a(t[0]);if(1<t.length){for(var r=[],n=0;n<t.length;n++)r.push(a(t[n]));return r}return!1}return t(e||"[^\\s=]+")},set:function(e){var t=0<arguments.length&&void 0!==e?e:{},a=mergeObj([{name:"",value:"",path:"/",domain:!1,"max-age":789e4,expires:!1,secure:!1,samesite:"lax"},t]),o=Object.keys(a),i="";return function(){if(""==a.name)throw new Error('Could not update cookie: Property "name" is required but was not specified.\r\n\r\n'+JSON.stringify(t));i+=a.name+"=",i+=val=encodeURIComponent(a.value)}(),function(){for(var e=2;e<o.length;e++){var t=o[e],r=a[t],n="";!1!==r&&("boolean"!=typeof r&&(n="="+r),i+="; "+t+n)}}(),document.cookie=i},remove:function(t,e){function r(e){setCookie({name:t,"max-age":e,expires:e})}r(!!(!(1<arguments.length&&void 0!==e)||e)&&0)}};function randomNum(e,t){return Math.round(Math.random()*(t-e)+e)}function randomID(){for(var e,t,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:9999,o=1;o<=20;o++)if(e=randomNum(n,a),t="".concat(r).concat(e),!dom.find.id(t))return t;return!1}function checkPlural(e){return 1!=e?"s":""}function ucWords(e){for(var t=e.split(" "),r=0;r<t.length;r++){var n=t[r];t[r]=n.charAt(0).toUpperCase()+n.substring(1)}return t.join(" ")}
function _createForOfIteratorHelper(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){a&&(e=a);function o(){}var r=0;return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){s=!0,n=e},f:function(){try{i||null==a.return||a.return()}finally{if(s)throw n}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,o=new Array(t);a<t;a++)o[a]=e[a];return o}var globalScrollTimer,hashTargetTimeout,lastFocus,ShiftCodesTK={},loadEventFired=!1,globalScriptLoaded=!0,globalScrollUpdates=0,focusLock={set:function(e,t){focusLock.active={},focusLock.active.elements=e,focusLock.active.callback=t},clear:function(){focusLock.active=!1},handle:function(e){var t=e.type,a=e.target;if(focusLock.active){var o,r,n,i=focusLock.active.elements,s=function(){var e=[];if(e.push(ShiftCodesTK.toasts.containers.activeToasts),"Array"==i.constructor.name){var t,a=_createForOfIteratorHelper(i);try{for(a.s();!(t=a.n()).done;){var o=t.value;e.push(o)}}catch(e){a.e(e)}finally{a.f()}}else e.push(i);return e}();if("click"==t){do{var l,c=_createForOfIteratorHelper(s);try{for(c.s();!(l=c.n()).done;){if(a==l.value)return!0}}catch(e){c.e(e)}finally{c.f()}a=a.parentNode}while(a);focusLock.active.callback()}else{"keydown"==t&&(r=(o=function(){var e=[];if(i.constructor===Array){var t,a=_createForOfIteratorHelper(i);try{for(a.s();!(t=a.n()).done;)var o=t.value,e=e.concat(dom.find.children(o,"group","focusables"))}catch(e){a.e(e)}finally{a.f()}}else e=e.concat(dom.find.children(i,"group","focusables"));return e}())[0],n=o[o.length-1],!0===e.shiftKey&&"Tab"==e.key&&a==r||!1===e.shiftKey&&"Tab"==e.key&&a==n?(e.preventDefault(),a==r?n.focus():a==n&&r.focus()):"Escape"==e.key&&(e.preventDefault(),focusLock.active.callback()))}}},active:!1},shiftStats=!1,hashListeners={},requestToken={tagName:"tk-request-token",check:function(l){newAjaxRequest({file:"/assets/requests/get/token",callback:function(e){var t=requestToken.get(),a=tryJSONParse(e);if(a&&200==a.statusCode){var o=a.payload.token;if("unchanged"!=o){var r=dom.find.children(document.body,"attr","name","auth_token"),t=o;edit.attr(getMetaTag(requestToken.tagName),"add","content",t);var n,i=_createForOfIteratorHelper(r);try{for(i.s();!(n=i.n()).done;){var s=n.value;edit.attr(s,"add","value",t)}}catch(e){i.e(e)}finally{i.f()}"function"==typeof l&&l(t)}}else newToast({settings:{template:"exception"},content:{body:"Your request token could not be updated due to an error. This may affect the site until refreshed."}})}})},get:function(){return getMetaTag(requestToken.tagName).content}},shiftNames={bl1:"Borderlands: GOTY",bl2:"Borderlands 2",bl3:"Borderlands 3",tps:"Borderlands: The Pre-Sequel"};function parseWebpImages(e){var t=document.body.getAttribute("data-webp-support");if(null!==t){var a="true"==t,o=e.getElementsByTagName("*");for(i=0;i<o.length;i++){var r=o[i].getAttribute("data-webp"),n=void 0;null!==r&&((n=JSON.parse(r)).fullPath=n.path,!0==a?n.fullPath+=".webp":!1==a&&(n.fullPath+=n.alt),"bg"==n.type?o[i].style.backgroundImage="url("+n.fullPath+")":"img"==n.type&&(o[i].src=n.fullPath),o[i].removeAttribute("data-webp"))}}else setTimeout(function(){parseWebpImages(e)},250)}function webpSupportUpdate(e){document.body.setAttribute("data-webp-support",e),parseWebpImages(document),document.getElementsByClassName("webp-support")[0].remove()}function addFocusScrollListeners(e){var t=e.getElementsByTagName("*");for(i=0;i<t.length;i++){var a=t[i];"BUTTON"!=a.tagName&&"A"!=a.tagName&&"INPUT"!=a.tagName&&"SELECT"!=a.tagName&&"TEXTAREA"!=a.tagName||!1===a.classList.contains("no-focus-scroll")&&a.addEventListener("focusin",function(e){updateScroll(this)})}}function updateScroll(o){if(!dom.has(o,"class","clipboard-copy")&&!dom.has(o,"class","hidden")){var e=[document.documentElement,document.body],t=null!=(u=o.getAttribute("data-scrollPaddingTop"))?u:0,a=null!=(d=o.getAttribute("data-scrollPaddingBottom"))?d:0,r=64+t,n=e[1].getBoundingClientRect().height-a,i=16,s={};s.base=function(){var e,t=o.tagName.toLowerCase();if("input"!=t&&"select"!=t&&"textarea"!=t)e=o;else for(var a=o;;){if(!0===a.classList.contains("input-container")){e=a;break}a=a.parentNode}return e.getBoundingClientRect()}(),s.top=s.base.top-i,s.bottom=s.base.bottom+i;var l=s.top<r,c=s.bottom>n;if(!0===l)for(x=0;x<e.length;x++)e[x].scrollTop-=r-s.top;else if(!0===c)for(x=0;x<e.length;x++)e[x].scrollTop+=s.bottom-n;!0!==l&&!0!==c||(globalScrollUpdates=0)}var d,u}function toggleBodyScroll(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"toggle",a=document.body,o="scroll-disabled",r="data-last-scroll",n=dom.has(a,"class",o);return a.scrollHeight>window.innerHeight&&(t!=!n&&("toggle"==t&&(t=n),t?(edit.class(a,"remove",o),a.style.removeProperty("top"),setTimeout(function(){window.scrollTo(0,tryParseInt(a.getAttribute(r))),a.removeAttribute(r)},50)):(e=window.pageYOffset,a.setAttribute(r,e),setTimeout(function(){a.style.top="-".concat(e,"px"),edit.class(a,"add",o)},50)),!0))}function hashUpdate(){var e,t=window.location.hash,a=""!=t;!function(){var e=document.getElementsByTagName("*");for(i=0;i<e.length;i++)null!==e[i].getAttribute("data-hashtarget-highlighted")&&"#"+e[i].id!=t&&(e[i].removeAttribute("data-hashtarget-highlighted"),e[i].removeEventListener("mouseover",globalListenerHashTargetHover),e[i].removeEventListener("mouseout",globalListenerHashTargetAway)),null!==e[i].getAttribute("data-hashtarget")&&"#"+e[i].id!=t&&(e[i].removeAttribute("data-hashtarget"),e[i].removeEventListener("mouseover",globalListenerHashTargetHover),e[i].removeEventListener("mouseout",globalListenerHashTargetAway))}(),history.replaceState?history.replaceState(null,null,t):window.location.hash=t,!0!=a||!0==(null!==(e=document.getElementById(t.replace("#",""))))&&("true"!=e.getAttribute("data-hashtarget")&&(e.setAttribute("data-hashtarget","visible"),e.addEventListener("mouseover",globalListenerHashTargetHover),e.addEventListener("mouseout",globalListenerHashTargetAway),e.addEventListener("focusin",globalListenerHashTargetHover),e.addEventListener("focusout",globalListenerHashTargetAway)),updateScroll(e))}function checkHash(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=window.location.hash;function a(e){return 0==t.search("#".concat(e))&&(hashListeners[e](t),1)}if(e){if(a(e))return!0}else for(var o=Object.keys(hashListeners),r=0;r<o.length;r++)if(a(o[r]))return!0;return!1}function addHashListener(e,t){return hashListeners[e]=t,checkHash(e)}function copyToClipboard(e){var o=e.currentTarget;(function(){for(var e=parseInt(o.getAttribute("data-copy-target")),t=o,a=0;a<e;a++)t=t.parentNode;return dom.find.child(t,"class","clipboard-copy")})().select(),document.execCommand("copy"),o.classList.remove("animated"),setTimeout(function(){o.classList.add("animated"),newToast({settings:{duration:"short",id:"clipboard-copy"},content:{icon:"fas fa-clipboard",title:"Copied to Clipboard",body:"This may not work in all browsers"},close:{use:!1}})},25)}function fixClickableContent(e){for(var t=e.childNodes,a=0;a<t.length;a++){var o,r=t[a];"#text"==r.nodeName&&((o=document.createElement("span")).innerHTML=r.textContent,e.replaceChild(o,r))}}function btnPressToggle(e){e.addEventListener("click",function(e){var t=e.currentTarget,a=dom.has(t,"attr","aria-pressed","true");setTimeout(function(){t.setAttribute("aria-pressed",!a)},500)})}function globalListenerLoadClearScroll(){globalScrollUpdates=0,window.removeEventListener("load",globalListenerLoadClearScroll)}function globalListenerHashTargetHover(e){var t=this;hashTargetTimeout=setTimeout(function(){t.setAttribute("data-hashtarget","seen"),t.removeEventListener("mouseover",globalListenerHashTargetHover),t.removeEventListener("mouseout",globalListenerHashTargetAway),t.removeEventListener("focusin",globalListenerHashTargetHover),t.removeEventListener("focusout",globalListenerHashTargetAway),history.pushState?history.pushState(null,null,window.location.href.split("#")[0]):window.location.hash="##"},750)}function globalListenerHashTargetAway(){clearTimeout(hashTargetTimeout)}function execGlobalScripts(){var e;"boolean"==typeof globalFunctionsReady?((e=document.createElement("img")).classList.add("webp-support"),e.onload=function(){webpSupportUpdate(!0)},e.onerror=function(){webpSupportUpdate(!1)},e.src="/assets/img/webp_support.webp",document.body.appendChild(e),hashUpdate(),newAjaxRequest({file:"/assets/requests/get/shift/stats",callback:function(e){var t=tryJSONParse(e);t?shiftStats=t.payload:newToast({settings:{template:"exception"},content:{body:"We could not retrieve SHiFT Code statistics due to an error. This may affect the site until refreshed."}})}}),function(){for(var e=dom.find.children(document,"group","clickables"),t=0;t<e.length;t++)fixClickableContent(e[t])}(),function(){for(var e=dom.find.children(document,"tag","button"),t=0;t<e.length;t++){var a=e[t];dom.has(a,"class","o-pressed")&&btnPressToggle(a)}}(),function(){var e,t,a={};a.main=dom.find.id("containers"),a.stylesheets=(e=dom.find.children(document.head,"attr","rel","stylesheet"))[e.length-1],a.scripts=(t=dom.find.children(document.body,"tag","script"))[t.length-1],a.modals=dom.find.id("modals"),a.templates=dom.find.id("templates");var o={stylesheets:dom.find.children(document.body,"attr","rel","stylesheet"),scripts:dom.find.children(document.body,"tag","script"),modals:dom.find.children(document.body,"class","modal"),templates:dom.find.children(document.body,"tag","template")};for(var r in o)for(var n=a[r],i=o[r],s=i.length-1;0<=s;s--){var l=i[s];l!=n&&l.parentNode!=n&&(-1!=["stylesheets","scripts"].indexOf(r)?n.insertAdjacentElement("afterend",l):n.appendChild(l))}}(),window.addEventListener("hashchange",function(e){event.preventDefault(),checkHash(),hashUpdate()}),window.addEventListener("scroll",function(){null!==globalScrollTimer&&clearTimeout(globalScrollTimer),globalScrollUpdates++,globalScrollTimer=setTimeout(function(){if(1==globalScrollUpdates){var e=document.getElementsByTagName("*");for(i=0;i<e.length;i++){var t=e[i].getBoundingClientRect().top;0<=t&&t<=1&&hashUpdate()}}globalScrollUpdates=0},150)}),window.addEventListener("load",globalListenerLoadClearScroll),addFocusScrollListeners(document),function(){var e=document.getElementsByTagName("a");for(i=0;i<e.length;i++)""!=e[i].hash&&e[i].addEventListener("click",hashUpdate)}(),window.addEventListener("click",focusLock.handle),window.addEventListener("keydown",focusLock.handle),ShiftCodesTK.cursor={},window.addEventListener("mousemove",function(e){ShiftCodesTK.cursor={x:e.clientX,y:e.clientY,target:e.target}})):setTimeout(execGlobalScripts,250)}execGlobalScripts(),window.addEventListener("load",function(){loadEventFired=!0});
var dropdownMenuListeners={};function getDropdownMenuProps(t){try{if(!t)throw"Provided dropdown is not a valid Element.";if(void 0===t.getElementsByClassName)throw"Provided dropdown is not currently in the DOM. getDropdownMenuProps() can only be called for Dropdown Menus that are currently present in the DOM.";if(!dom.has(t,"class","dropdown-menu"))throw"Provided dropdown is not a valid Dropdown Menu.";return{name:dom.get(t,"attr","data-dropdown"),id:dom.get(t,"attr","id"),toggle:function(){if(dom.has(t,"attr","id")){var o=dom.find.child(document.body,"attr","data-dropdown-menu-toggle",t.id);if(o)return o}var e=dom.find.child(t.parentNode,"class","dropdown-menu-toggle");return e||!1}(),modes:{toggleDropdown:dom.has(t,"class","o-toggle"),toggleButton:dom.has(t,"class","o-press")},choices:!!(o=dom.find.child(t,"class","choice-list"))&&dom.find.children(o,"class","choice")}}catch(o){return console.error("getDropdownMenuProps Error: ".concat(o)),!1}var o}function updateDropdownMenuPos(o){var e=getDropdownMenuProps(o);try{if(!o||!dom.has(o,"class","dropdown-menu"))throw"Provided dropdown is not a valid Dropdown Menu.";if(document.body&&e.toggle){var t=dom.has(o,"class","sticky"),n={body:document.body.getBoundingClientRect(),toggle:e.toggle.getBoundingClientRect(),last:{x:dom.get(o,"attr","data-last-pos-x"),y:dom.get(o,"attr","data-last-pos-y")}},d={top:t?"".concat(n.toggle.top,"px"):"calc(".concat(n.body.top.toString().replace("-",""),"px + ").concat(n.toggle.top,"px)"),right:"calc(100% - ".concat(n.toggle.right,"px)"),bottom:t?"calc(".concat(n.body.height,"px - ").concat(n.toggle.bottom,"px)"):"calc(".concat(n.body.top,"px + ").concat(n.body.height,"px - ").concat(n.toggle.bottom,"px)"),left:"".concat(n.toggle.left,"px")};return o.style.inset&&dom.has(o,"class","sticky")||(o.style.inset=Object.values(d).join(" ")),!0}return!1}catch(o){return console.error("updateDropdownMenuPos Error: ".concat(o)),!1}}function addDropdownMenuListener(o,e){try{if(void 0===o||"string"!=typeof o)throw"A valid Dropdown Name must be provided.";if(void 0===e||"Function"!=e.constructor.name)throw"Provided callback is not a callable function.";return dropdownMenuListeners[o]||(dropdownMenuListeners[o]=[]),dropdownMenuListeners[o].push(e),!0}catch(o){return console.error("addDropdownMenuListener Error: ".concat(o)),!1}}function updateDropdownMenu(o,e){var t=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];try{if(void 0===o||!o||!dom.has(o,"class","dropdown-menu"))throw"Provided dropdown is not a valid Dropdown Menu.";if(void 0===e||"string"!=typeof e||!dom.find.child(o,"attr","data-value",e))throw"A valid option must be provided.";var n=getDropdownMenuProps(o),d=dom.find.child(o,"attr","data-value",e);if(t){var r=dropdownMenuListeners[n.name];if(r){var a=!0,i=!1,c=void 0;try{for(var l,s=r[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){(0,l.value)(e,d,o)}}catch(o){i=!0,c=o}finally{try{a||null==s.return||s.return()}finally{if(i)throw c}}}}if(n.modes.toggleButton){var u=!0,p=!1,g=void 0;try{for(var f,h=n.choices[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var m=f.value,w=dom.get(m,"attr","data-value");edit.attr(m,"update","aria-pressed",w==e)}}catch(o){p=!0,g=o}finally{try{u||null==h.return||h.return()}finally{if(p)throw g}}}return t&&n.modes.toggleDropdown&&toggleDropdownMenu(o,!0),!0}catch(o){return console.error("updateDropdownMenu Error: ".concat(o)),!1}}function toggleDropdownMenu(o){var e,t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=getDropdownMenuProps(o);try{function d(){var o=n.toggle;o&&(edit.attr(o,"update","aria-pressed",!i),edit.attr(o,"update","aria-expanded",!i))}if(!o||!dom.has(o,"class","dropdown-menu"))throw"Provided dropdown is not a valid Dropdown Menu.";var r,g,a=dom.find.id("dropdown_menu_container"),i=0<a.childNodes.length&&a.childNodes[0]==o,c="".concat(n.id,"_placeholder");return i?(r=dom.find.id(c),d(),isHidden(o,!0),focusLock.clear(),setTimeout(function(){isDisabled(n.toggle,!1),t?n.toggle.focus():document.activeElement.blur(),console.log(r,o),r.parentNode.replaceChild(o,r)},250)):(g=edit.copy(o),d(),edit.attr(o,"update","id",c),a.appendChild(g),updateDropdownMenuPos(g),e=[g.childNodes[0],g.childNodes[1]],n.toggle&&e.push(n.toggle),focusLock.set(e,function(){toggleDropdownMenu(g)}),function(){var o=dom.find.children(g,"class","choice");if(o){var e=!0,t=!1,n=void 0;try{for(var d,r=o[Symbol.iterator]();!(e=(d=r.next()).done);e=!0){var a=d.value;if(dom.has(a,"attr","aria-pressed","true"))return a.focus()}}catch(o){t=!0,n=o}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}var i=!0,c=!1,l=void 0;try{for(var s,u=o[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var p=s.value;if(!p.disabled)return p.focus()}}catch(o){c=!0,l=o}finally{try{i||null==u.return||u.return()}finally{if(c)throw l}}}}(),setTimeout(function(){isHidden(g,!1)},50)),!i}catch(o){return console.error("toggleDropdownMenu Error: ".concat(o)),null}}function configureDropdownMenu(o){try{if(!o||!dom.has(o,"class","dropdown-menu"))throw"Provided dropdown is not a valid Dropdown Menu.";var c=getDropdownMenuProps(o);return e=document.createElement("div"),edit.class(e,"add","panel"),l=e,s={title:dom.find.child(o,"class","title"),choices:dom.find.child(o,"class","choice-list")},c.id||function(){for($idInt=0,$idStr="";;)if($idInt=Math.floor(900*Math.random()),$idStr="dropdown_menu_".concat($idInt),!dom.find.id($idStr))return o.id=$idStr,c.id=$idStr}(),edit.class(o,"add","configured"),isHidden(o,!0),s.title&&(t=document.createElement("div"),edit.class(t,"add","title"),t.innerHTML=s.title.innerHTML,l.appendChild(t)),function(){if(s.choices){for(var o=function(){if("ul"==dom.get(s.choices,"tag"))return s.choices;var o=document.createElement("ul");return edit.class(o,"add","choice-list"),edit.attr(o,"add","role","menu"),o.innerHTML=s.choices.innerHTML,o}(),e=dom.find.children(o,"tag","li"),t=0;t<e.length;t++){var n,d=e[t],r="".concat(c.id,"_item_").concat(t),a=dom.find.child(d,"class","label"),i=dom.find.child(d,"group","clickables");edit.attr(d,"add","role","menuitem"),a&&(n="".concat(r,"_label"),edit.attr(a,"add","id",n),edit.attr(d,"add","aria-labelledby",n)),edit.class(i,"add","choice")}l.appendChild(o)}else console.warn('configureDropdownMenu Warning: Dropdown "'.concat(c.id,'" did not provide any choices.'))}(),o.innerHTML=l.outerHTML,n=document.createElement("div"),edit.class(n,"add","arrow"),edit.attr(n,"add","aria-hidden",!0),o.appendChild(n),function(){if(c.toggle){var o={"aria-haspopup":"menu","aria-expanded":!1,"aria-pressed":!1,autocomplete:!1,"data-dropdown-menu-toggle":c.id};for(var e in o)edit.attr(c.toggle,"add",e,o[e])}else console.warn('configureDropdownMenu Warning: A toggle could not be found for dropdown "'.concat(c.id,'".'))}(),o}catch(o){return console.error("configureDropdownMenu Error: ".concat(o)),!1}var e,t,n,l,s}!function(){var e=setInterval(function(){function o(o){var e=dom.find.id("dropdown_menu_container");e&&0<e.childNodes.length&&updateDropdownMenuPos(e.childNodes[0])}globalFunctionsReady&&(clearInterval(e),function(){var o=dom.find.children(document.body,"class","dropdown-menu"),e=!0,t=!1,n=void 0;try{for(var d,r=o[Symbol.iterator]();!(e=(d=r.next()).done);e=!0){var a=d.value;dom.has(a,"class","no-auto-config")||dom.has(a,"class","configured")||configureDropdownMenu(a)}}catch(o){t=!0,n=o}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}}(),window.addEventListener("click",function(o){var e,t,n,d,r,a,i=o.target;d="data-".concat(n="dropdown-menu-toggle"),dom.has(i,"class",n)&&(!(e=dom.get(i,"attr",d))||(t=dom.find.id(e))&&toggleDropdownMenu(t)),dom.has(i,"class","choice")&&(r=dom.get(i,"attr","data-value"),a=dom.find.parent(i,"class","dropdown-menu"),!1!==r&&!1!==a&&updateDropdownMenu(a,r,!0))}),window.addEventListener("resize",o),window.addEventListener("scroll",o))},250)}();
var defaultDropdownPanelLabels={false:"Expand Panel",true:"Collapse Panel"};function updateDropdownPanelAttributes(e,a){var t,n=e.getElementsByClassName("header")[0],d=null===(t=n.getAttribute("data-custom-labels"))?defaultDropdownPanelLabels:JSON.parse(t);e.setAttribute("data-expanded",a),n.setAttribute("aria-expanded",a),n.setAttribute("aria-pressed",a),n.title=d[a],n.setAttribute("aria-label",d[a])}function dropdownPanelSetup(e){var a,t=document.createElement("span");if(dom.has(e,"class","c")){var n=e.parentNode,d={};d.base=edit.copy(dom.find.id("dropdown_panel_template")),d.title=dom.find.child(d.base,"class","title"),d.icon=dom.find.child(d.title,"class","icon"),d.primary=dom.find.child(d.title,"class","primary"),d.secondary=dom.find.child(d.title,"class","secondary"),d.body=dom.find.child(d.base,"class","body");var l=["icon","primary","secondary","body"];""!=e.id&&(d.base.id=e.id);for(var o=0;o<l.length;o++){var r=l[o],s=dom.find.child(e,"class",r);s?d[r].innerHTML=s.outerHTML:d[r].parentNode.removeChild(d[r])}a=document.createElement(dom.get(e,"tag")),edit.class(a,"add",e.className),edit.class(a,"add",d.base.className),a.innerHTML=d.base.innerHTML,edit.class(a,"remove","c"),d.base=a,n.replaceChild(d.base,e),e=d.base}updateDropdownPanelAttributes(e,!1),t.className="overlay-hashtarget",e.insertBefore(t,e.childNodes[0])}function toggleDropdownPanel(e){var a=e.parentNode,t="true"==a.getAttribute("data-expanded");updateDropdownPanelAttributes(a,!t)}!function(){var e=setInterval(function(){globalFunctionsReady&&(clearInterval(e),function(){var e=document.getElementsByClassName("dropdown-panel"),a=!0,t=!1,n=void 0;try{for(var d,l=e[Symbol.iterator]();!(a=(d=l.next()).done);a=!0){var o=d.value;dom.has(o,"class","no-auto-config")||dropdownPanelSetup(o)}}catch(e){t=!0,n=e}finally{try{a||null==l.return||l.return()}finally{if(t)throw n}}}(),window.addEventListener("click",function(e){var a="dropdown-panel-toggle",t=e.target,n=dom.find.parent(t,"class",a);dom.has(t,"class",a)?toggleDropdownPanel(t):n&&toggleDropdownPanel(n)}))},250)}();
document.getElementById("footer_return").addEventListener("click",function(e){this.blur()});
function formInputMouseEvent(e){var t,r,u,a=e.target,v=dom.find.parents(a,"tag","fieldset");v&&(t=function(t,r){function e(e){"add"==t?edit.class(e,"add",r):"delete"==t&&edit.class(e,"remove",r)}if(u){var a=!0,o=!1,n=void 0;try{for(var i,d=u[Symbol.iterator]();!(a=(i=d.next()).done);a=!0){if(e(i.value),"focus"==r)break}}catch(e){o=!0,n=e}finally{try{a||null==d.return||d.return()}finally{if(o)throw n}}}var l=!0,s=!1,f=void 0;try{for(var c,m=v[Symbol.iterator]();!(l=(c=m.next()).done);l=!0){e(c.value)}}catch(e){s=!0,f=e}finally{try{l||null==m.return||m.return()}finally{if(s)throw f}}},r=e.type,u=dom.find.parents(a,"class","field"),"mouseover"==r?t("add","hover"):"mouseout"==r&&t("delete","hover"),"focusin"==r?t("add","focus"):"focusout"==r&&t("delete","focus"))}function formUpdateCharCounter(e){var t={max:tryParseInt(e.maxLength),now:e.value.length};t.left=t.max-t.now;var r=document.getElementById(e.id.replace("_input","_char_counter"));r.innerHTML=t.left,updateLabel(r,"".concat(t.left,"/").concat(t.max," characters remaining"))}function formToggleDetailsEvent(e){var t=dom.find.parent(e,"tag","form"),r=dom.has(t,"class","hide-details"),a={false:"Hide",true:"Show"};return!!t&&(edit.class(t,"toggle","hide-details"),e.innerHTML=e.innerHTML.replace(a[r],a[!r]),updateLabel(e,e.title.replace(a[r],a[!r])),!0)}function formGetField(e,t){try{var r;return function(){if(void 0===e||!dom.has(e,"tag","form"))throw"A valid target form must be provided.";if(void 0===t||0==t.trim().length)throw"A valid field name must be provided."}(),((r=dom.find.child(e,"attr","name",t))||!!(r=dom.find.child(e,"attr","name","".concat(t,"[]"))))&&r}catch(e){return console.error("formGetField Error: ".concat(e)),!1}}function formAddAlert(){var e,t,r,a,o,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};try{var i={info:"fa-info-circle",warning:"fa-exclamation-triangle",error:"fa-exclamation-circle"},d=mergeObj({form:null,target:!1,type:"error",message:null},n);return function(){if(null===d.form||!dom.has(d.form,"tag","form")||!dom.has(d.form,"class","configured"))throw"A valid target form must be provided.";if(!1===d.target||formGetField(d.form,d.target)||(console.warn('formAddAlert Warning: Field "'.concat(d.target,'" could not be found.')),d.target=!1),-1==["info","warning","error"].indexOf(d.type))throw"A valid type must be provided.";if(null===d.message||"string"!=typeof d.message||0==d.message.trim().length)throw"A valid message must be provided."}(),dom.has(d.form,"class","hide-alerts")?l():(e=dom.find.child(d.form,"class","alerts"),o=edit.copy(dom.find.id("form_alert_template")),edit.class(dom.find.child(dom.find.child(o,"class","icon"),"class","box-icon"),"add","fas ".concat(i[d.type])),dom.find.child(o,"class","message").innerHTML=d.message,t=o,!1!==d.target?(r=formGetField(d.form,d.target),(a=dom.find.child(dom.find.parent(r,"class","field"),"class","alerts"))?a.appendChild(t):e?e.appendChild(t):l()):e?e.appendChild(t):l()),!0}catch(e){return console.error("formAddAlert Error: ".concat(e)),!1}function l(){var e,t=newToast({settings:{id:"form_alert_toast_"+randomNum(100,9999),duration:"infinite"},content:{icon:"fas ".concat(i[d.type]),title:ucWords(d.type),body:d.message},action:{use:!1!==d.target&&formGetField(d.form,d.target),type:"button",action:function(e){var t,r,a=dom.get(e.target,"attr","data-form"),o=dom.get(e.target,"attr","data-field");a&&o&&(!(t=dom.find.id(a))||(r=formGetField(t,o))&&(e.preventDefault(),r.focus()))},name:"Show Field",label:"Show the associated field"}});t&&(e=dom.find.child(t,"class","action"),edit.attr(e,"add","data-form",d.form.id),edit.attr(e,"add","data-field",d.target))}}function formToggleState(e){var t=dom.find.children(e,"group","focusables"),r=dom.has(e,"attr","disabled")&&dom.has(e,"class","disabled-by-submit");edit.class(e,"toggle","disabled-by-submit"),isDisabled(e);var a=!0,o=!1,n=void 0;try{for(var i,d=t[Symbol.iterator]();!(a=(i=d.next()).done);a=!0){var l=i.value;(!r&&!l.disabled||r&&dom.has(l,"class","disabled-by-submit"))&&(edit.class(l,"toggle","disabled-by-submit"),isDisabled(l))}}catch(e){o=!0,n=e}finally{try{a||null==d.return||d.return()}finally{if(o)throw n}}return!r}function formHandleSubmit(e){var f=e.target,s=e.submitter,c=dom.find.children(f,"group","focusables"),m={},t=dom.has(f,"class","ajax-submit"),r=dom.has(f,"class","use-ajax-progress-bar");if(!0,e.preventDefault(),e.stopImmediatePropagation(),t){formToggleState(f),dom.find.child(f,"class","alerts").innerHTML=[],r&&lpbUpdate(20);for(var a=0;a<c.length;a++)(function(e){var t,r,a=c[e],o="fieldset"==(t=dom.get(a,"tag"))||"select"==t||"a"==t||"button"==t?t:dom.get(a,"attr","type"),n=dom.get(a,"attr","name");if("a"==o||a.disabled&&!dom.has(a,"class","disabled-by-submit"))return;if("fieldset"==o&&0<a.innerHTML.trim().length)m[n]=a.innerHTML;else if("select"==o)for(var i=dom.find.children(a,"tag","option"),d=0;d<i.length;d++){var l=i[d];if(l.selected){m[n]=l.value;break}}else{"radio"==o||"checkbox"==o?("radio"==o?dom.find.children(f,"class","radio"):dom.find.children(f,"class","checkbox"),r=n.indexOf("[]")==n.length-2,a.checked&&(r&&!m[n]&&(m[n]=[]),r?m[n].push(a.value):m[n]=a.value)):0<a.value.trim().length&&("button"==o&&a!=s||(m[n]=a.value))}})(a);newAjaxRequest({type:dom.get(f,"attr","method"),file:dom.get(f,"attr","action"),requestHeader:"form",params:m,callback:function(e){response=tryJSONParse(e),response?function(){response.statusCode;for(var t,e=response.payload.form_result,d=[response.payload.info_messages,response.warnings,response.errors],l=0,s=d;l<s.length;l++)!function(){var e=s[l];if(e){var t=!0,r=!1,a=void 0;try{for(var o,n=e[Symbol.iterator]();!(t=(o=n.next()).done);t=!0){var i=o.value;formAddAlert({form:f,target:!!i.parameter&&i.parameter,type:e==d[0]?"info":e==d[1]?"warning":e==d[2]?"error":void 0,message:i.message})}}catch(e){r=!0,a=e}finally{try{t||null==n.return||n.return()}finally{if(r)throw a}}}}();e?((t=response.payload.form_result_actions).toast&&newToast(t.toast),t.redirect&&setTimeout(function(){setTimeout(function(){var e=new RegExp("^reload$");window.location=decodeURIComponent(t.redirect.location.replace(e,""))},t.redirect.delay)},250)):setTimeout(function(){formToggleState(f)},500)}():newToast({settings:{duration:"infinite",template:"formResult"},content:{icon:"fas fa-exclamation-triangle",title:"Request Error",body:"We could not process and display the form response due to an error. Your information may or may not have been submitted properly."},action:{use:!0,type:"link",link:" ",name:"Refresh",label:"Refresh the current page"}}),r&&lpbUpdate(100)}}),r&&lpbUpdate(90,!0)}else requestToken.check(function(){f.submit()})}function formSetup(e){var t;t=""!=e.id?e.id:"form_".concat(randomNum(100,1e3)),e.id=t;edit.class(e,"add","configured")}function formUpdateField(p,y,b){var e,t,w=(e=dom.find.child(p,"attr","name",y))||(y+="[]",e=dom.find.child(p,"attr","name",y))?e:(y=y.slice(0,-2),!1),r=!!w&&dom.get(w,"tag"),x=!!w&&(t=dom.get(w,"attr","type"),"select"==r||"textarea"==r?r:t),T=!!w&&("select"==x||"checkbox"==x||"radio"==x?"multi":"single"),S=null!=b&&b.constructor.name.toLowerCase();return w?"array"==S&&"single"==T?(console.error('formUpdateField Error: The value for "'.concat(y,'" can only be an Array for Select, Radio, or Checkbox fields.')),!1):(function(){var e=b||"";if("single"==T)edit.attr(w,"update","value",e);else{var t="select"==x?dom.find.children(w,"tag","option"):dom.find.children(p,"attr","name",y),r="select"==x?"selected":"checked";if("select"==x){var a=!0,o=!1,n=void 0;try{for(var i,d=t[Symbol.iterator]();!(a=(i=d.next()).done);a=!0){var l=i.value;edit.attr(l,"remove","selected")}}catch(e){o=!0,n=e}finally{try{a||null==d.return||d.return()}finally{if(o)throw n}}}var s=!0,f=!1,c=void 0;try{for(var m,u=t[Symbol.iterator]();!(s=(m=u.next()).done);s=!0){var v=m.value,g=v.value,h=("string"==S?g==e:-1!=e.indexOf(g))?"add":"remove";edit.attr(v,h,r)}}catch(e){f=!0,c=e}finally{try{s||null==u.return||u.return()}finally{if(f)throw c}}}}(),!0):(console.error('formUpdateField Error: The field "'.concat(y,'" was not found in form "').concat(p.id,'".')),!1)}function formToggleField(e,t,r){try{var a=(f=dom.find.child(e,"attr","name",t))||(t+="[]",f=dom.find.child(e,"attr","name",t))?f:(t=t.slice(0,-2),!1);if(a){for(var o=dom.find.parent(a,"class","field"),n=0,i=["disabled","hidden","readonly","required"];n<i.length;n++)s=l=d=void 0,l=i[n],void 0!==(s=r[l])&&(d="toggle"==s?"toggle":!0===s?"add":!1===s?"remove":void 0,edit.attr(a,d,l),edit.class(o,d,l),"hidden"==l&&edit.attr(dom.find.parent(o,"tag","fieldset"),d,l));return!0}throw'formUpdateField: The field "'.concat(t,'" was not found in form "').concat(e.id,'".')}catch(e){return console.error(e),!1}var d,l,s,f}!function(){var e=setInterval(function(){globalFunctionsReady&&(clearInterval(e),function(){var e=document.forms,t=!0,r=!1,a=void 0;try{for(var o,n=e[Symbol.iterator]();!(t=(o=n.next()).done);t=!0){var i=o.value;dom.has(i,"class","no-auto-config")||dom.has(i,"class","configured")||formSetup(i)}}catch(e){r=!0,a=e}finally{try{t||null==n.return||n.return()}finally{if(r)throw a}}}(),window.addEventListener("submit",formHandleSubmit),function(){for(var e=0,t=["mouseover","mouseout","focusin","focusout"];e<t.length;e++){var r=t[e];window.addEventListener(r,formInputMouseEvent)}}(),window.addEventListener("click",function(e){var t=e.target;dom.has(t,"tag","button")&&dom.has(t,"class","form-details-toggle")&&formToggleDetailsEvent(t)}))},250)}(),ShiftCodesTK.forms={getFormData:function(e,t){var c=1<arguments.length&&void 0!==t&&t,r=dom.find.children(e,"group","focusables"),m={},a=!0,o=!1,n=void 0;try{for(var u,i=r[Symbol.iterator]();!(a=(u=i.next()).done);a=!0)(function(){var e,t=u.value,r=(e=dom.get(t,"tag"),-1!=["fieldset","select","a","button"].indexOf(e)?e:dom.get(t,"attr","type")),a=dom.get(t,"attr","name");if("a"==r||t.disabled&&!dom.has(t,"class","disabled-by-script"))return;if(-1!=["radio","checkbox"].indexOf(r))t.checked&&(a.indexOf("[]")==a.length-2?(void 0===m[a]&&(m[a]=[]),m[a].push(t.value)):m[a]=t.value);else if("select"==r){var o=dom.find.children(t,"tag","option"),n=!0,i=!1,d=void 0;try{for(var l,s=o[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var f=l.value;if(f.selected){m[a]=f.value;break}}}catch(e){i=!0,d=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw d}}}else"textarea"==r?0<t.innerHTML.trim().length&&(m[a]=t.innerHTML):"button"==r&&t!=c||0<t.value.trim().length&&(m[a]=t.value)})()}catch(e){o=!0,n=e}finally{try{a||null==i.return||i.return()}finally{if(o)throw n}}return m}};
function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var globalFunctionsReady=!0,pbIntervals={};function tryError(e,t){if("silent"==t)return console.error(e),!1;if("throw"==t)throw e;if("ignore"==t)return!1;throw e.message="".concat(e.message,"\n\r\n\rAdditionally, the behavior parameter is invalid.\n\rBehavior: ").concat(t),e}function tryToRun(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=function(){if(n){return mergeObj({function:function(){return!0},attempts:!1,delay:250,behavior:"silent",logCatch:!1,customError:!1},r)}return r}();function t(){if(n<=a.attempts||!a.attempts)setTimeout(function(){tryToRun(r,n+1)},a.delay);else{var t=new Error;if(!(t.name="tryToRun Error")!==a.customError?t.message=a.customError:t.message="Max Tries Exceeded.\r\n\r\nSettings: ".concat(JSON.stringify(a)),a.logCatch&&(t.message+="\r\n\r\nCaught Error: ".concat(e)),"throw"==a.behavior)throw t;if("silent"==a.behavior)return void console.error(t);if("ignore"==a.behavior)return}}try{var o=a.function();if(!1!==o)return o;t()}catch(e){t()}}function tryParseInt(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"silent",r=new Error;r.name="parseInt Error",r.message="Not a valid number.\n\rInt: ".concat(e);var n=parseInt(e);return isNaN(n)?tryError(r,t):n}function tryJSONParse(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"silent",r=new Error;r.name="JSONParse Error",r.message="Not a valid JSON string.\n\rString: ".concat(e);try{return JSON.parse(e)}catch(e){return tryError(r,t)}}function mergeObj(e){var t=arguments.length,r={};for(var n=0;n<t;n++)for(var a=arguments[n],o=Object.keys(a),i=0;i<o.length;i++){var l=o[i];!function e(t,r,n){if(n&&"Object"==n.constructor.name){var a=Object.keys(n);t[r]||(t[r]={});for(var o=0;o<a.length;o++){var i=a[o],l=n[i];e(t[r],i,l)}}else t[r]=n}(r,l,a[l])}return r}function regexMatchAll(e,t){for(var r=[],n=!0===e.global?e:new RegExp(e,"g");null!==(matches=n.exec(t));)r.push(matches);return r}function newAjaxRequest(e){var t,r,a=window.XMLHttpRequest?new XMLHttpRequest:window.ActiveXObject?new ActiveXObject("Microsoft.XMLHttp"):void 0,c=((t=mergeObj({file:null,type:"GET",params:{},callback:!1,headers:{},_tokenRefreshed:!1},e)).type=t.type.toUpperCase(),"POST"!=t.type||t.headers["Content-Type"]||(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.params._token||t.params._auth_token||(t.params._token=requestToken.get()),t);function n(e){var t=0<arguments.length&&void 0!==e?e:null;for(var r in a.open(c.type,c.file,!0),c.headers){var n=c.headers[r];try{a.setRequestHeader(r,n)}catch(e){console.warn("newAjaxRequest: ".concat(r," is not a valid header or ").concat(n," is not a valid header value."));continue}}a.send(t)}return null===c.file?(console.error("newAjaxRequest Error: A file path was not specified.\r\n".concat(JSON.stringify(e))),!1):"GET"!=c.type&&"POST"!=c.type?(console.error('newAjaxRequest Error: "'.concat(c.type,'" is not a valid Request Type.\r\n').concat(JSON.stringify(e))),!1):(a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE){if(401==a.status){var e=tryJSONParse(a.responseText);if(e&&"Missing or Invalid Request Token"==e.statusMessage&&!c._tokenRefreshed)return c._tokenRefreshed=!0,void requestToken.check(function(){newAjaxRequest(c)})}c.callback&&c.callback(a.responseText)}},r=function(){var e="";for(var t in c.params){var r=c.params[t];if("Array"==r.constructor.name){var n=!0,a=!1,o=void 0;try{for(var i,l=r[Symbol.iterator]();!(n=(i=l.next()).done);n=!0){var s=i.value;-1==t.indexOf("[]")&&(t+="[]"),e+="".concat(t,"=").concat(s,"&")}}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}}else e+="".concat(t,"=").concat(r,"&")}return e.slice(0,-1)}(),void("GET"==c.type?(c._tokenRefreshed||(-1==c.file.indexOf("?")?c.file+="?":c.file+="&",c.file+=r),n()):"POST"==c.type&&n(r)))}function datetime(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"year-month-date",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"now",r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=function(){if("now"==t)return new Date;if("Object"==typeof t&&"Date"==t.constructor.name)return t;var e=new Date(t);return!(!t||"Invalid Date"==e)&&e}();if(!1===n)return!1;function a(e){return"0".concat(e).slice(-2)}var o,i,l=("check"==r&&(i=n.toUTCString(),r=!(!t||-1!=i.search("(\\d{2}\\:)")&&-1==i.search("00:00:00"))),r?{year:n.getUTCFullYear(),month:n.getUTCMonth(),date:n.getUTCDate(),day:n.getUTCDay(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds()}:{year:n.getFullYear(),month:n.getMonth(),date:n.getDate(),day:n.getDay(),hour:n.getHours(),minute:n.getMinutes(),second:n.getSeconds()}),s={"tmp-full":"monthN date, year hour12:minute ampm","tmp-date":"month/date/year","tmp-time12":"hour12:minute ampm","tmp-time24":"hour24:minute"},c={days:{0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},months:{0:"January",1:"Feburary",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"}},d={year:l.year,month:a(l.month+1),monthN:c.months[l.month].slice(0,3),monthL:c.months[l.month],date:a(l.date),day:l.day,dayN:c.days[l.day].slice(0,3),dayL:c.days[l.day],hour12:1<(o=l.hour)&&o<=12?o:12<o?o-12:12,hour24:a(l.hour),minute:a(l.minute),second:a(l.second),ampm:l.hour<=12?"AM":"PM",js:n,iso:n.toISOString()},u=new RegExp("(\\w+)","g");return s[e]?datetime(s[e],t):"js"==e?d.js:e.replace(u,function(e){var t=d[e];return!1!==t?t:e})}function dateDif(e){for(var t={},r={date:e,start:1<arguments.length&&void 0!==arguments[1]?arguments[1]:"now"},n=Object.keys(r),a=0;a<n.length;a++){var o=n[a],i=datetime("js",r[o]);t[o]=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate())}var l=Math.abs(t.start-t.date);return Math.ceil(l/864e5)}function dateRel(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"now",r={date:datetime("tmp-date",e),start:datetime("tmp-date",t)},n=dateDif(r.date,r.start);return 0==n?"Today":1==n?r.date<r.start?"Yesterday":"Tomorrow":n<7&&-7<n&&(r.date<r.start?"Last":"Next")+" "+datetime("dayL",e)}var dom={try:function(e,t,r,n,a,o){var i=5<arguments.length&&void 0!==o?o:["class","tag","attr"],l=[void 0!==t&&t&&void 0!==t.getElementsByTagName,-1!=i.indexOf(r),"string"==typeof n||"number"==typeof n];if(-1==l.indexOf(!1))return a();try{var s=new Error;throw s.name="".concat(e," Error"),s.message="is not a valid",l[0]?l[1]?l[2]||(s.message="Argument 3 ".concat(s.message," class, tag, or attribute: ").concat(attr)):s.message="Argument 2 ".concat(s.message," type: ").concat(r):s.message="Argument 1 ".concat(s.message," element: ").concat(t),s}catch(s){return console.error(s),!1}},get:function(e,t,r){var n=2<arguments.length&&void 0!==r?r:"",a={class:!!e.classList&&e.classList,tag:!!e.tagName&&e.tagName.toLowerCase(),attr:!(!e.getAttribute||!e.getAttribute(n))&&e.getAttribute(n)};return dom.try("domGet",e,t,n,function(){return a[t]})},has:function(t,e,r,n){var a=3<arguments.length&&void 0!==n?n:null,o={class:function(){var e=dom.get(t,"class");return!!e&&e.contains(r)},tag:function(){return dom.get(t,"tag")==r},attr:function(){return null===a?!1!==dom.get(t,"attr",r):dom.get(t,"attr",r)==a}};return dom.try("domHas",t,e,r,function(){return o[e]()})},find:{parents:function(n,a,o,e){var i=3<arguments.length&&void 0!==e?e:null;return dom.try("domFindParents",n,a,o,function(){var e=n.parentNode,t=[],r={inputs:["input","select","textarea"],clickables:["a","button"]};for(r.focusables=r.inputs.concat(r.clickables);e&&void 0!==e.getElementsByTagName;){if("group"!=a&dom.has(e,a,o,i)||"group"==a&&-1!=r[o].indexOf(dom.get(e,"tag")))t.push(e);else if(dom.has(e,"tag","body")||dom.has(e,"tag","html"))break;e=e.parentNode}return t},["class","tag","attr","group"])},parent:function(t,r,n,a){return dom.try("domFindParent",t,r,n,function(){var e=dom.find.parents(t,r,n,a);return 0<e.length&&e[0]},["class","tag","attr","group"])},children:function(d,e,u,t){var s=3<arguments.length&&void 0!==t?t:null,r={class:function(){return d.getElementsByClassName(u)},tag:function(){return d.getElementsByTagName(u)},attr:function(){var e=d.getElementsByTagName("*"),t=[],r=!0,n=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var l=o.value;dom.has(l,"attr",u,s)&&t.push(l)}}catch(e){n=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}return t},group:function(){var e={inputs:["input","select","textarea"],clickables:["a","button"]};e.focusables=e.inputs.concat(e.clickables);var t=d.getElementsByTagName("*"),r=[],n=e[u];if(n){var a=!0,o=!1,i=void 0;try{for(var l,s=t[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var c=l.value;-1!=n.indexOf(dom.get(c,"tag"))&&r.push(c)}}catch(e){o=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(o)throw i}}return r}return console.error("domFindChildren Error: Argument 4 is not a valid name: ".concat(u)),!1}};return dom.try("domFindChildren",d,e,u,function(){return r[e]()},["class","tag","attr","group"])},child:function(t,r,n,e){var a=3<arguments.length&&void 0!==e?e:null;return dom.try("domFindChild",t,r,n,function(){var e=dom.find.children(t,r,n,a);return 0<e.length&&e[0]},["class","tag","attr","group"])},id:function(e){var t=document.getElementById(e);return null!==t&&t}}},edit={try:function(e){var t=mergeObj({func:"",callback:function(){console.warning("No callback was passed to editTry.")},elm:!1,type:"",name:"",val:"",validTypes:["add","remove"]},e),r=[void 0!==t.elm&&t.elm,-1!=t.validTypes.indexOf(t.type),"string"==typeof t.name||"number"==typeof t.name,"string"==typeof t.val||"number"==typeof t.val||"boolean"==typeof t.val];try{if(-1==r.indexOf(!1))return t.callback();if(!r[0])throw"Invalid element: ".concat(t.elm);if(!r[1])throw"Invalid type: ".concat(t.type);if(!r[2])throw"Invalid class or attribute: ".concat(_typeof(t.name));if(!r[3])throw"Invalid class name or attribute value: ".concat(_typeof(t.val))}catch(e){return console.error("".concat(t.func," Error: ").concat(e)),!1}},class:function(s,c,d){return edit.try({func:"editClass",elm:s,type:c,name:d,validTypes:["add","remove","toggle"],callback:function(){var e=d.split(" "),t=!0,r=!1,n=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var i=a.value,l=c;"toggle"==l&&(l=dom.has(s,"class",i)?"remove":"add"),dom.get(s,"class")[l](i)}}catch(e){r=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}return!0}})},attr:function(e,t,r,n){var a=3<arguments.length&&void 0!==n?n:"";return edit.try({func:"editAttr",elm:e,type:t,name:r,val:a,validTypes:["add","update","remove","toggle"],callback:function(){return"toggle"==t&&(t=dom.has(e,"attr",r)?"remove":"add"),"add"==t|"update"==t?e.setAttribute(r,a):e.removeAttribute(r),!0}})},copy:function(t,e){var r=!(1<arguments.length&&void 0!==e)||e;return edit.try({func:"editCopy",elm:t,type:"add",callback:function(){var e="template"==dom.get(t,"tag")?t.content.children[0]:t;return e.cloneNode(r)}})}};function getMetaTag(e){var t=dom.find.child(document.head,"attr","name",e);return t||!1}function setElementState(e,t,r,n){function a(e){var t=new Error;throw t.name="setElementStateError",t.message=e,t}if(-1!=["disabled","hidden"].indexOf(e)){if(t){var o=t[e];return"toggle"==r&&(r=o?!t[e]:!dom.has(t,"attr",e)),r?edit.attr(t,"add",e,""):edit.attr(t,"remove",e),edit.attr(t,"add","aria-".concat(e),r),n&&(t.tabIndex={true:-1,false:0}[r]),!0}a("Provided element is ".concat(t,"."))}else a("".concat(e," is not a valid state."))}function isDisabled(e){return setElementState("disabled",e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"toggle",2<arguments.length&&void 0!==arguments[2]&&arguments[2])}function isHidden(e){return setElementState("hidden",e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:"toggle",2<arguments.length&&void 0!==arguments[2]&&arguments[2])}function updateLabel(s,n){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:["title","aria"],t={title:function(){s.title=n},aria:function(){edit.attr(s,"update","aria-label","label")},tooltip:function(){var e,t,r=function(){var e="data-layer-target",t=dom.get(s,"attr",e);if(t){var r=dom.find.id(t);if(r)return r}if(s.id){var n=dom.find.child(document.body,"attr",e,s.id);if(n)return n}for(var a=0,o=[s.nextElementSibling,s.previousElementSibling];a<o.length;a++){var i=o[a];if(i&&dom.has(i,"class","tooltip"))return i}var l=!!s.parentNode&&dom.find.child(s.parentNode,"class","tooltip");return l||!1}();"".concat(r.id,"_content");return r||(e=document.createElement("div"),edit.class(e,"add","layer tooltip"),edit.attr(e,"add","data-layer-delay","medium"),t=e,r=s.insertAdjacentElement("afterend",t),edit.class(s,"add","layer-target"),ShiftCodesTK.layers.setupLayer(r)),dom.find.child(r,"class","content-container").innerHTML=n,!0}};for(component in t)-1!=e.indexOf(component)&&t[component]()}function updateProgressBar(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(null===a||"progressbar"!=dom.get(a,"attr","role")){var t=new Error;throw t.name="updateProgressBar Error",t.message="A valid progress bar was not passed.\n\rProgress Bar: ".concat(a),t}var n,r,i=dom.find.child(a,"class","progress"),l=dom.find.child(a,"class","progress-count"),s=mergeObj({interval:!1,intervalDelay:1e3,intervalIncrement:5,start:null,resetOnZero:!1,useWidth:!1},e),c=a.id;!s.resetOnZero||0<o?(n=function(e){var t,r,n=0<arguments.length&&void 0!==e?e:o;a.setAttribute("data-progress",n),a.setAttribute("aria-valuenow",n),i.style.width="".concat(n,"%"),l&&(t=100-n,r=new RegExp("\\d{1,3}"),l.style.transform="translateX(".concat(t,"%)"),updateLabel(l,l.title.replace(r,n)),l.innerHTML=l.innerHTML.replace(r,n))},pbIntervals[c]&&clearInterval(pbIntervals[c].interval),!1===s.interval?n():(r=tryParseInt(a.getAttribute("data-progress"),"ignore"),null!==s.start&&r<s.start?n(s.start):n(r+s.intervalIncrement),""==a.id&&(c="progressbar_".concat(randomNum(100,1e3)),a.id=c),pbIntervals[c]={},pbIntervals[c].end=o,pbIntervals[c].increment=s.intervalIncrement,pbIntervals[c].interval=setInterval(function(){var e=a.id,t=tryParseInt(a.getAttribute("data-progress"),"throw")+pbIntervals[e].increment,r=pbIntervals[e].end;t<=r?n(t):(n(r),clearInterval(pbIntervals[e].interval),delete pbIntervals[e])},s.intervalDelay))):(a.setAttribute("data-progress",0),i.style.removeProperty("width"),l&&l.style.removeProperty("transform"))}function createElementFromHTML(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild}function deleteElement(e){if(e)return e.parentNode.removeChild(e);var t=new Error;return t.name="deleteElement Error",t.message="Argument 1 is not a valid element: ".concat(e),console.error(t),!1}var cookie={get:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];function a(e){for(var t={},r=["string","name","value"],n=0;n<r.length;n++)t[r[n]]=e[n];return t}function t(e){var t=regexMatchAll("("+e+")=([^;]+)(?:;|$)",document.cookie);if(1==t.length)return a(t[0]);if(1<t.length){for(var r=[],n=0;n<t.length;n++)r.push(a(t[n]));return r}return!1}return t(e||"[^\\s=]+")},set:function(e){var t=0<arguments.length&&void 0!==e?e:{},a=mergeObj([{name:"",value:"",path:"/",domain:!1,"max-age":789e4,expires:!1,secure:!1,samesite:"lax"},t]),o=Object.keys(a),i="";return function(){if(""==a.name)throw new Error('Could not update cookie: Property "name" is required but was not specified.\r\n\r\n'+JSON.stringify(t));i+=a.name+"=",i+=val=encodeURIComponent(a.value)}(),function(){for(var e=2;e<o.length;e++){var t=o[e],r=a[t],n="";!1!==r&&("boolean"!=typeof r&&(n="="+r),i+="; "+t+n)}}(),document.cookie=i},remove:function(t,e){function r(e){setCookie({name:t,"max-age":e,expires:e})}r(!!(!(1<arguments.length&&void 0!==e)||e)&&0)}};function randomNum(e,t){return Math.round(Math.random()*(t-e)+e)}function randomID(){for(var e,t,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:9999,o=1;o<=20;o++)if(e=randomNum(n,a),t="".concat(r).concat(e),!dom.find.id(t))return t;return!1}function checkPlural(e){return 1!=e?"s":""}function ucWords(e){for(var t=e.split(" "),r=0;r<t.length;r++){var n=t[r];t[r]=n.charAt(0).toUpperCase()+n.substring(1)}return t.join(" ")}
function imgViewClick(e){var l,n,i,t,c=e.target;"IMG"==c.tagName&&dom.has(c,"class","fullscreen")&&(l=document.getElementById("image_viewer"),n={},function(){for(var e=0,i=["header","title","close"];e<i.length;e++){var t=i[e];n[t]=dom.find.child(l,"class",t)}}(),i=c.getAttribute("data-fullscreen"),t=edit.copy(c),edit.class(t,"remove","fullscreen"),edit.class(t,"add","img"),l.insertBefore(t,n.header),i&&(n.title.innerHTML=i),isHidden(l,!1),setTimeout(function(){edit.class(l,"remove","inactive"),n.close.focus(),toggleBodyScroll(!1),focusLock.set([n.header,t],imgViewClose)},50))}function imgViewClose(){var l=document.getElementById("image_viewer"),n={};!function(){for(var e=0,i=["img","title"];e<i.length;e++){var t=i[e];n[t]=dom.find.child(l,"class",t)}}(),edit.class(l,"add","inactive"),toggleBodyScroll(!0),focusLock.clear(),setTimeout(function(){isHidden(l,!0),l.removeChild(n.img),n.title.innerHTML=""},450)}!function(){var e=setInterval(function(){globalFunctionsReady&&(clearInterval(e),window.addEventListener("click",imgViewClick),dom.find.child(document.getElementById("image_viewer"),"class","close").addEventListener("click",imgViewClose))},250)}();
function _createForOfIteratorHelper(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){r&&(t=r);function a(){}var o=0;return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i=!0,d=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return i=t.done,t},e:function(t){d=!0,n=t},f:function(){try{i||null==r.return||r.return()}finally{if(d)throw n}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}ShiftCodesTK.layers={layerListeners:{},activeLayers:{},layerTimeouts:{},layerEvents:{focus:{true:["mouseover","focusin"],false:["mouseleave","mouseout","focusout"]},click:["click","contextmenu"],resync:["resize","scroll","mousemove"]},layerContainer:dom.find.id("layers"),getLayerProps:function(f){try{!function(){if(void 0===f||!f||!dom.has(f,"class","layer"))throw"Provided layer is not a valid layer."}();var n={},t=!!f.id&&this.activeLayers[f.id];return t?n=t:(n.id=f.id,n.name=dom.get(f,"attr","data-layer-name"),n.active=!1,n.type=dom.has(f,"class","dropdown")?"dropdown":!!dom.has(f,"class","tooltip")&&"tooltip",n.triggers=function(){if(e=dom.get(f,"attr","data-layer-triggers")){var t=["focus","primary-click","secondary-click"],e=e.split(", ");for(var r in e){var a=e[r];-1==t.indexOf(a)&&(console.warn('layers.getLayerProps Warning: "'.concat(a,'" is not a valid trigger.')),e.splice(r,1))}return e}var o={dropdown:["primary-click"],tooltip:["focus"]};return o[n.type]?o[n.type]:[]}(),n.position=((o={pos:dom.get(f,"attr","data-layer-pos"),align:dom.get(f,"attr","data-layer-align"),isSticky:dom.has(f,"class","sticky"),useCursor:dom.has(f,"class","use-cursor"),followCursor:dom.has(f,"class","follow-cursor")}).pos||(o.pos="top"),o.align||(o.align="center"),o),n.target=function(){var t="data-layer-target",e="layer-target",r="data-layer-targets",a=dom.get(f,"attr",t);if(a){var o=dom.find.id(a);if(o)return o}for(var n=0,i=[f.previousElementSibling,f.nextElementSibling];n<i.length;n++){var d=i[n];if(d&&dom.has(d,"class",e))return d}if(f.parentNode){var c=dom.find.child(f.parentNode,"class",e);if(c)return c}if(f.id){var s,l=_createForOfIteratorHelper(dom.find.children(document.body,"attr",r));try{for(l.s();!(s=l.n()).done;){var u=s.value;if(dom.has(u,"attr",r,f.id))return u}}catch(t){l.e(t)}finally{l.f()}}return!1}(),n.delay=(r=dom.get(f,"attr","data-layer-delay"),a={none:50,short:250,medium:500,long:1e3},r&&a[r]?a[r]:-1!=["button","a"].indexOf(dom.get(n.target,"tag"))?a.none:a.medium),n.content=dom.find.child(f,"class","layer-content"),n.choices=!!(e=dom.find.child(f,"class","choice-list"))&&dom.find.children(e,"class","choice")),n}catch(t){return console.error("layers.getLayerProps Error: ".concat(t)),!1}var e,r,a,o},updateLayerPos:function(d,t){var e,r=1<arguments.length&&void 0!==t&&t;try{!function(){if(void 0===d||!d||!dom.has(d,"class","layer"))throw"Provided layer is not a valid layer."}();var c=this.getLayerProps(d);if(null===document.body||0==c.target||0==c.content)return!1;var i=c.position.isSticky;return!r&&d.style.top&&!c.position.followCursor&&i||(dom.has(d,"attr","data-layer-pos")||edit.attr(d,"add","data-layer-pos",c.position.pos),function(){var t,e,r,a,o={};for(var n in o=c.position.useCursor?(t=ShiftCodesTK.cursor.x,e=ShiftCodesTK.cursor.y,r={body:document.body.getBoundingClientRect(),cursor:{top:"".concat(e-8),right:"".concat(t+8),bottom:"".concat(e+8),left:"".concat(t-8)}},{top:i?"".concat(r.cursor.top,"px"):"calc(".concat(r.body.top.toString().replace("-",""),"px + ").concat(r.cursor.top,"px)"),right:"calc(100% - ".concat(r.cursor.right,"px)"),bottom:i?"calc(".concat(r.body.height,"px - ").concat(r.cursor.bottom,"px)"):"calc(".concat(r.body.top,"px + ").concat(r.body.height,"px - ").concat(r.cursor.bottom,"px)"),left:"".concat(r.cursor.left,"px")}):(a={body:document.body.getBoundingClientRect(),target:c.target.getBoundingClientRect()},{top:i?"".concat(a.target.top,"px"):"calc(".concat(a.body.top.toString().replace("-",""),"px + ").concat(a.target.top,"px)"),right:"calc(100% - ".concat(a.target.right,"px)"),bottom:i?"calc(".concat(a.body.height,"px - ").concat(a.target.bottom,"px)"):"calc(".concat(a.body.top,"px + ").concat(a.body.height,"px - ").concat(a.target.bottom,"px)"),left:"".concat(a.target.left,"px")}))d.style[n]=o[n]}(),"tooltip"!=c.type||dom.has(d,"class","wrapped")&&!r||(dom.has(d,"class","wrapped")&&r&&edit.class(d,"remove","wrapped"),e=c.content.getBoundingClientRect(),dom.find.child(c.content,"class","content-container").getBoundingClientRect().width>e.width-12&&edit.class(d,"add","wrapped")),function(){var t;function e(){var t=document.body.getBoundingClientRect(),e=c.content.getBoundingClientRect(),r={top:e.top<12,right:e.right>t.right-12,bottom:e.bottom>t.height-12,left:e.left<12};for(side in r){if(r[side])return side}return!1}function r(t){for(var e=0<arguments.length&&void 0!==t?t:"original",r=0,a=["pos","align"];r<a.length;r++){var o=a[r],n=dom.get(d,"attr","data-layer-".concat(o,"-").concat(e));n&&edit.attr(d,"update","data-layer-".concat(o),n)}}if(r(),e()&&(r("resolved"),isOverflowing=e())){if((t=c.position.align)&&!dom.has(d,"attr","data-layer-align-original")&&edit.attr(d,"add","data-layer-align-original",t),edit.attr(d,"update","data-layer-align",side),edit.attr(d,"update","data-layer-align-resolved",side),e()){var a,o=_createForOfIteratorHelper({top:["bottom","right","left"],right:["left","top","bottom"],bottom:["top","right","left"],left:["right","top","bottom"]}[isOverflowing]);try{for(o.s();!(a=o.n()).done;){var n=a.value;if(edit.attr(d,"update","data-layer-pos",n),!e()){var i=c.position.pos;return i&&!dom.has(d,"attr","data-layer-pos-original")&&edit.attr(d,"add","data-layer-pos-original",i),edit.attr(d,"add","data-layer-pos",n),edit.attr(d,"add","data-layer-pos-resolved",n)}}}catch(t){o.e(t)}finally{o.f()}}e()&&r()}}()),!0}catch(t){return console.error("layers.updateLayerPos Error: ".concat(t)),!1}},addLayerListener:function(t,r,e){var a=2<arguments.length&&void 0!==e?e:["click"];try{function o(t){var e=ShiftCodesTK.layers;e.layerListeners[t]||(e.layerListeners[t]=[]),e.layerListeners[t].push({callback:r,triggers:a})}return function(){if(void 0===t||"string"!=typeof t&&!0!==t)throw"A valid layer name must be provided.";if(void 0===r||"function"!=typeof r)throw"Provided callback is not a callable function."}(),o(!0!==t?t:"_allLayers"),!0}catch(t){return console.error("layers.addLayerListener Error: ".concat(t)),!1}},updateDropdownLayer:function(t,e,r){var a=!(2<arguments.length&&void 0!==r)||r;try{!function(){if(void 0===t||!t||!dom.has(t,"class","layer")||!dom.has(t,"class","dropdown"))throw"Provided layer is not a valid dropdown layer.";if(void 0===e||"string"!=typeof e||!dom.find.child(t,"attr","data-value",e))throw'"'.concat(e,'" is not a valid option name.')}();var o=this.getLayerProps(t),n=dom.find.child(t,"attr","data-value",e);if(a&&this.layerListenerEvent(n,t,"click"),dom.has(t,"class","auto-press")){var i,d=_createForOfIteratorHelper(o.choices);try{for(d.s();!(i=d.n()).done;){var c=i.value,s=dom.get(c,"attr","data-value");edit.attr(c,"update","aria-pressed",s==e)}}catch(t){d.e(t)}finally{d.f()}}return a&&dom.has(t,"class","auto-toggle")&&this.toggleLayer(t,!1),!0}catch(t){return console.error("layers.updateDropdownLayer Error: ".concat(t)),!1}},toggleLayer:function(t,e){var r=1<arguments.length&&void 0!==e?e:"toggle";try{!function(){if(void 0===t||!t||!dom.has(t,"class","layer"))throw"Provided layer is not a valid layer.";if(!dom.has(t,"class","configured")){if(dom.has(t,"class","no-auto-config"))throw"Provided layer has not been configured.";t=this.setupLayer(t)}if(-1==[!0,!1,"toggle"].indexOf(r))throw'"'.concat(r,' is not a valid state."')}();var i=this.getLayerProps(t);if(null===i.id.match(new RegExp("_placeholder$"))){function a(){i.target&&"dropdown"==i.type&&(edit.attr(i.target,"update","aria-pressed",r),edit.attr(i.target,"update","aria-expanded",r))}var o="".concat(i.id,"_placeholder");if("toggle"==r&&(r=!i.active),r&&!i.active){var n=edit.copy(t);return this.layerContainer.appendChild(n),(i=this.getLayerProps(n)).active=!0,this.activeLayers[i.id]=i,a(),edit.attr(t,"update","id",o),t.innerHTML="",this.updateLayerPos(n),"dropdown"==i.type&&(function(){var t=[n.childNodes[0],n.childNodes[1]];i.target&&t.push(i.target),focusLock.set(t,function(){this.toggleLayer(n,!1)}.bind(this))}.bind(this)(),function(){if(i.choices){var t,e=_createForOfIteratorHelper(i.choices);try{for(e.s();!(t=e.n()).done;){var r=t.value;if(dom.has(r,"attr","aria-pressed","true"))return r.focus()}}catch(t){e.e(t)}finally{e.f()}var a,o=_createForOfIteratorHelper(i.choices);try{for(o.s();!(a=o.n()).done;){var n=a.value;if(!n.disabled)return n.focus()}}catch(t){o.e(t)}finally{o.f()}}}()),setTimeout(function(){isHidden(n,!1)}.bind(this),25),!0}if(!r&&i.active){var d=dom.find.id(o);return delete this.activeLayers[i.id],a(),isHidden(t,!0),d&&(edit.attr(t,"remove","id"),edit.attr(d,"update","id",i.id),d.innerHTML=t.innerHTML),"dropdown"==i.type&&(focusLock.clear(),i.target.focus()),setTimeout(function(){deleteElement(t)}.bind(this),125),!0}}return!1}catch(t){return console.error("layers.toggleLayer Error: ".concat(t)),null}},layerListenerEvent:function(t,r,e){try{var a=function(){var t=this.getLayerProps(r),e=[];return this.layerListeners._allLayers&&(e=e.concat(this.layerListeners._allLayers)),t.name&&this.layerListeners[t.name]&&(e=e.concat(this.layerListeners[t.name])),e}.bind(this)();if(a){var o,n=_createForOfIteratorHelper(a);try{for(n.s();!(o=n.n()).done;){var i=o.value,d={focus:this.layerEvents.focus.true.concat(this.layerEvents.focus.false),click:["click"],contextmenu:["contextmenu"]};for(var c in d){var s=d[c];-1!=i.triggers.indexOf(c)&&-1!=s.indexOf(e)&&i.callback(t,r)}}}catch(t){n.e(t)}finally{n.f()}}return!0}catch(t){return console.error("layers.layerListenerEvent Error: ".concat(t)),!1}},layerEvent:function(n){var t,e,i=ShiftCodesTK.layers,d=n.type;if(-1!=i.layerEvents.focus.true.concat(i.layerEvents.focus.false,i.layerEvents.click).indexOf(d)){var r,a,o,c="data-layer-targets",s=((e=dom.get(n.target,"attr",c))||-1==["mouseover","mouseout","touchstart","touchend","click","contextmenu"].indexOf(d)||(t=dom.find.parent(n.target,"attr",c))&&(e=dom.get(t,"attr",c)),e),l=function(){if(dom.has(n.target,"class","action"))return n.target;if(-1!=i.layerEvents.focus.true.concat(i.layerEvents.click).indexOf(d)){var t=dom.find.parent(n.target,"class","action");if(t)return t}return!1}();if(s){var u,f=_createForOfIteratorHelper(s.split(", "));try{for(f.s();!(u=f.n()).done;)!function(){var a,t,e,r=u.value,o=dom.find.id(r);o&&(a=i.getLayerProps(o),-1!=i.layerEvents.focus.true.concat(i.layerEvents.focus.false).indexOf(d)?-1!=a.triggers.indexOf("focus")&&(t=function(){var t=ShiftCodesTK.cursor.target;return t===a.target||dom.find.parent(t,"class","layer-target")===a.target},"mouseover"==d||"focusin"==d?-1!=(-1!=a.triggers.indexOf("primary-click")||a.triggers.indexOf("secondary-click"))&&dom.has(n.target,"attr","aria-pressed","true")||(void 0===i.layerTimeouts[a.id]&&(i.layerTimeouts[a.id]=[]),i.layerTimeouts[a.id].push(setTimeout(function(){setTimeout(function(){t()&&i.toggleLayer(o,!0)},10)},a.delay))):-1!=["mouseleave","mouseout","focusout"].indexOf(d)&&(e=function(){if(i.layerTimeouts[a.id]){var t,e=_createForOfIteratorHelper(i.layerTimeouts[a.id]);try{for(e.s();!(t=e.n()).done;){var r=t.value;clearTimeout(r)}}catch(t){e.e(t)}finally{e.f()}delete i.layerTimeouts[a.id]}i.toggleLayer(o,!1)},"mouseout"==d?setTimeout(function(){t()||e()},10):e())):"click"==d?(-1!=a.triggers.indexOf("primary-click")||-1!=a.triggers.indexOf("secondary-click")&&a.active)&&i.toggleLayer(o):"contextmenu"==d&&-1!=a.triggers.indexOf("secondary-click")&&(n.preventDefault(),a.active?i.updateLayerPos(o,!0):i.toggleLayer(o,!0)))}()}catch(t){f.e(t)}finally{f.f()}}!l||(r=dom.find.parent(l,"class","layer"))&&(a=i.getLayerProps(r),-1!=i.layerEvents.focus.true.concat(i.layerEvents.focus.false).indexOf(d)&&"dropdown"==a.type&&(o=dom.find.child(r,"class","choice-list"),-1!=i.layerEvents.focus.true.indexOf(d)?edit.attr(o,"update","aria-activedescendent",l.parentNode.id):setTimeout(function(){var t=ShiftCodesTK.cursor.target;t!==l&&dom.find.parent(t,"class","action")!==l&&edit.attr(o,"remove","aria-activedescendent")},10)),-1!=i.layerEvents.click.indexOf(d)&&(a&&"dropdown"==a.type?"dropdown"==a.type&&i.updateDropdownLayer(r,dom.get(l,"attr","data-value"),!0):i.layerListenerEvent(l,r,d)))}else if(-1!=i.layerEvents.resync.indexOf(d)){var y=i.activeLayers;if(0<Object.keys(y).length)for(var p in y){var g=y[p];("resize"==d||"scroll"==d&&"dropdown"!=g.type||"mousemove"==d&&g.position.followCursor)&&i.updateLayerPos(dom.find.id(g.id),"scroll"!=d)}}},setupLayer:function(i){try{if(void 0===i||!i||!dom.has(i,"class","layer"))throw"Provided layer is not a valid element.";var u=this.getLayerProps(i),d={};return d.layer=""!=u.id?u.id:randomID("layer_"),d.content="".concat(d.layer,"_content"),d.target=""!=u.target.id?u.target.id:randomID("layer_target_"),function(){var t,e,r,a,l=(t=document.createElement("div"),e=document.createElement("div"),edit.class(t,"add","layer-content"),edit.class(e,"add","content-container"),e.id=d.content,e.innerHTML=i.innerHTML,t.appendChild(e),t);i.id=d.layer,u.id=d.layer,edit.class(i,"add","configured"),edit.attr(i,"add","data-layer-target",d.target),isHidden(i,!0),"dropdown"==u.type?((a=dom.find.child(l,"class","title"))&&(r="".concat(u.id,"_title"),edit.attr(a,"add","id",r),edit.attr(i,"add","aria-labelledby",r)),function(){var t,e,r,a,o,n,i,d=function(){if(!(e=dom.find.child(l,"class","choice-list"))){var t=dom.find.children(l,"class","choice"),e=document.createElement("ul");edit.class(e,"add","choice-list");for(var r=0;r<t.length;r++)e.appendChild(t[r]);e=l.appendChild(e)}return edit.attr(e,"add","role","menu"),e}(),c=dom.find.children(d,"class","choice");if(!1!==c)for(var s=0;s<c.length;s++)i=n=o=a=r=e=void 0,n=c[t=s],i="".concat(u.id,"_choice_").concat(t),edit.class(n,"add","action"),dom.has(l,"class","auto-toggle")&&edit.attr(n,"add","aria-pressed","false"),(r=dom.find.child(n,"class","label"))&&(e="".concat(i,"_label"),edit.attr(r,"add","id",e),edit.attr(n,"add","aria-labelledby",e)),(a=dom.find.parent(n,"tag","li"))||((a=document.createElement("li")).appendChild(n),a=d.appendChild(a)),(o=a).id=i,edit.attr(o,"add","role","menuitem");else console.warn('layers.setupLayer Warning: Dropdown layer "'.concat(u.id,'" did not provide any choices.'))}()):"tooltip"==u.type&&edit.attr(i,"add","role","tooltip");var o,n=(o=document.createElement("div"),edit.class(o,"add","pointer box-icon fas fa-caret-up"),edit.attr(o,"add","aria-hidden",!0),o);i.innerHTML="",i.appendChild(l),i.appendChild(n)}(),function(){if(!u.target)throw'A target could not be found for layer "'.concat(u.id,'".');var t,e={id:d.target,autocomplete:!1,"data-layer-targets":!1!==(t=dom.get(u.target,"attr","data-layer-targets"))?"".concat(t,", ").concat(d.layer):d.layer};for(var r in"dropdown"==u.type?e=mergeObj(e,{"aria-haspopup":"menu","aria-expanded":!1,"aria-pressed":!1}):"tooltip"==u.type&&(e["aria-describedby"]=d.content),e)edit.attr(u.target,"update",r,e[r])}(),i}catch(t){return console.error("layers.toggleLayer Error: ".concat(t)),!1}}},function(){var t=ShiftCodesTK.layers;window.addEventListener("load",function(){(function(){var t,e=_createForOfIteratorHelper(dom.find.children(document.body,"class","layer"));try{for(e.s();!(t=e.n()).done;){var r=t.value;dom.has(r,"class","configured")||dom.has(r,"class","no-auto-config")||this.setupLayer(r)}}catch(t){e.e(t)}finally{e.f()}}).bind(t)()}),function(){var t,e=_createForOfIteratorHelper(this.layerEvents.focus.true.concat(this.layerEvents.focus.false,this.layerEvents.click,this.layerEvents.resync));try{for(e.s();!(t=e.n()).done;){var r=t.value;window.addEventListener(r,this.layerEvent,!0)}}catch(t){e.e(t)}finally{e.f()}}.bind(t)()}();
function configureModal(o){var e,d=edit.copy(dom.find.id("modal_template")),l={classes:dom.get(o,"class").remove("modal"),id:o.id,title:dom.find.child(o,"class","title"),body:dom.find.child(o,"class","body")};return l.classes&&edit.class(d,"add",l.classes.toString),l.id?d.id=l.id:console.error("configureModal Error: A modal cannot be configured without explicitly passing defining an ID."),e=dom.find.child(d,"class","title"),l.title?e.innerHTML=l.title.innerHTML:deleteElement(e),l.body&&(dom.find.child(dom.find.child(d,"class","body"),"class","content-container").innerHTML=l.body.innerHTML),o.parentNode.replaceChild(d,o),!0}function toggleModal(o){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"toggle";if(!dom.has(o,"class","modal")||!dom.has(o,"class","configured"))return console.error("toggleModal Error: Provided modal is not a valid modal."),!1;if(!0!==e&&!1!==e&&"toggle"!=e)return console.error('toggleModal Error: "'.concat(e,'" is not a valid value for the "state" argument.')),!1;if("toggle"==e&&(e=dom.has(o,"class","inactive")),e){var d=dom.find.children(document.body,"class","modal"),l=!0,t=!1,a=void 0;try{for(var n,i=d[Symbol.iterator]();!(l=(n=i.next()).done);l=!0){var r=n.value;if(!dom.has(r,"class","inactive")&&dom.has(r,"class","configured")&&r!=o){toggleModal(r,!1);break}}}catch(o){t=!0,a=o}finally{try{l||null==i.return||i.return()}finally{if(t)throw a}}isHidden(o,!1),toggleBodyScroll(!1),dom.find.child(o,"class","body").scrollTop=0,setTimeout(function(){edit.class(o,"remove","inactive"),focusLock.set(dom.find.child(o,"class","panel"),function(){toggleModal(o,!1)})},50)}else toggleBodyScroll(!0),focusLock.clear(),edit.class(o,"add","inactive"),setTimeout(function(){isHidden(o,!0)},850);return!0}!function(){var o=setInterval(function(){"undefined"!=typeof globalFunctionsReady&&(clearInterval(o),function(){var o=dom.find.children(document.body,"class","modal"),e=!0,d=!1,l=void 0;try{for(var t,a=o[Symbol.iterator]();!(e=(t=a.next()).done);e=!0){var n=t.value;dom.has(n,"class","configured")||configureModal(n)}}catch(o){d=!0,l=o}finally{try{e||null==a.return||a.return()}finally{if(d)throw l}}}(),window.addEventListener("click",function(o){var e,d=o.target;function l(o){var e=dom.get(o,"attr","data-modal");if(e){var d=dom.get(o,"attr","data-modal-state"),l=dom.find.id(e);return l?toggleModal(l,d?"true"==d:"toggle"):void console.error("modalClickListener Error: ",o,'points to a missing modal: "'.concat(e,'"'))}var t=dom.find.parent(o,"class","modal");if(t)return toggleModal(t,!1);console.error("modalClickListener Error: ",o,"does not point to and is not a child of a modal.")}dom.has(d,"class","modal-toggle")?l(d):(e=dom.find.parent(d,"class","modal-toggle"))&&l(e)}))},250)}();
function multiView_setup(t){try{var e,a=t.id?t.id:"multiview_"+randomNum(100,1e3),d=dom.find.children(t,"class","view"),i=dom.get(t,"attr","data-view-type"),n=document.createElement("div");edit.class(n,"add","views"),edit.attr(n,"add","id","".concat(a,"_views")),"tabs"==i&&(e=document.createElement("div"),edit.class(e,"add","controls h-menu"),edit.attr(e,"add","id","".concat(a,"_controls")));for(var o=d.length-1;0<=o;o--){var r,c,l,s,m,v,u,w=d[o];t==dom.find.parent(w,"class","multi-view")&&("tabs"==i?(l={view:(c=!!(r=dom.get(w,"attr","data-view"))&&r.toLowerCase().replace(" ","_"))?"".concat(a,"_view_").concat(c):"".concat(a,"_view_").concat(o),controller:c?"".concat(a,"_controller_").concat(c):"".concat(a,"_controller_").concat(o)},s=document.createElement("button"),edit.class(s,"add","view-controller"),edit.attr(s,"add","aria-controls",l.view),edit.attr(s,"add","id",l.controller),s.innerHTML="<span>".concat(r,"</span>"),e.insertAdjacentElement("afterbegin",s),edit.attr(w,"add","aria-owns",l.controller),edit.attr(w,"add","id",l.view),isHidden(w,!0)):"toggle"==i&&(m=dom.find.child(w,"class","view-toggle"),v={view:w.id},m&&!dom.has(m,"tag","button")&&(m=dom.find.child(m,"tag","button")),m&&(u=dom.find.id(dom.get(m,"attr","data-view")),v.toggle="".concat(a,"_toggle_").concat(o),edit.attr(m,"add","id",v.toggle),u&&(v.target=u.id,edit.attr(m,"add","aria-controls",v.target),edit.attr(u,"add","aria-owns",v.toggle))),isHidden(w,!0)))}for(var g=d.length-1;0<=g;g--){var f=d[g];dom.find.parent(f,"class","multi-view")==t&&n.insertAdjacentElement("afterbegin",f)}return"tabs"==i&&t.appendChild(e),t.appendChild(n),multiView_update(dom.find.child(n,"class","view")),edit.class(t,"add","multi-view-setup"),!0}catch(t){return console.error("multiView Setup failed: ".concat(t)),!1}}function multiView_update(t){try{var e,a,d=dom.find.parent(t,"class","multi-view"),i=dom.get(d,"attr","data-view-type"),n=dom.find.id(dom.get(d,"attr","data-view"));return"tabs"==i&&(e=dom.find.id(dom.get(t,"attr","aria-owns")),edit.attr(e,"add","aria-selected",!0),n&&(a=dom.find.id(dom.get(n,"attr","aria-owns")),edit.attr(a,"add","aria-selected",!1))),n&&(isHidden(n,!0),edit.class(n,"remove","active")),isHidden(t,!1),setTimeout(function(){edit.class(t,"add","active"),edit.attr(d,"add","data-view",t.id)},50),!0}catch(t){return console.error("multiView Update failed: ".concat(t)),!1}}!function(){var t=setInterval(function(){globalFunctionsReady&&(clearInterval(t),function(){var t=dom.find.children(document.body,"class","multi-view"),e=!0,a=!1,d=void 0;try{for(var i,n=t[Symbol.iterator]();!(e=(i=n.next()).done);e=!0){var o=i.value;dom.has(o,"class","multi-view-setup")||multiView_setup(o)}}catch(t){a=!0,d=t}finally{try{e||null==n.return||n.return()}finally{if(a)throw d}}}(),window.addEventListener("click",function(t){var e,a,d=t.target;(dom.has(d,"class","view-controller")||dom.has(d,"class","view-toggle"))&&(!(e=dom.find.parent(d,"class","multi-view"))||dom.get(e,"attr","data-view")!=(a=dom.get(d,"attr","aria-controls"))&&multiView_update(dom.find.id(a)))}))},250)}();
function updNav(){var t=[window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop],e=document.getElementById("navbar"),o={setting:getMetaTag("theme-color"),background:getMetaTag("tk-bg-color").content,theme:getMetaTag("tk-theme-color").content};0<t[1]||0<t[2]||0<t[3]?(e.setAttribute("data-at-top",!1),o.setting.content=o.theme):(e.setAttribute("data-at-top",!0),o.setting.content=o.background)}function lpbUpdate(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n={duration:400,buffer:100};n.total=n.duration+n.buffer;var a=mergeObj(o,{interval:t,resetOnZero:!0}),d=document.getElementById("loader_pb"),i=tryParseInt(d.getAttribute("data-progress"),"ignore");function r(){function t(t){updateProgressBar(d,0<arguments.length&&void 0!==t?t:e,a)}dom.has(d,"class","is-loading")||edit.class(d,"add","is-loading"),t(),100==e&&setTimeout(function(){edit.class(d,"remove","is-loading"),setTimeout(function(){t(0)},n.total)},n.total)}(i<e||0==i)&&(0!=i?setTimeout(r,n.buffer):r())}!function(){var t=setInterval(function(){globalFunctionsReady&&(clearInterval(t),updNav(),window.addEventListener("scroll",updNav),dom.find.id("auth_logout_button")&&dom.find.id("auth_logout_button").addEventListener("click",function(){newAjaxRequest({file:"/assets/requests/post/auth/logout",type:"POST",callback:function(t){console.log(tryJSONParse(t))}})}))},250)}();
var pagers={};function pagerState(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"toggle",r=dom.find.children(e,"tag","button"),o=!0,t=!1,n=void 0;try{for(var i,d=r[Symbol.iterator]();!(o=(i=d.next()).done);o=!0){var c=i.value;dom.has(c,"class","unavailable")||("toggle"==a&&(a=!c.disabled),isDisabled(c,a))}}catch(e){t=!0,n=e}finally{try{o||null==d.return||d.return()}finally{if(t)throw n}}}function pagerUpdate(e){var a,r,o,t,m,f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,g=pagers[e.id];function n(e,a){var r="unavailable";edit.class(e,a?"add":"remove",r),(!a&&dom.has(e,"class",r)||a)&&isDisabled(e,a)}function v(e,a,r){var o=2<arguments.length&&void 0!==r&&r,t=g.subtractoffset?g.offset:0;e.setAttribute("data-page",a),e.setAttribute("data-value",a*g.offset-t),o&&(updateLabel(e,e.title.replace(new RegExp("\\d+"),a)),e.childNodes[0].innerHTML=a)}if(!dom.has(e,"class","pager")||!g)return console.error("pagerUpdate Error: Provided element is not a valid Pager."),!1;if(f>g.max)return console.error("pagerUpdate Error: The new page number of ".concat(f," exceeds the maximum page number of ").concat(g.max,".")),!1;function i(n,e){for(var i=Math.floor((e-n)/2),a=function(){var e=f-i,a=f+i,r=g.min+n,o=g.max-n;if(r<=e&&a<=o)return e;if(r<=e){var t=o-2*i;return 0<t?t:1}return a<=o?r:void 0}(),r=0,o=n;o<e;o++){v(m[o],a+r,!0),r++}var t=!0,d=!1,c=void 0;try{for(var s,l=m[Symbol.iterator]();!(t=(s=l.next()).done);t=!0){var u=s.value;u.setAttribute("aria-pressed",tryParseInt(u.getAttribute("data-page"))==f)}}catch(e){d=!0,c=e}finally{try{t||null==l.return||l.return()}finally{if(d)throw c}}}return a=dom.find.child(e,"class","previous"),(r=f-1)>=g.min?(v(a,r),n(a,!1)):(v(a,g.min),n(a,!0)),o=dom.find.child(e,"class","next"),(t=f+1)<=g.max?(v(o,t),n(o,!1)):(v(o,g.max),n(o,!0)),5==(m=dom.find.children(e,"class","jump")).length?(v(m[0],g.min,!0),v(m[4],g.max,!0),i(1,4)):i(0,m.length),g.now=f,pagerState(e,!1),!0}function addPagerListener(e,a){var r=pagers[e.id];return dom.has(e,"class","pager")&&r?"function"!=typeof a?(console.error("addPagerListener Error: Provided callback function is not a valid function."),!1):(r.customCallbacks.push(a),!0):(console.error("addPagerListener Error: Provided element is not a valid Pager."),!1)}function addPagerListeners(e,a){return console.warn("Deprecation Notice: addPagerListeners has been deprecated, replaced by addPagerListener(), and will be removed in the near future. Please update your existing code as soon as possible."),addPagerListener(e,a)}function updatePagerProps(n,e){var i=pagers[n.id],a=!1;if(dom.has(n,"class","pager")&&e||(console.error("addPagerListener Error: Provided element is not a valid Pager."),a=!0),void 0!==e.now&&(void 0!==e.min&&e.now<e.min?(console.error("addPagerListener Error: The provided page value of ".concat(e.now," exceeds the provided minimum value of ").concat(e.min,".")),a=!0):void 0===e.min&&e.now<i.min&&(console.error("addPagerListener Error: The provided page value of ".concat(e.now," exceeds the existing minimum value of ").concat(i.min,".")),a=!0),void 0!==e.max&&e.now>e.max?(console.error("addPagerListener Error: The provided page value of ".concat(e.now," exceeds the provided maximum value of ").concat(e.max,".")),a=!0):void 0===e.max&&e.now>i.max&&(console.error("addPagerListener Error: The provided page value of ".concat(e.now," exceeds the existing maximum value of ").concat(i.max,".")),a=!0)),void 0===e.now&&(void 0!==e.min&&i.now<e.min&&(console.error("addPagerListener Error: The existing current page value of ".concat(i.now," exceeds the provided minimum value of ").concat(e.min,".")),a=!0),void 0!==e.max&&i.now>e.max&&(console.error("addPagerListener Error: The existing current page value of ".concat(i.now," exceeds the provided maximum value of ").concat(e.max,".")),a=!0)),void 0!==e.min&&(void 0!==e.max&&e.min>e.max?(console.error("addPagerListener Error: The provided minimum page value of ".concat(e.min," exceeds the provided maximum value of ").concat(e.max,".")),a=!0):void 0!==e.max&&e.min>i.max&&(console.error("addPagerListener Error: The provided minimum page value of ".concat(e.min," exceeds the existing maximum value of ").concat(i.max,".")),a=!0)),void 0!==e.max&&null==e.min&&e.max<i.min&&(console.error("addPagerListener Error: The provided maximum page value of ".concat(e.max," exceeds the existing minimum value of ").concat(i.min,".")),a=!0),a)return!1;for(var r in 1==Object.keys(e).length&&e.now&&console.warn('updatePagerProps: Pager Property "now" should not be updated via updatePagerProps if it is the only property that needs to be changed. In these cases, use pagerUpdate() instead.'),e){var o=e[r];i[r]&&("customCallbacks"!=r?i[r]=o:console.warn('updatePagerProps: Pager Property "customCallbacks" cannot be updated via updatePagerProps. Use addPagerListener() instead.'))}return function(){var e=dom.find.children(n,"class","jump");if(1<e.length)for(var a=e.length-1;0<a;a--)deleteElement(e[a]);if(1<i.max)for(var r=i.max<=5?i.max-1:4,o=dom.find.child(dom.find.child(n,"class","jumps"),"class","content-container"),t=1;t<=r;t++)o.appendChild(edit.copy(e[0]))}(),pagerUpdate(n,i.now),!0}function configurePager(d){var e=edit.copy(dom.find.id("pager_template")),c=d.id?d.id:"pager_".concat(randomNum(100,1e3));return e.id=c,function(){pagers[c]={min:1,now:1,max:1,offset:1,subtractoffset:!1,onclick:!1,customCallbacks:[]};for(var e=0,a=Object.keys(pagers[c]);e<a.length;e++){var r,o=a[e],t=d.getAttribute("data-".concat(o));t&&(r=void 0,r=tryParseInt(t,"ignore")||("true"==t||"false"==t?"true"==t:t),pagers[c][o]=r)}}(),function(){pagers[c];var e=d.getAttribute("data-label");if(e){var a=!0,r=!1,o=void 0;try{for(var t,n=dom.find.children(d,"class","jump")[Symbol.iterator]();!(a=(t=n.next()).done);a=!0){var i=t.value;updateLabel(i,i.title.replace("Page",e))}}catch(e){r=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(r)throw o}}}}(),updatePagerProps(e,{}),d.parentNode.replaceChild(e,d),e}pagerScripts=setInterval(function(){globalFunctionsReady&&(clearInterval(pagerScripts),function(){var e=dom.find.children(document,"class","pager"),a=!0,r=!1,o=void 0;try{for(var t,n=e[Symbol.iterator]();!(a=(t=n.next()).done);a=!0){var i=t.value;dom.has(i,"class","no-auto-config")||dom.has(i,"class","configured")||configurePager(i)}}catch(e){r=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(r)throw o}}}(),window.addEventListener("click",function(e){var a=dom.find.parent(e.target,"class","pager");if(a){var r=tryParseInt(dom.get(e.target,"attr","data-page")),o=pagers[a.id];if(r!=o.now){if(pagerState(a,!0),o.onclick&&tryToRun({attempts:20,delay:250,function:function(){var e=dom.find.id(o.onclick);return!(!e||e.disabled)&&(e.focus(),!0)},customError:'Focus Target for pager "'.concat(a.id,'" was not found or is disabled.')}),o.customCallbacks){var t=!0,n=!1,i=void 0;try{for(var d,c=o.customCallbacks[Symbol.iterator]();!(t=(d=c.next()).done);t=!0){(0,d.value)(tryParseInt(dom.get(e.target,"attr","data-value")))}}catch(e){n=!0,i=e}finally{try{t||null==c.return||c.return()}finally{if(n)throw i}}}setTimeout(function(){pagerUpdate(a,r)},250)}}}))},250);
function toggleSB(){var e=document.getElementById("sidebar"),t={nav:document.getElementById("navbar_sb"),sb:document.getElementById("sidebar_toggle")},a="true"==e.getAttribute("data-expanded");function i(){isHidden(e,a)}function n(){e.setAttribute("data-expanded",!a),t.nav.setAttribute("data-pressed",!a),t.nav.setAttribute("aria-pressed",!a),!0==a?t.nav.focus():!1==a&&t.sb.focus()}!0==a?(n(),toggleBodyScroll(!0),focusLock.clear(),setTimeout(i,300)):(i(),toggleBodyScroll(!1),focusLock.set(dom.find.child(e,"class","panel"),toggleSB),setTimeout(n,50))}function sidebarMarkup(){var e=document.getElementById("sidebar"),t=e.getElementsByTagName("li"),a=e.getElementsByTagName("a");for(i=0;i<t.length;i++){var n=t[i].getElementsByTagName("a")[0],l="sidebar_link_"+(i+1);t[i].setAttribute("role","menuitem"),n.classList.add("link"),n.id=l,n.getElementsByClassName("name")[0].id=l+"_name",null===n.getAttribute("aria-label")&&n.setAttribute("aria-labelledby",l+"_name")}for(i=0;i<a.length;i++)a[i].classList.add("no-focus-scroll")}sidebarMarkup(),function(){var e=new RegExp("\\/$","g"),t=window.location.pathname.replace(e,""),a=document.getElementById("sidebar").getElementsByClassName("link");for(i=0;i<a.length;i++){function n(e){a[i].setAttribute("data-selected",e),a[i].setAttribute("aria-selected",e)}a[i].getAttribute("href").replace(e,"")==t?n(!0):n(!1)}}(),document.getElementById("navbar_sb").addEventListener("click",toggleSB),document.getElementById("sidebar_toggle").addEventListener("click",toggleSB);
ShiftCodesTK.toasts={ready:!1,activeToasts:{},queuedToasts:{},containers:function(){var t={};return t.main=dom.find.id("toasts"),t.activeToasts=dom.find.child(t.main,"class","active-toasts"),t.queuedToasts=dom.find.child(t.main,"class","queued-toasts"),t.serverSideToasts=dom.find.child(t.main,"class","server-side-toasts"),t}(),updateTimer:function(t,e,i){var s,a=1<arguments.length&&void 0!==e?e:"toggle",o=2<arguments.length&&void 0!==i&&i;try{!function(){if(!t||!dom.has(t,"class","toast"))throw"".concat(t," is not a valid toast element.");if(-1==["start","toggle","stop"].indexOf(a))throw'"'.concat(a,'" is not a valid Update Type.')}();var n,d=this.activeToasts[t.id];return!1!==o&&(s={infinite:-1,short:3e3,medium:6e3,long:1e4},n="string"==typeof o&&void 0!==s[o]?s[o]:"number"==typeof o?o:0,dom.find.child(t,"class","progress-bar").childNodes[0].style.animationDuration=-1<n?"".concat(n,"ms"):"",d.duration=n),"start"==a||"toggle"==a&&!dom.has(t,"class","expiring")?0<d.duration&&(edit.class(t,"add","expiring"),d&&(d.timer=setTimeout(function(){this.updateTimer(t,"stop"),this.removeToast(t)}.bind(this),d.duration))):(clearTimeout(d.timer),edit.class(t,"remove","expiring")),!0}catch(t){return console.error("toasts.updateTimer Error: ".concat(t)),!1}},newToast:function(t){var e,i,s,a,o,n,d,r,c,l=0<arguments.length&&void 0!==t?t:{};try{!function(){if(!l||"Object"!=l.constructor.name)throw"Provided configuration is not a valid configuration object."}();var u=(n={settings:{id:function(){for(var t,e=ShiftCodesTK.toasts,i="";t=randomNum(100,999),i="".concat("toast","_").concat(t),void 0!==e.activeToasts[i]||void 0!==e.queuedToasts[i];);return i}(),duration:"medium",template:!1,callback:!1},content:{icon:"fas fa-bullhorn",title:"",body:""},actions:[]},d={content:"",title:"",callback:!1,link:!1,closeToast:!1},r={actionConfirmation:{settings:{duration:"short"},content:{icon:"fas fa-check"}},fatalException:{settings:{duration:"infinite"},content:{icon:"fas fa-exclamation-triangle",title:"An error has occurred"},actions:[{content:"Refresh",title:"Refresh the page and try again",link:" "}]},formSuccess:{settings:{duration:"long"},content:{icon:"fas fa-check",title:"Success!",body:"Your information was submitted successfully."}}},c=mergeObj(n,l),!1!==(o=c.settings.template)&&void 0!==r[o]&&(c=mergeObj(n,r[o],l)),function(){var t=c.actions;for(var e in t){var i=t[e];t[e]=mergeObj(d,i)}}(),c),h=edit.copy(dom.find.id("toast_template"));return h.id=u.settings.id,edit.class(dom.find.child(h,"class","icon").childNodes[0],"add",u.content.icon),s=dom.find.child(h,"class","title"),a="".concat(u.settings.id,"_title"),s.innerHTML=u.content.title,s.id=a,edit.attr(h,"add","aria-labelledby",a),e=dom.find.child(h,"class","body"),i="".concat(u.settings.id,"_body"),e.innerHTML=u.content.body,e.id=i,edit.attr(h,"add","aria-describedby",i),function(){var t=dom.find.child(h,"class","actions"),e=!0,i=!1,s=void 0;try{for(var a,o=u.actions[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var n=a.value,d=!1!==n.link,r=document.createElement(d?"a":"button");d?(edit.class(r,"add","button"),edit.attr(r,"add","href",n.link)):edit.class(r,"add","styled"),edit.class(r,"add","action"),r.innerHTML=n.content,n.closeToast&&(edit.class(r,"add","dismiss-toast"),edit.attr(r,"add","aria-controls",u.settings.id)),t.appendChild(r),n.title&&updateLabel(r,n.title,["tooltip"])}}catch(t){i=!0,s=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw s}}}(),this.addToast(h,u)}catch(t){return console.error("toasts.newToast Error: ".concat(t)),!1}},addToast:function(t,e){if(this.ready&&void 0===this.activeToasts[e.settings.id]&&Object.keys(this.activeToasts).length<5){var i=e.settings.duration;this.activeToasts[e.settings.id]={duration:0,callback:e.settings.callback,timer:0},t=this.containers.activeToasts.appendChild(t),isHidden(t,!1),setTimeout(function(){this.updateTimer(t,"start",e.settings.duration)}.bind(this),-1!=i?200:0)}else{if(void 0!==this.queuedToasts[e.settings.id])return!1;t=this.containers.queuedToasts.appendChild(t),this.queuedToasts[e.settings.id]={toast:t,configuration:e}}return t},removeToast:function(t){try{!function(){if(!t||!dom.has(t,"class","toast"))throw"".concat(t," is not a valid toast element.")}();var e=t.id;return isHidden(t,!0),setTimeout(function(){this.containers.activeToasts.removeChild(t),delete this.activeToasts[e],function(){var e=Object.keys(this.queuedToasts);0<e.length&&setTimeout(function(){var t=this.queuedToasts[e[0]];this.addToast(t.toast,t.configuration),delete this.queuedToasts[e[0]]}.bind(this),500)}.bind(this)()}.bind(this),300),!0}catch(t){return console.error("toasts.updateTimer Error: ".concat(t)),!1}},toastEvent:function(t){var e,i,s,a,o,n,d=ShiftCodesTK.toasts;d.ready&&0<Object.keys(d.activeToasts).length&&!dom.has(t.target,"class","toast-list")&&(e=t.type,!1!==(i=dom.has(t.target,"class","toast")?t.target:dom.find.parent(t.target,"class","toast"))&&(s=d.activeToasts[i.id],"mouseover"==e||"mouseout"==e?(a=0<s.duration,o=dom.has(i,"class","expiring"),("mouseover"==e&&o||"mouseout"==e&&!o&&a)&&d.updateTimer(i,o?"stop":"start")):(n=dom.has(t.target,"class","action")?t.target:dom.find.parent(t.target,"class","action"))&&"function"==typeof s.callback&&(s.callback(n,t),dom.has(n,"class","dismiss-toast")&&setTimeout(function(){d.removeToast(i)},50))))}},function(){var s=setInterval(function(){var t,e,i;ShiftCodesTK.toasts&&(clearInterval(s),t=ShiftCodesTK.toasts,e=dom.find.id("toast_template").content.children[0],i=dom.find.child(e,"class","dedicated"),ShiftCodesTK.layers.setupLayer(i.nextElementSibling),function(){for(var t=0,e=["mouseover","mouseout","click"];t<e.length;t++){var i=e[t];this.containers.activeToasts.addEventListener(i,this.toastEvent)}}.bind(t)())},250)}(),window.addEventListener("load",function(){var t=ShiftCodesTK.toasts;setTimeout(function(){this.ready=!0,function(){var t=this.containers.serverSideToasts;if(0<t.childNodes.length){var e=!0,i=!1,s=void 0;try{for(var a,o=t.childNodes[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var n=a.value,d=tryJSONParse(n.innerHTML);d&&this.newToast(d)}}catch(t){i=!0,s=t}finally{try{e||null==o.return||o.return()}finally{if(i)throw s}}deleteElement(t)}}.bind(this)(),function(){for(var t=this.queuedToasts,e=Object.keys(t),i=e.length-1;0<=i;i--){var s=t[e[i]];if(!1===this.addToast(s.toast,s.configuration))break;delete t[e[i]]}}.bind(this)()}.bind(t),2500)});