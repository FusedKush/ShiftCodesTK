function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);function a(){}var r=0;return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,o=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var changelogProps={limit:10,offset:0,hash:!1,firstRun:!0},changelogIdPrefix="changelog_";function getChangelogs(){var h=changelogIdPrefix,y={fetched:0,added:0},e=function(){for(var e="",t=Object.keys(changelogProps),n=0;n<t.length;n++){var a=t[n],r=changelogProps[a];e+="&".concat(a,"=").concat(r)}return e.replace("&","?")}(),m=getElement("updates_header_jump"),v=document.getElementById("changelog_list");function b(e){var t=getElement("changelog_overlay");e?(addClass(t,"inactive"),setTimeout(function(){isHidden(t,!0)},250)):(isHidden(t,!1),setTimeout(function(){delClass(t,"inactive")},50))}function _(){v.innerHTML=""}lpbUpdate(90,!0,{start:20}),isDisabled(m,!0),newAjaxRequest({file:"assets/php/scripts/getChangelogs".concat(e),callback:function(e){var t,s,n,a,r,o,l,i,c=tryJSONParse(e);if(c&&0==c.statusCode){var d=c.payload.changelogs;y.fetched=d.length;var g,u,p=_createForOfIteratorHelper(d);try{for(p.s();!(g=p.n()).done;){var f=g.value;s=f,i=l=o=r=a=n=void 0,o=getTemplate("changelog_template"),l={icon:getClass(o,"icon").childNodes[0],version:getClass(o,"version"),date:getClass(o,"date"),type:getClass(o,"type"),body:getClass(o,"body")},i=s.version,o.id=h+i,o.style.animationDelay="".concat(.2*y.added,"s"),n=s.type.toLowerCase(),a="patch"==n?s.type:"".concat(s.type," Update"),addClass(l.icon,{major:"fa-broadcast-tower",minor:"fa-cogs",patch:"fa-tools"}[n]),updateLabel(l.icon,a),l.version.innerHTML="Version ".concat(i),l.date.innerHTML=datetime("month-date-year",s.date),l.type.innerHTML=a,r=function(){for(var e={"(#{3}\\s{1})(?=\\w)":"</ul><h3>","\\s{1}#{3}":'</h3><ul class="styled">',"-.+":function(e){return e.replace(/-\s{1}/g,"<li>")+"</li>"},"\\*{2}(?=[\\w.])":"<strong>","\\*{2}(?![\\w.])":"</strong>","_{1}(?=[\\w.])":"<em>","_{1}(?![\\w.])":"</em>","`{1}(?=[\\w.])":"<code>","`{1}(?![\\w.])":"</code>"},t=Object.keys(e),n=s.notes,a=0;a<t.length;a++)var r=t[a],o=new RegExp(r,"g"),l=e[r],n=n.replace(o,l);return n=n.replace(/<\/ul>/,""),n+="</ul>"}(),l.body.innerHTML=r,dropdownPanelSetup(o),0==y.added&&_(),v.appendChild(o),y.added++,1==y.added&&b(!0),y.added==y.fetched&&(addFocusScrollListeners(v),hashUpdate(),changelogProps.firstRun||isDisabled(m,!1))}}catch(e){p.e(e)}finally{p.f()}changelogProps.firstRun&&(u=c.payload.versions,changelogProps.firstRun=!1,(t=getElement("changelog_pager")).setAttribute("data-max",Math.ceil(u.length/changelogProps.limit)),t=configurePager(t),addPagerListeners(t,function(e){var t=tryParseInt(this.getAttribute("data-value"));t!=changelogProps.offset&&(changelogProps.offset=t,getChangelogs())}),function(){var e,t,n=document.getElementById("changelog_jump_template");tryToRun({function:function(){return e=document.getElementById("updates_header_jump"),t=document.getElementById("updates_header_jump_dropdown"),!0}});var a,r=_createForOfIteratorHelper(u);try{for(r.s();!(a=r.n()).done;){var o=a.value,l=getTemplate(n),s=getTag(l,"a");s.href+=h+o,updateLabel(s,s.href.replace("[\\d\\.]+",o)),s.childNodes[0].innerHTML="Version ".concat(o),getClass(t,"choice-list").appendChild(l)}}catch(e){r.e(e)}finally{r.f()}setupDropdownMenu(t),isDisabled(e,!1),deleteElm(n)}())}else _(),b(!1),newToast({settings:{template:"exception"},content:{body:"We could not retrieve the changelogs from the server at this time. Please try again later."}});lpbUpdate(100)}})}!function(){var e=setInterval(function(){globalFunctionsReady&&pagers&&(clearInterval(e),addHashListener(changelogIdPrefix,function(e){changelogProps.offset=0,changelogProps.hash=e.replace("#".concat(changelogIdPrefix),""),getChangelogs(),changelogProps.hash=!1})||getChangelogs())},250)}();