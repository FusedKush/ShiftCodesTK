var globalScrollTimer,hashTargetTimeout,loadEventFired=!1,globalScriptLoaded=!0,globalScrollUpdates=0,defaultDropdownPanelLabels={false:"Expand Panel",true:"Collapse Panel"},focusLockedElement=null,shiftStats=!1,hashRequests={},shiftNames={bl1:"Borderlands: GOTY",bl2:"Borderlands 2",bl3:"Borderlands 3",tps:"Borderlands: The Pre-Sequel"},shiftUpdates={creation_time:"",update_time:"",interval:{id:0,frequency:12e4}};function parseWebpImages(e){var t=document.body.getAttribute("data-webp-support");if(null!==t){var a="true"==t,n=e.getElementsByTagName("*");for(i=0;i<n.length;i++){var o=n[i].getAttribute("data-webp"),r=void 0;null!==o&&((r=JSON.parse(o)).fullPath=r.path+"/"+r.path.replace(/\/.+\//g,""),!0==a?r.fullPath+=".webp":!1==a&&(r.fullPath+=r.alt),"bg"==r.type?n[i].style.backgroundImage="url("+r.fullPath+")":"img"==r.type&&(n[i].src=r.fullPath),n[i].removeAttribute("data-webp"))}}else setTimeout(function(){parseWebpImages(e)},250)}function webpSupportUpdate(e){document.body.setAttribute("data-webp-support",e),parseWebpImages(document),document.getElementsByClassName("webp-support")[0].remove()}function addFocusScrollListeners(e){var t=e.getElementsByTagName("*");for(i=0;i<t.length;i++){var a=t[i];"BUTTON"!=a.tagName&&"A"!=a.tagName&&"INPUT"!=a.tagName&&"SELECT"!=a.tagName&&"TEXTAREA"!=a.tagName||!1===a.classList.contains("no-focus-scroll")&&a.addEventListener("focusin",function(e){updateScroll(this)})}}function updateScroll(n){if(!1===hasClass(n,"clipboard-copy")&&!1===hasClass(n,"hidden")){var e=[document.documentElement,document.body],t=null!=(u=n.getAttribute("data-scrollPaddingTop"))?u:0,a=null!=(c=n.getAttribute("data-scrollPaddingBottom"))?c:0,o=64+t,r=e[1].getBoundingClientRect().height-a,i=16,s={};s.base=function(){var e,t=n.tagName.toLowerCase();if("input"!=t&&"select"!=t&&"textarea"!=t)e=n;else for(var a=n;;){if(!0===a.classList.contains("input-container")){e=a;break}a=a.parentNode}return e.getBoundingClientRect()}(),s.top=s.base.top-i,s.bottom=s.base.bottom+i;var l=s.top<o,d=s.bottom>r;if(!0===l)for(x=0;x<e.length;x++)e[x].scrollTop-=o-s.top;else if(!0===d)for(x=0;x<e.length;x++)e[x].scrollTop+=s.bottom-r;!0!==l&&!0!==d||(globalScrollUpdates=0)}var c,u}function hashUpdate(){var t=window.location.hash,e=""!=t;if(function(){var e=document.getElementsByTagName("*");for(i=0;i<e.length;i++)null!==e[i].getAttribute("data-hashtarget-highlighted")&&"#"+e[i].id!=t&&(e[i].removeAttribute("data-hashtarget-highlighted"),e[i].removeEventListener("mouseover",globalListenerHashTargetHover),e[i].removeEventListener("mouseout",globalListenerHashTargetAway)),null!==e[i].getAttribute("data-hashtarget")&&"#"+e[i].id!=t&&(e[i].removeAttribute("data-hashtarget"),e[i].removeEventListener("mouseover",globalListenerHashTargetHover),e[i].removeEventListener("mouseout",globalListenerHashTargetAway))}(),history.replaceState?history.replaceState(null,null,t):window.location.hash=t,!0==e){var a=document.getElementById(t.replace("#",""));!0==(null!==a)&&("true"!=a.getAttribute("data-hashtarget")&&(a.setAttribute("data-hashtarget","visible"),a.addEventListener("mouseover",globalListenerHashTargetHover),a.addEventListener("mouseout",globalListenerHashTargetAway),a.addEventListener("focusin",globalListenerHashTargetHover),a.addEventListener("focusout",globalListenerHashTargetAway)),updateScroll(a))}}function checkHash(){for(var e=window.location.hash,t=Object.keys(hashRequests),a=0;a<t.length;a++){var n=t[a];0==e.search("#".concat(n))&&hashRequests[n]()}}function updateDropdownPanelAttributes(e,t){var a,n=e.getElementsByClassName("header")[0],o=null===(a=n.getAttribute("data-custom-labels"))?defaultDropdownPanelLabels:JSON.parse(a);e.setAttribute("data-expanded",t),e.setAttribute("aria-expanded",t),n.setAttribute("data-pressed",t),n.setAttribute("aria-pressed",t),n.title=o[t],n.setAttribute("aria-label",o[t])}function addDropdownPanelListener(e){e.getElementsByClassName("header")[0].addEventListener("click",function(e){toggleDropdownPanel(this)})}function dropdownPanelSetup(e){var t=document.createElement("span");if(!0===hasClass(e,"c")){var a=e.parentNode,n={};n.base=getTemplate("dropdown_panel_template"),n.title=getClass(n.base,"title"),n.icon=getClass(n.title,"icon"),n.primary=getClass(n.title,"primary"),n.secondary=getClass(n.title,"secondary"),n.body=getClass(n.base,"body");var o=["icon","primary","secondary","body"];""!=e.id&&(n.base.id=e.id);for(var r=0;r<o.length;r++){var i=o[r],s=getClass(e,i);void 0!==s?n[i].innerHTML=s.innerHTML:n[i].parentNode.removeChild(n[i])}delClass(e,"c"),a.replaceChild(n.base,e),e=n.base}updateDropdownPanelAttributes(e,!1),addDropdownPanelListener(e),t.className="overlay-hashtarget",e.insertBefore(t,e.childNodes[0])}function toggleDropdownPanel(e){var t=e.parentNode,a="true"==t.getAttribute("data-expanded");updateDropdownPanelAttributes(t,!a)}function retrieveDropdownMenuProps(e){var t,a={};return a.id=null===e.id?"dropdown_menu_"+Math.floor(900*Math.random()):e.id,a.target=document.getElementById(e.getAttribute("data-target")),a.toggler=null===(t=e.getAttribute("data-toggler"))?a.target:t,a.pos=e.getAttribute("data-pos"),a.options=getClasses(e,"choice"),a}function updateDropdownMenuPos(e){var t=retrieveDropdownMenuProps(e),a=document.body.getBoundingClientRect(),n=t.target.getBoundingClientRect();e.style.top="calc("+(a.top+"").replace("-","")+"px + "+n.top+"px)",e.style.left=n.left+"px",e.style.bottom="calc("+a.top+"px + "+a.height+"px - "+n.bottom+"px)",e.style.right="calc(100% - "+n.right+"px)"}function toggleDropdownMenu(a){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],t=retrieveDropdownMenuProps(a),n=(document.body.getBoundingClientRect(),t.target.getBoundingClientRect(),"true"==a.getAttribute("data-expanded"));function o(){a.setAttribute("data-expanded",!n),a.setAttribute("aria-expanded",!n),t.toggler.setAttribute("data-pressed",!n),t.toggler.setAttribute("aria-pressed",!n)}!1==n?(updateDropdownMenuPos(a),vishidden(a,!1),setTimeout(function(){o(),window.addEventListener("click",checkDropdownMenuClick),window.addEventListener("keydown",checkDropdownMenuKey),function(){var e=a.getElementsByClassName("choice");for(i=0;i<e.length;i++){var t=e[i];if("true"==t.getAttribute("data-pressed"))return t.focus()}e[0].focus()}()},50)):(o(),window.removeEventListener("click",checkDropdownMenuClick),window.removeEventListener("keydown",checkDropdownMenuKey),setTimeout(function(){vishidden(a,!0),!1===e?t.toggler.focus():document.activeElement.blur()},250))}function setupDropdownMenu(r){var s=retrieveDropdownMenuProps(r);!function(){var e=["target","pos"],t=[];for(i=0;i<e.length;i++){var a=e[i];null===s[a]&&t.push(a)}if(0==t.length){if(function(){var e=document.createElement("div"),t=r.getElementsByClassName("choice");for(addClass(r,"configured"),r.id=s.id,updateDropdownMenuPos(r),r.setAttribute("data-expanded",!1),r.setAttribute("aria-expanded",!1),vishidden(r,!0),e.className="arrow",r.getElementsByClassName("choice-list")[0].setAttribute("role","menu"),i=0;i<t.length;i++){var a=t[i],n=s.id+"_item_"+i+"_label",o=document.createElement("span");o.id=n,o.innerHTML=a.innerHTML,a.setAttribute("role","menuitem"),a.setAttribute("aria-labelledby",n),a.innerHTML="",a.appendChild(o)}r.appendChild(e)}(),s.target.classList.add("dropdown-menu-target"),s.toggler.setAttribute("aria-haspopup","menu"),s.toggler.setAttribute("data-pressed",!1),s.toggler.setAttribute("aria-pressed",!1),s.toggler.setAttribute("autocomplete",!1),s.toggler.addEventListener("click",function(e){toggleDropdownMenu(document.getElementById(s.id))}),function(){function e(e){var a=n[e];hasClass(r,"o-press")&&a.addEventListener("click",function(e){setTimeout(function(){for(var e=0;e<n.length;e++){var t=n[e];"true"==t.getAttribute("aria-pressed")&&t.setAttribute("aria-pressed",!1)}a.setAttribute("aria-pressed",!0)},500)}),hasClass(r,"o-toggle")&&a.addEventListener("click",function(e){toggleDropdownMenu(r)})}for(var n=s.options,t=0;t<n.length;t++)e(t)}(),null===document.getElementById("dropdown_menu_container")){var n=document.createElement("div");n.className="dropdown-menu-container",n.id="dropdown_menu_container",document.body.insertBefore(n,document.body.childNodes[0])}document.getElementById("dropdown_menu_container").appendChild(r)}else console.error('Dropdown Menu "'+s.id+'" is missing the following required properties: "'+t.join('", "')+'". Dropdown Menu Creation Failed.')}()}function handleFocusLock(e){var t=e.type;if(null!==focusLockedElement){var a=e.target,n=[focusLockedElement.element,document.getElementById("alert_popup_feed")];if("click"==t){do{for(var o=0;o<n.length;o++)if(a==n[o])return;a=a.parentNode}while(a);focusLockedElement.callback()}else if("keydown"==t){var r=getElements(focusLockedElement.element,"focusables"),i=r[0],s=r[r.length-1];!0===e.shiftKey&&"Tab"==e.key&&a==i||!1===e.shiftKey&&"Tab"==e.key&&a==s?(e.preventDefault(),a==i?s.focus():a==s&&i.focus()):"Escape"==e.key&&(e.preventDefault(),focusLockedElement.callback())}}}function copyToClipboard(e){var n=e.currentTarget;(function(){for(var e=parseInt(n.getAttribute("data-copy-target")),t=n,a=0;a<e;a++)t=t.parentNode;return getClass(t,"clipboard-copy")})().select(),document.execCommand("copy"),n.classList.remove("animated"),setTimeout(function(){n.classList.add("animated"),newToast({settings:{duration:"short",id:"clipboard-copy"},content:{icon:"fas fa-clipboard",title:"Copied to Clipboard",body:"This may not work in all browsers"},close:{use:!1}})},25)}function fixClickableContent(e){for(var t=e.childNodes,a=0;a<t.length;a++){var n=t[a];if("#text"==n.nodeName){var o=document.createElement("span");o.innerHTML=n.textContent,e.replaceChild(o,n)}}}function btnPressToggle(e){e.addEventListener("click",function(e){var t,a=e.currentTarget,n=!!(t=a.getAttribute("aria-pressed"))&&"true"==t;setTimeout(function(){a.setAttribute("aria-pressed",!n)},500)})}function checkShiftUpdate(){var p=0<arguments.length&&void 0!==arguments[0]&&arguments[0];newAjaxRequest({file:"/assets/php/scripts/shift/checkForUpdates",callback:function(e){var t,a,n,o,r,i,s,l,d=tryJSONParse(e);if(d){d=d.payload;for(var c=0,u=["creation","update"];c<u.length;c++)t=void 0,a=u[c],n="".concat(a,"_time"),o=d[n].timestamp,r=shiftUpdates[n],i=d[n].game_id,s=shiftNames[i],l="/".concat(i)==window.location.pathname,r<o&&!p&&("creation"!=a&&!l||(shiftUpdates.interval.clear(),newToast({settings:{id:"shift_update_notice",duration:"infinite"},content:{icon:"fas fa-key",title:"creation"==a?"New SHiFT Code for ".concat(s,"!"):"SHiFT Code update for ".concat(s,"!"),body:(t="","creation"==a?(t+="A new SHiFT Code has just been added to ShiftCodesTK! ",t+=l?"Reload the page to access the new code.":"Do you want to go there now?"):t+="A SHiFT Code has just been updated. Reload the page for changes to take effect.",t)},action:{use:!0,type:"link",link:l?" ":"/".concat(i),name:l?"Reload":"View code",label:l?"Reload the current page.":"Visit the ".concat(s," SHiFT Code page")}}))),shiftUpdates[n]=o}else shiftUpdates.interval.clear()}})}function globalListenerLoadClearScroll(){globalScrollUpdates=0,window.removeEventListener("load",globalListenerLoadClearScroll)}function globalListenerHashTargetHover(e){var t=this;hashTargetTimeout=setTimeout(function(){t.setAttribute("data-hashtarget","seen"),t.removeEventListener("mouseover",globalListenerHashTargetHover),t.removeEventListener("mouseout",globalListenerHashTargetAway),t.removeEventListener("focusin",globalListenerHashTargetHover),t.removeEventListener("focusout",globalListenerHashTargetAway)},750)}function globalListenerHashTargetAway(){clearTimeout(hashTargetTimeout)}function checkDropdownMenuClick(e){var t=e.target,a=function(){var e=document.getElementsByClassName("dropdown-menu");for(i=0;i<e.length;i++)if("true"==e[i].getAttribute("data-expanded"))return e[i]}();do{if(t==a)return;t=t.parentNode}while(t);toggleDropdownMenu(a,!0)}function checkDropdownMenuKey(e){var t=e.target,a=function(){var e=document.getElementsByClassName("dropdown-menu");for(i=0;i<e.length;i++)if("true"==e[i].getAttribute("data-expanded"))return e[i]}(),n=a.getElementsByClassName("choice"),o=n[0],r=n[n.length-1];!0===e.shiftKey&&"Tab"==e.key&&t==o||!1===e.shiftKey&&"Tab"==e.key&&t==r?(e.preventDefault(),t==o?r.focus():t==r&&o.focus()):"Escape"==e.key&&(e.preventDefault(),toggleDropdownMenu(a))}function execGlobalScripts(){var e;"boolean"==typeof globalFunctionsReady?((e=document.createElement("img")).classList.add("webp-support"),e.onload=function(){webpSupportUpdate(!0)},e.onerror=function(){webpSupportUpdate(!1)},e.src="/assets/img/webp_support.webp",document.body.appendChild(e),hashUpdate(),function(){for(var e=document.getElementsByClassName("dropdown-panel"),t=0;t<e.length;t++)dropdownPanelSetup(e[t])}(),function(){var e=document.getElementsByClassName("dropdown-menu");for(i=0;i<e.length;i++)setupDropdownMenu(e[i])}(),function(){var e,t,a;if(null!==document.getElementById("primary_header")){var n=null!==(a=document.getElementById("breadcrumbs"))?JSON.parse(a.content):null,o=document.getElementById("breadcrumb_container"),r=document.getElementById("breadcrumb_separator_template"),s=document.getElementById("breadcrumb_crumb_template");if(null!==n)for(e=s.content.children[0].cloneNode(!0),t=document.createElement("span"),e.href="/",e.innerHTML="",t.className="fas fa-home box-icon",updateLabel(e,"Home"),e.appendChild(t),o.appendChild(e),i=0;i<n.length;i++){var l=n[i],d=r.content.children[0].cloneNode(!0),c=void 0;i+1!=n.length?((c=s.content.children[0].cloneNode(!0)).href=l.url,updateLabel(c,l.name)):(c=document.createElement("b")).className="crumb",c.innerHTML=l.name,o.appendChild(d),o.appendChild(c)}else o.remove();r.remove(),s.remove()}}(),newAjaxRequest({file:"/assets/php/scripts/shift/getStats.php",callback:function(e){var t=tryJSONParse(e);t?shiftStats=t.payload:newToast({settings:{template:"exception"},content:{body:"We could not retrieve SHiFT Code statistics due to an error. This may affect the site until refreshed."}})}}),function(){for(var e=getElements(document,"clickables"),t=0;t<e.length;t++)fixClickableContent(e[t])}(),function(){for(var e=getTags(document,"button"),t=0;t<e.length;t++){var a=e[t];hasClass(a,"o-pressed")&&btnPressToggle(a)}}(),window.addEventListener("hashchange",function(e){event.preventDefault(),checkHash(),hashUpdate()}),window.addEventListener("scroll",function(){null!==globalScrollTimer&&clearTimeout(globalScrollTimer),globalScrollUpdates++,globalScrollTimer=setTimeout(function(){if(1==globalScrollUpdates){var e=document.getElementsByTagName("*");for(i=0;i<e.length;i++){var t=e[i].getBoundingClientRect().top;0<=t&&t<=1&&hashUpdate()}}globalScrollUpdates=0},150)}),window.addEventListener("load",globalListenerLoadClearScroll),addFocusScrollListeners(document),function(){var e=document.getElementsByTagName("a");for(i=0;i<e.length;i++)""!=e[i].hash&&e[i].addEventListener("click",hashUpdate)}(),window.addEventListener("click",handleFocusLock),window.addEventListener("keydown",handleFocusLock),function(){var e=document.getElementById("dropdown_menu_container");if(null!==e){var n=getClasses(e,"dropdown-menu");window.addEventListener("resize",function(e){for(var t=0;t<n.length;t++){var a=n[t];a.getAttribute("data-expanded")&&updateDropdownMenuPos(a)}})}}()):setTimeout(execGlobalScripts,250)}shiftUpdates.interval.set=function(){shiftUpdates.interval.id=setInterval(checkShiftUpdate,shiftUpdates.interval.frequency)},shiftUpdates.interval.clear=function(){clearInterval(shiftUpdates.interval.id)},execGlobalScripts(),window.addEventListener("load",function(){loadEventFired=!0,setTimeout(function(){var e;(e=document.getElementById("startup")).parentNode.removeChild(e),checkShiftUpdate(!0),shiftUpdates.interval.set()},2500)});
document.getElementById("footer_return").addEventListener("click",function(e){this.blur()});
function updNav(){var t=[window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop],e=document.getElementById("navbar"),n={setting:document.getElementById("theme_color"),background:document.getElementById("theme_color_bg").content,theme:document.getElementById("theme_color_tm").content};0<t[1]||0<t[2]||0<t[3]?(e.setAttribute("data-at-top",!1),n.setting.content=n.theme):(e.setAttribute("data-at-top",!0),n.setting.content=n.background)}function lpbUpdate(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o={duration:400,buffer:100};o.total=o.duration+o.buffer;var d=mergeObj(n,{interval:t,resetOnZero:!0}),a=document.getElementById("loader_pb"),r=tryParseInt(a.getAttribute("data-progress"),"ignore");function i(){function t(t){updateProgressBar(a,0<arguments.length&&void 0!==t?t:e,d)}hasClass(a,"is-loading")||addClass(a,"is-loading"),t(),100==e&&setTimeout(function(){delClass(a,"is-loading"),setTimeout(function(){t(0)},o.total)},o.total)}(r<e||0==r)&&(0!=r?setTimeout(i,o.buffer):i())}updNav(),window.addEventListener("scroll",updNav);
var pagers={};function pagerState(t,a){var e=getTags(t,"button"),r=!0,n=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var s=i.value;hasClass(s,"unavailable")||disenable(s,a)}}catch(t){n=!0,o=t}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}}function pagerUpdate(t){var a,e,r,n,d,v=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],p=pagers[t.id];p.now;function i(t,a){var e="unavailable";(!a&&hasClass(t,e)||a)&&disenable(t,a),a?addClass(t,e):delClass(t,e)}function m(t,a,e){var r=2<arguments.length&&void 0!==e&&e;if(t.setAttribute("data-page",a),t.setAttribute("data-value",a*p.offset-p.offset),r){var n=new RegExp("\\d+");updateLabel(t,t.title.replace(n,a)),t.childNodes[0].innerHTML=a}}function l(o,t){var i=Math.floor((t-o)/2),a=function(){var t=v-i,a=v+i,e=p.min+o,r=p.max-o;if(e<=t&&a<=r)return t;if(e<=t){var n=r-2*i;return 0<n?n:1}return a<=r?e:void 0}(),e=0;function r(t,a){t.setAttribute("aria-pressed",a)}for(var n=o;n<t;n++){m(d[n],a+e,!0),e++}var l=!0,s=!1,u=void 0;try{for(var c,g=d[Symbol.iterator]();!(l=(c=g.next()).done);l=!0){var f=c.value;tryParseInt(f.getAttribute("data-page"))==v?r(f,!0):r(f,!1)}}catch(t){s=!0,u=t}finally{try{l||null==g.return||g.return()}finally{if(s)throw u}}}p.onclick,a=getClass(t,"previous"),(e=v-1)>=p.min?(m(a,e),i(a,!1)):(m(a,p.min),i(a,!0)),r=getClass(t,"next"),(n=v+1)<=p.max?(m(r,n),i(r,!1)):(m(r,p.max),i(r,!0)),5==(d=getClasses(t,"jump")).length?(o&&(m(d[0],p.min,!0),m(d[4],p.max,!0)),l(1,4)):l(0,d.length),p.now=v,pagerState(t,!1)}function pagerEvent(t){var a=t.currentTarget,e=findClass(a,"up","pager"),r=tryParseInt(a.getAttribute("data-page")),n=pagers[e.id];r!=n.now&&(pagerState(e,!0),n.onclick&&tryToRun({attempts:20,delay:250,function:function(){var t=document.getElementById(n.onclick);return!(!t||t.disabled)&&(t.focus(),!0)},customError:'Could not find focus target for pager "'.concat(e.id,'."')}),setTimeout(function(){pagerUpdate(e,r)},250))}function configurePager(l){var u=getTemplate("pager_template"),c=""!=l.id?l.id:"pager_".concat(randomNum(100,1e3));return u.id=c,function(){var t={};t.now=t.min=t.max=t.offset=1,t.onclick=!1;var a=Object.keys(t);pagers[c]={};for(var e=0,r=a;e<r.length;e++){var n=r[e],o=l.getAttribute("data-".concat(n)),i=tryParseInt(o,"ignore");i&&(o=i),pagers[c][n]=o||t[n]}}(),function(){var t=pagers[c];if(1<t.max){for(var a=t.max<=5?t.max:5,e=getClass(getClass(u,"jumps"),"content-container"),r=2;r<=a;r++)e.appendChild(copyElm(getTag(e,"button")));var n=!0,o=!1,i=void 0;try{for(var l,s=getTags(u,"button")[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){l.value.addEventListener("click",pagerEvent)}}catch(t){o=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}}}(),pagerUpdate(u,pagers[c].now,!0),l.parentNode.replaceChild(u,l),u}pagerScripts=setInterval(function(){globalFunctionsReady&&(clearInterval(pagerScripts),function(){var t=getClasses(document,"pager"),a=!0,e=!1,r=void 0;try{for(var n,o=t[Symbol.iterator]();!(a=(n=o.next()).done);a=!0){var i=n.value;hasClass(i,"no-auto-config")||hasClass(i,"configured")||configurePager(i)}}catch(t){e=!0,r=t}finally{try{a||null==o.return||o.return()}finally{if(e)throw r}}}())},250);
function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function toggleSB(){var e=document.getElementById("sidebar"),t={nav:document.getElementById("navbar_sb"),sb:document.getElementById("sidebar_toggle")},n="true"==e.getAttribute("data-expanded");function a(){vishidden(e,n)}function i(){e.setAttribute("data-expanded",!n),t.nav.setAttribute("data-pressed",!n),t.nav.setAttribute("aria-pressed",!n),!0==n?t.nav.focus():!1==n&&t.sb.focus()}!0==n?(i(),focusLockedElement=null,setTimeout(a,300)):(a(),focusLockedElement={element:getClass(e,"panel"),callback:toggleSB},setTimeout(i,50))}function sidebarMarkup(){var e=document.getElementById("sidebar"),t=e.getElementsByTagName("li"),n=e.getElementsByTagName("a");for(i=0;i<t.length;i++){var a=t[i].getElementsByTagName("a")[0],l="sidebar_link_"+(i+1);t[i].setAttribute("role","menuitem"),a.classList.add("link"),a.id=l,a.getElementsByClassName("name")[0].id=l+"_name",null===a.getAttribute("aria-label")&&a.setAttribute("aria-labelledby",l+"_name")}for(i=0;i<n.length;i++)n[i].classList.add("no-focus-scroll")}sidebarMarkup(),function(){var e=new RegExp("\\/$","g"),t=window.location.pathname.replace(e,""),n=document.getElementById("sidebar").getElementsByClassName("link");for(i=0;i<n.length;i++){function a(e){n[i].setAttribute("data-selected",e),n[i].setAttribute("aria-selected",e)}n[i].getAttribute("href").replace(e,"")==t?a(!0):a(!1)}}(),function(){var e;e=setInterval(function(){tryToRun&&(clearInterval(e),tryToRun({attempts:!1,delay:500,function:function(){if(!shiftStats)return!1;var e=function(){var a=getClasses(document.getElementById("sidebar"),"use-badge"),l=document.getElementById("sidebar_template_badges").content.children;for(i=0;i<a.length;i++){var e=a[i].pathname.slice(1),o=shiftStats.new[e],s=shiftStats.expiring[e];(0<o||0<s)&&function(){var e=a[i],t={};t.base=copyElm(l[0]),t.new=copyElm(l[1]),t.exp=copyElm(l[2]);var n=void 0;e.appendChild(t.base),n=e.getElementsByClassName("badges")[0],0<o&&n.appendChild(t.new),0<s&&n.appendChild(t.exp)}()}return document.getElementById("sidebar_template_badges").remove(),{v:!0}}();return"object"===_typeof(e)?e.v:void 0}}))},500)}(),document.getElementById("navbar_sb").addEventListener("click",toggleSB),document.getElementById("sidebar_toggle").addEventListener("click",toggleSB);
var toasts={ready:!1,active:{},queue:{}};function toastTimeout(t,e){var o=t.id;"set"==e?(addClass(t,"expiring"),toasts.active[o].timeout=setTimeout(function(){toastTimeout(t,"expired")},toasts.active[o].duration)):(clearTimeout(toasts.active[o].timeout),"remove"==e?delClass(t,"expiring"):"expired"==e&&removeToast(t))}function newToast(t){var e,o,s,i,a={exception:{settings:{id:"exception",duration:"infinite"},content:{title:"An error has occurred"},action:{use:!0,type:"link",link:" ",name:"Refresh",label:"Refresh the page and try again"}}},n=(e=t.settings.template)&&"none"!==e&&void 0!==a[e]?a[e]:{},d=mergeObj({settings:{id:"toast",duration:"medium",template:"none"},content:{icon:"fas fa-bullhorn",title:"Toast",body:"This is a toast notification."},action:{use:!1,type:"link",link:"#",action:!1,close:!1,name:"Action",label:"The Action button"},close:{use:!0,type:"button",link:"#",action:!1,close:!0,name:"Dismiss",label:"Dismiss and close the toast"}},n,t),c=getTemplate("toast_template"),r={id:"toast_".concat(d.settings.id),duration:(o=d.settings.duration,s={short:2500,medium:5e3,long:7500},void 0!==s[o]?s[o]:o)},l={progress:getClass(getClass(c,"progress-bar"),"progress"),icon:getClass(c,"icon").childNodes[0],title:getClass(c,"title"),body:getClass(c,"body"),actions:getClass(c,"actions")},u=(document.getElementById("toast_list"),{title:"".concat(r.id,"_title"),body:"".concat(r.id,"_body")});function m(t,e){var o="button"==e.type?document.createElement("button"):document.createElement("a");return addClass(o,t),addClass(o,{button:"styled",link:"button"}[e.type]),o.innerHTML=e.name,updateLabel(o,e.label),"link"==e.type&&(o.href=e.link),e.action&&o.addEventListener("click",e.action),e.close&&(o.setAttribute("aria-controls",r.id),o.addEventListener("click",function(){removeToast(c)})),l.actions.appendChild(o),o}return c.id=r.id,l.progress.style.animationDuration="".concat(r.duration,"ms"),addClass(l.icon,d.content.icon),l.title.innerHTML=d.content.title,l.title.id=u.title,c.setAttribute("aria-labelledby",u.title),l.body.innerHTML=d.content.body,l.body.id=u.body,c.setAttribute("aria-describedby",u.body),d.action.use&&m("action",d.action),d.close.use&&m("close",d.close),"infinite"!=r.duration&&(c.addEventListener("mouseover",toastEvent),c.addEventListener("mouseout",toastEvent),c.addEventListener("click",toastEvent)),i=r.id,void 0===toasts.active[i]&&Object.keys(toasts.active).length<=3&&toasts.ready?(addToast(c,r),c):void 0===toasts.queue[i]&&(toasts.queue[i]={toast:c,settings:r},c)}function addToast(t,e){var o=e.id;toasts.active[o]=e,document.getElementById("toast_list").appendChild(t),vishidden(t,!1),setTimeout(function(){"infinite"!=e.duration&&toastTimeout(t,"set")},200)}function removeToast(s){var i=document.getElementById("toast_list"),a=s.id;toasts.active[a];toastTimeout(s,"remove-timeout"),vishidden(s,!0),setTimeout(function(){var t=Object.keys(toasts.queue);if(i.removeChild(s),delete toasts.active[a],0<t.length){var e=t[0],o=toasts.queue[e];setTimeout(function(){addToast(o.toast,o.settings),delete toasts.queue[t[0]]},500)}},300)}function toastEvent(t){var e=t.type,o=t.currentTarget,s=hasClass(o,"expiring");"mouseover"==e||"click"==e?!0===s&&toastTimeout(o,"remove"):!1===s&&toastTimeout(o,"set")}window.addEventListener("load",function(){var s=Object.keys(toasts.queue);setTimeout(function(){toasts.ready=!0;for(var t=0;t<s.length&&t<=3;t++){var e=s[t],o=toasts.queue[e];addToast(o.toast,o.settings),delete toasts.queue[e]}},2500)});