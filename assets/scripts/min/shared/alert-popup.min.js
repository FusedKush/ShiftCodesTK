var alertPopups={},alertPopupTimeouts={},alertPopupQueue={};function setAlertPopupTimeout(e){let t=document.getElementById("alert_popup_"+e);alertPopupTimeouts[e]=setTimeout(function(){updateAlertPopup("destroy",null,e)},{short:2500,medium:5e3,long:7500}[t.getAttribute("data-duration")]),t.setAttribute("data-expiring",!0)}function updateAlertPopup(e,t,u){let a="create"==e?getTemplate("alert_popup_template"):document.getElementById("alert_popup_"+u),i=document.getElementById("alert_popup_feed"),o=Object.keys(alertPopups).length;function n(e){vishidden(a,!e),a.setAttribute("data-expanded",e),a.setAttribute("aria-expanded",e)}if("create"==e){let e=t.id;if(o<=2&&void 0===alertPopups[e]){let u=o+1,r=getClass(a,"icon").getElementsByTagName("span")[0],l=getClass(a,"title"),p=getClass(a,"description"),s=getClass(a,"actions"),d=getClass(a,"action"),c=getClass(a,"close");alertPopups[e]=u,a.setAttribute("data-duration",t.duration),a.setAttribute("data-unique-id",e),a.id="alert_popup_"+u,a.setAttribute("data-banner-id",u),r.className=t.icon,l.innerHTML=t.title,p.innerHTML=t.description,"object"==typeof t.action?(d.href=t.action.href,d.innerHTML=t.action.text,updateLabel(d,t.action.label),-1==d.href.indexOf("shiftcodes.tk")&&d.setAttribute("rel","external noopener")):s.removeChild(d),"object"==typeof t.close&&(c.innerHTML=t.close.text,updateLabel(c,t.close.label)),a.getElementsByClassName("close")[0].addEventListener("click",function(){updateAlertPopup("destroy",null,u)}),a.addEventListener("mouseover",function(e){"true"==this.getAttribute("data-expanded")&&"inf"!=this.getAttribute("data-duration")&&(clearTimeout(alertPopupTimeouts[u]),a.setAttribute("data-expiring",!1))}),a.addEventListener("mouseout",function(e){"true"==this.getAttribute("data-expanded")&&"inf"!=this.getAttribute("data-duration")&&setAlertPopupTimeout(u)}),n(!0),i.insertAdjacentElement("afterbegin",a),setTimeout(function(){"inf"!=a.getAttribute("data-duration")&&setAlertPopupTimeout(u)},250)}else{void 0===alertPopupQueue[e]&&(alertPopupQueue[e]=t)}}else n(!1),setTimeout(function(){let e=Object.keys(alertPopupQueue);if(delete alertPopups[a.getAttribute("data-unique-id")],i.removeChild(a),e.length>0){let t=e[0];setTimeout(function(){updateAlertPopup("create",alertPopupQueue[t]),delete alertPopupQueue[t]},500)}},350)}