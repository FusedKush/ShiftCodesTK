var alertPopups={},alertPopupTimeouts={},alertPopupQueue={};function setAlertPopupTimeout(e){let t=document.getElementById("alert_popup_"+e);alertPopupTimeouts[e]=setTimeout(function(){updateAlertPopup("destroy",null,e)},{short:2500,medium:5e3,long:7500}[t.getAttribute("data-duration")]),t.setAttribute("data-expiring",!0)}function updateAlertPopup(e,t,a){let u="create"==e?getTemplate("alert_popup_template"):document.getElementById("alert_popup_"+a),i=document.getElementById("alert_popup_feed"),o=Object.keys(alertPopups).length;function n(e){vishidden(u,!e),u.setAttribute("data-expanded",e),u.setAttribute("aria-expanded",e)}if("create"==e){let e=t.id;if(o<=2&&void 0===alertPopups[e]&&!0===loadEventFired){let a=o+1,r=getClass(u,"icon").getElementsByTagName("span")[0],l=getClass(u,"title"),p=getClass(u,"description"),s=getClass(u,"actions"),d=getClass(u,"action"),c=getClass(u,"close");alertPopups[e]=a,u.setAttribute("data-duration",t.duration),u.setAttribute("data-unique-id",e),u.id="alert_popup_"+a,u.setAttribute("data-banner-id",a),r.className=t.icon,l.innerHTML=t.title,p.innerHTML=t.description,"object"==typeof t.action?(d.href=t.action.href,d.innerHTML=t.action.text,updateLabel(d,t.action.label),-1==d.href.indexOf("shiftcodes.tk")&&d.setAttribute("rel","external noopener")):s.removeChild(d),"object"==typeof t.close&&(c.innerHTML=t.close.text,updateLabel(c,t.close.label)),u.getElementsByClassName("close")[0].addEventListener("click",function(){updateAlertPopup("destroy",null,a)}),u.addEventListener("mouseover",function(e){"true"==this.getAttribute("data-expanded")&&"inf"!=this.getAttribute("data-duration")&&(clearTimeout(alertPopupTimeouts[a]),u.setAttribute("data-expiring",!1))}),u.addEventListener("mouseout",function(e){"true"==this.getAttribute("data-expanded")&&"inf"!=this.getAttribute("data-duration")&&setAlertPopupTimeout(a)}),n(!0),i.insertAdjacentElement("afterbegin",u),setTimeout(function(){"inf"!=u.getAttribute("data-duration")&&setAlertPopupTimeout(a)},250)}else{void 0===alertPopupQueue[e]&&(alertPopupQueue[e]=t)}}else n(!1),setTimeout(function(){let e=Object.keys(alertPopupQueue);if(delete alertPopups[u.getAttribute("data-unique-id")],i.removeChild(u),e.length>0){let t=e[0];setTimeout(function(){updateAlertPopup("create",alertPopupQueue[t]),delete alertPopupQueue[t]},500)}},350)}