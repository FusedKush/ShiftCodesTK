var alertPopups={},alertPopupTimeouts={},alertPopupQueue={};function setAlertPopupTimeout(e){let t=document.getElementById("alert_popup_"+e);alertPopupTimeouts[e]=setTimeout(function(){updateAlertPopup("destroy",null,e)},{short:2500,medium:5e3,long:7500}[t.getAttribute("data-duration")]),t.setAttribute("data-expiring",!0)}function updateAlertPopup(e,t,u){let i="create"==e?getTemplate("alert_popup_template"):document.getElementById("alert_popup_"+u),a=document.getElementById("alert_popup_feed"),o=Object.keys(alertPopups).length;function n(e){i.setAttribute("data-expanded",e),i.setAttribute("aria-expanded",e)}if("create"==e){let e=t.id;if(o<=2&&void 0===alertPopups[e]){let u=o+1,p=getClass(i,"icon").getElementsByTagName("span")[0],r=getClass(i,"title"),l=getClass(i,"description"),s=getClass(i,"actions"),d=getClass(i,"action"),c=getClass(i,"close");alertPopups[e]=u,i.setAttribute("data-duration",t.duration),i.setAttribute("data-unique-id",e),i.id="alert_popup_"+u,i.setAttribute("data-banner-id",u),p.className=t.icon,r.innerHTML=t.title,l.innerHTML=t.description,"object"==typeof t.action?(d.href=t.action.href,d.innerHTML=t.action.text,updateLabel(d,t.action.label),-1==d.href.indexOf("shiftcodes.tk")&&d.setAttribute("rel","external noopener")):s.removeChild(d),"object"==typeof t.close&&(c.innerHTML=t.close.text,updateLabel(c,t.close.label)),i.getElementsByClassName("close")[0].addEventListener("click",function(){updateAlertPopup("destroy",null,u)}),i.addEventListener("mouseover",function(e){"true"==this.getAttribute("data-expanded")&&"inf"!=this.getAttribute("data-duration")&&(clearTimeout(alertPopupTimeouts[u]),i.setAttribute("data-expiring",!1))}),i.addEventListener("mouseout",function(e){"true"==this.getAttribute("data-expanded")&&"inf"!=this.getAttribute("data-duration")&&setAlertPopupTimeout(u)}),a.appendChild(i),setTimeout(function(){n(!0),setTimeout(function(){vishidden(i,!1)},125),setTimeout(function(){"inf"!=i.getAttribute("data-duration")&&setAlertPopupTimeout(u)},125)},50)}else{void 0===alertPopupQueue[e]&&(alertPopupQueue[e]=t)}}else n(!1),setTimeout(function(){let e=Object.keys(alertPopupQueue);if(delete alertPopups[i.getAttribute("data-unique-id")],a.removeChild(i),e.length>0){let t=e[0];setTimeout(function(){updateAlertPopup("create",alertPopupQueue[t]),delete alertPopupQueue[t]},500)}},350)}