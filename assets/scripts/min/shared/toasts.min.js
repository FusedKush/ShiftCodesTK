var toasts={ready:!1,active:{},queue:{}};function toastTimeout(t,e){var o=t.id;"set"==e?(addClass(t,"expiring"),toasts.active[o].timeout=setTimeout(function(){toastTimeout(t,"expired")},toasts.active[o].duration)):(clearTimeout(toasts.active[o].timeout),"remove"==e?delClass(t,"expiring"):"expired"==e&&removeToast(t))}function newToast(t){var e,o,s,a={},i=t.template&&"none"!==t.template&&void 0!==t.templates[template]?a[template]:{},n=mergeObj({settings:{id:"toast",duration:"medium",template:"none"},content:{icon:"fas fa-bullhorn",title:"Toast",body:"This is a toast notification."},action:{use:!1,type:"link",link:"#",name:"Action",label:"The Action button"},close:{use:!0,type:"button",name:"Close",label:"Close the toast"}},i,t),d=getTemplate("toast_template"),u={id:n.settings.id,duration:(e=n.settings.duration,o={short:2500,medium:5e3,long:7500},void 0!==o[e]?o[e]:e)},l={progress:getClass(getClass(d,"progress-bar"),"progress"),icon:getClass(d,"icon").childNodes[0],title:getClass(d,"title"),body:getClass(d,"body"),actions:getClass(d,"actions")},r=(document.getElementById("toast_list"),{title:"".concat(u.id,"_title"),body:"".concat(u.id,"_body")});function c(t,e){var o="button"==e.type?document.createElement("button"):document.createElement("a");return addClass(o,t),addClass(o,{button:"styled",link:"button"}[e.type]),o.innerHTML=e.name,updateLabel(o,e.label),"link"==e.type&&(o.href=e.link),l.actions.appendChild(o),o}if(d.id=u.id,l.progress.style.animationDuration="".concat(u.duration,"ms"),addClass(l.icon,n.content.icon),l.title.innerHTML=n.content.title,l.title.id=r.title,d.setAttribute("aria-labelledby",r.title),l.body.innerHTML=n.content.body,l.body.id=r.body,d.setAttribute("aria-describedby",r.body),n.action.use&&c("action",n.action),n.close.use){var m=c("close",n.close);m.setAttribute("aria-controls",u.id),m.addEventListener("click",function(){removeToast(d)})}return"infinite"!=u.duration&&(d.addEventListener("mouseover",toastEvent),d.addEventListener("mouseout",toastEvent),d.addEventListener("click",toastEvent)),s=u.id,void 0===toasts.active[s]&&Object.keys(toasts.active).length<=3&&toasts.ready?(addToast(d,u),d):void 0===toasts.queue[s]&&(toasts.queue[s]={toast:d,settings:u},d)}function addToast(t,e){var o=e.id;toasts.active[o]=e,document.getElementById("toast_list").appendChild(t),vishidden(t,!1),setTimeout(function(){"infinite"!=e.duration&&toastTimeout(t,"set")},200)}function removeToast(s){var a=document.getElementById("toast_list"),i=s.id;toasts.active[i];toastTimeout(s,"remove-timeout"),vishidden(s,!0),setTimeout(function(){var t=Object.keys(toasts.queue);if(a.removeChild(s),delete toasts.active[i],0<t.length){var e=t[0],o=toasts.queue[e];setTimeout(function(){addToast(o.toast,o.settings),delete toasts.queue[t[0]]},500)}},300)}function toastEvent(t){var e=t.type,o=t.currentTarget,s=hasClass(o,"expiring");"mouseover"==e||"click"==e?!0===s&&toastTimeout(o,"remove"):!1===s&&toastTimeout(o,"set")}window.addEventListener("load",function(){var s=Object.keys(toasts.queue);setTimeout(function(){toasts.ready=!0;for(var t=0;t<s.length&&t<=3;t++){var e=s[t],o=toasts.queue[e];addToast(o.toast,o.settings),delete toasts.queue[e]}},2500)});